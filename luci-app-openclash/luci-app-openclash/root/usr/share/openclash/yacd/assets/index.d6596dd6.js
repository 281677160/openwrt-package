var kt=Object.defineProperty,Pt=Object.defineProperties;var Nt=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var fe=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable;var V=(e,t,n)=>t in e?kt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))fe.call(t,n)&&V(e,n,t[n]);if(B)for(var n of B(t))me.call(t,n)&&V(e,n,t[n]);return e},g=(e,t)=>Pt(e,Nt(t));var D=(e,t)=>{var n={};for(var o in e)fe.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&B)for(var o of B(e))t.indexOf(o)<0&&me.call(e,o)&&(n[o]=e[o]);return n};var he=(e,t,n)=>(V(e,typeof t!="symbol"?t+"":t,n),n);import{i as $t,B as At,a as Lt,b as Tt,R as l,s as It,f as Rt,u as Ot,r as s,G as Ut,Q as Bt,c as Dt,d as Mt,e as Ft,g as P,I as jt,E as Wt,h as zt,j as L,k as U,T as Fe,M as je,l as qt,L as We,F as Ht,m as Vt,n as Gt,o as Jt,p as Kt,q as Qt,t as Yt,v as Xt,S as G,w as Zt,x as en,H as tn,y as ze,z as nn}from"./vendor.3cf270b6.js";const on=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}};on();const rn="modulepreload",xe={},sn="./",E=function(t,n){return!n||n.length===0?t():Promise.all(n.map(o=>{if(o=`${sn}${o}`,o in xe)return;xe[o]=!0;const r=o.endsWith(".css"),a=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":rn,r||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),r)return new Promise((i,u)=>{c.addEventListener("load",i),c.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())},ge={zh:E(()=>import("./zh.9b79b7bf.js"),[]),en:E(()=>import("./en.fb34eaf7.js"),[])};$t.use(At).use(Lt).use(Tt).init({debug:!1,backend:{loadPath:"/__{{lng}}/{{ns}}.json",request:function(e,t,n,o){let r;switch(t){case"/__zh/translation.json":case"/__zh-CN/translation.json":r=ge.zh;break;case"/__en/translation.json":default:r=ge.en;break}r&&r.then(a=>{o(null,{status:200,data:a.data})})}},supportedLngs:["en","zh"],fallbackLng:"en",interpolation:{escapeValue:!1}});function an(e,t){let n;return(...o)=>{n&&clearTimeout(n),n=setTimeout(()=>{e(...o)},t)}}function qe(e){return e.replace(/\/$/,"")}function oa(e,t){let n=String(e);for(;n.length<t;)n="0"+n;return n}const cn={"Content-Type":"application/json"};function ln({secret:e}){const t=p({},cn);return e&&(t.Authorization=`Bearer ${e}`),t}function He(e,t,n){const o="?"+t.toString(),r=new URL(e);return r.protocol==="https:"?r.protocol="wss:":r.protocol="ws:",`${qe(r.href)}${n}${o}`}function h({baseURL:e,secret:t}){const n=ln({secret:t});return{url:e,init:{headers:n}}}function Ve(e,t){const{baseURL:n,secret:o}=e,r=new URLSearchParams({token:o});return He(n,r,t)}function ra(e,t){const{baseURL:n,secret:o,logLevel:r}=e,a=new URLSearchParams({token:o,level:r});return He(n,a,t)}async function un(e,t){let n={};try{const{url:o,init:r}=h(t),a=await fetch(o+e,r);a.ok&&(n=await a.json())}catch(o){console.log(`failed to fetch ${e}`,o)}return n}const pn="_root_1o14m_1",dn="_h1_1o14m_7";var ve={root:pn,h1:dn};function fn({title:e}){return l.createElement("div",{className:ve.root},l.createElement("h1",{className:ve.h1},e))}var Ge=l.memo(fn);It(!1);const{createContext:se,memo:mn,useMemo:hn,useRef:xn,useEffect:gn,useCallback:ye,useContext:ee,useState:vn}=l,Je=se(null),Ke=se(null),Qe=se(null);function yn(){return ee(Qe)}function En({initialState:e,actions:t={},children:n}){const o=xn(e),[r,a]=vn(e),c=ye(()=>o.current,[]);gn(()=>{},[c]);const i=ye((d,m)=>{if(typeof d=="function")return d(i,c);const x=Rt(c(),m);x!==o.current&&(o.current=x,a(x))},[c]),u=hn(()=>Ye(t,i),[t,i]);return l.createElement(Je.Provider,{value:r},l.createElement(Ke.Provider,{value:i},l.createElement(Qe.Provider,{value:u},n)))}function w(e){return t=>{const n=mn(t);function o(r){const a=ee(Je),c=ee(Ke),i=e(a,r),u=p(p({dispatch:c},r),i);return l.createElement(n,p({},u))}return o}}function wn(e,t){return function(...n){return t(e.apply(this,n))}}function Ye(e,t){const n={};for(const o in e){const r=e[o];typeof r=="function"?n[o]=wn(r,t):typeof r=="object"&&(n[o]=Ye(r,t))}return n}const Xe="yacd.haishan.me";function _n(){try{const e=localStorage.getItem(Xe);return e?JSON.parse(e):void 0}catch{return}}function N(e){try{const t=JSON.stringify(e);localStorage.setItem(Xe,t)}catch{}}const Ze="/configs";async function et(e){const{url:t,init:n}=h(e);return await fetch(t+Ze,n)}function bn(e){return"socks-port"in e&&(e["socket-port"]=e["socks-port"]),e}async function Cn(e,t){const{url:n,init:o}=h(e),r=JSON.stringify(bn(t));return await fetch(n+Ze,g(p({},o),{body:r,method:"PATCH"}))}const tt="/traffic",Sn=new TextDecoder("utf-8"),M=150,R={labels:Array(M),up:Array(M),down:Array(M),size:M,subscribers:[],appendData(e){this.up.push(e.up),this.down.push(e.down);const t=new Date,n=""+t.getMinutes()+t.getSeconds();this.labels.push(n),this.up.length>this.size&&this.up.shift(),this.down.length>this.size&&this.down.shift(),this.labels.length>this.size&&this.labels.shift(),this.subscribers.forEach(o=>o(e))},subscribe(e){return this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}}};let A=!1,F="";function te(e){R.appendData(JSON.parse(e))}function nt(e){return e.read().then(({done:t,value:n})=>{F+=Sn.decode(n,{stream:!t});const r=F.split(`
`),a=r[r.length-1];for(let c=0;c<r.length-1;c++)te(r[c]);if(t){te(a),F="",console.log("GET /traffic streaming done"),A=!1;return}else F=a;return nt(e)})}let j;function ae(e){if(A||j===1)return R;j=1;const t=Ve(e,tt),n=new WebSocket(t);return n.addEventListener("error",function(o){j=3}),n.addEventListener("close",function(o){j=3,kn(e)}),n.addEventListener("message",function(o){te(o.data)}),R}function kn(e){if(A)return R;A=!0;const{url:t,init:n}=h(e);return fetch(t+tt,n).then(o=>{if(o.ok){const r=o.body.getReader();nt(r)}else A=!1},o=>{console.log("fetch /traffic error",o),A=!1}),R}function Ee(e){return t=>{t(`openModal:${e}`,n=>{n.modals[e]=!0})}}function Pn(e){return t=>{t(`closeModal:${e}`,n=>{n.modals[e]=!1})}}const Nn={apiConfig:!1},sa=e=>e.configs.configs,$n=e=>e.configs.haveFetchedConfig,aa=e=>e.configs.configs["log-level"];function ot(e){return async(t,n)=>{let o;try{o=await et(e)}catch{t(Ee("apiConfig"));return}if(!o.ok){console.log("Error fetch configs",o.statusText),t(Ee("apiConfig"));return}const r=await o.json();t("store/configs#fetchConfigs",c=>{c.configs.configs=r}),$n(n())?ae(e):t(An())}}function An(){return e=>{e("store/configs#markHaveFetchedConfig",t=>{t.configs.haveFetchedConfig=!0})}}function ca(e,t){return async n=>{Cn(e,t).then(o=>{o.ok===!1&&console.log("Error update configs",o.statusText)},o=>{throw console.log("Error update configs",o),o}).then(()=>{n(ot(e))}),n("storeConfigsOptimisticUpdateConfigs",o=>{o.configs.configs=p(p({},o.configs.configs),t)})}}const Ln={configs:{port:7890,"socks-port":7891,"redir-port":0,"allow-lan":!1,mode:"Rule","log-level":"uninit"},haveFetchedConfig:!1},T=e=>{const t=e.app.selectedClashAPIConfigIndex;return e.app.clashAPIConfigs[t]},rt=e=>e.app.selectedClashAPIConfigIndex,ce=e=>e.app.clashAPIConfigs,le=e=>e.app.theme,Tn=e=>e.app.selectedChartStyleIndex,In=e=>e.app.latencyTestUrl,la=e=>e.app.collapsibleIsOpen,ia=e=>e.app.proxySortBy,ua=e=>e.app.hideUnavailableProxies,Rn=e=>e.app.autoCloseOldConns,pa=e=>e.app.logStreamingPaused,On=an(N,600);function ie(e,{baseURL:t,secret:n}){const o=ce(e());for(let r=0;r<o.length;r++){const a=o[r];if(a.baseURL===t&&a.secret===n)return r}}function Un({baseURL:e,secret:t}){return async(n,o)=>{if(ie(o,{baseURL:e,secret:t}))return;const a={baseURL:e,secret:t,addedAt:Date.now()};n("addClashAPIConfig",c=>{c.app.clashAPIConfigs.push(a)}),N(o().app)}}function Bn({baseURL:e,secret:t}){return async(n,o)=>{const r=ie(o,{baseURL:e,secret:t});n("removeClashAPIConfig",a=>{a.app.clashAPIConfigs.splice(r,1)}),N(o().app)}}function Dn({baseURL:e,secret:t}){return async(n,o)=>{const r=ie(o,{baseURL:e,secret:t});rt(o())!==r&&n("selectClashAPIConfig",c=>{c.app.selectedClashAPIConfigIndex=r}),N(o().app);try{window.location.reload()}catch{}}}const J=document.querySelector("html");function st(e="dark"){e==="auto"?J.setAttribute("data-theme","auto"):e==="dark"?J.setAttribute("data-theme","dark"):J.setAttribute("data-theme","light")}function Mn(e="auto"){return(t,n)=>{le(n())!==e&&(st(e),t("storeSwitchTheme",r=>{r.app.theme=e}),N(n().app))}}function Fn(e){return(t,n)=>{t("appSelectChartStyleIndex",o=>{o.app.selectedChartStyleIndex=Number(e)}),N(n().app)}}function we(e,t){return(n,o)=>{n("appUpdateAppConfig",r=>{r.app[e]=t}),N(o().app)}}function jn(e,t,n){return(o,r)=>{o("updateCollapsibleIsOpen",a=>{a.app.collapsibleIsOpen[`${e}:${t}`]=n}),On(r().app)}}var De,Me;const Wn={baseURL:(Me=(De=document.getElementById("app"))==null?void 0:De.getAttribute("data-base-url"))!=null?Me:"http://127.0.0.1:9090",secret:"",addedAt:0},zn={selectedClashAPIConfigIndex:0,clashAPIConfigs:[Wn],latencyTestUrl:"http://www.gstatic.com/generate_204",selectedChartStyleIndex:0,theme:"dark",collapsibleIsOpen:{},proxySortBy:"Natural",hideUnavailableProxies:!1,autoCloseOldConns:!1,logStreamingPaused:!1};function qn(){const{search:e}=window.location,t={};if(typeof e!="string"||e==="")return t;const n=e.replace(/^\?/,"").split("&");for(let o=0;o<n.length;o++){const[r,a]=n[o].split("=");t[r]=encodeURIComponent(a)}return t}function Hn(){let e=_n();e=p(p({},zn),e);const t=qn(),n=e.clashAPIConfigs[e.selectedClashAPIConfigIndex];if(n){const o=new URL(n.baseURL);t.hostname&&(t.hostname.indexOf("http")===0?o.href=decodeURIComponent(t.hostname):o.hostname=t.hostname),t.port&&(o.port=t.port),n.baseURL=qe(o.href),t.secret&&(n.secret=t.secret)}return(t.theme==="dark"||t.theme==="light")&&(e.theme=t.theme),st(e.theme),e}const Vn="_root_dn70c_1",Gn="_mono_dn70c_10",Jn="_link_dn70c_14";var K={root:Vn,mono:Gn,link:Jn};function _e({name:e,link:t,version:n}){return s.exports.createElement("div",{className:K.root},s.exports.createElement("h2",null,e),s.exports.createElement("p",null,s.exports.createElement("span",null,"Version "),s.exports.createElement("span",{className:K.mono},n)),s.exports.createElement("p",null,s.exports.createElement("a",{className:K.link,href:t,target:"_blank",rel:"noopener noreferrer"},s.exports.createElement(Ut,{size:20}),s.exports.createElement("span",null,"Source"))))}function Kn(e){const{data:t}=Ot(["/version",e.apiConfig],()=>un("/version",e.apiConfig));return s.exports.createElement(s.exports.Fragment,null,s.exports.createElement(Ge,{title:"About"}),t&&t.version?s.exports.createElement(_e,{name:"Clash",version:t.version,link:"https://github.com/Dreamacro/clash"}):null,s.exports.createElement(_e,{name:"Yacd",version:"0.3.4",link:"https://github.com/haishanh/yacd"}))}const Qn=e=>({apiConfig:T(e)}),Yn=w(Qn)(Kn),Xn="_loading_74j3j_1",Zn="_spinner_74j3j_9",eo="_rotate_74j3j_1";var be={loading:Xn,spinner:Zn,rotate:eo};const at=({height:e})=>{const t=e?{height:e}:{};return l.createElement("div",{className:be.loading,style:t},l.createElement("div",{className:be.spinner}))},to=e=>({apiConfig:T(e),apiConfigs:ce(e)});function no({apiConfig:e,apiConfigs:t}){return s.exports.useEffect(()=>{let n="yacd";if(t.length>1)try{n=`${new URL(e.baseURL).host} - yacd`}catch{}document.title=n}),s.exports.createElement(s.exports.Fragment,null)}const oo=w(to)(no),ro=new Bt,so=new Dt({queryCache:ro,defaultOptions:{queries:{suspense:!0}}}),ne=300,ct=e=>e.logs.logs,lt=e=>e.logs.tail,ao=e=>e.logs.searchText,da=Mt(ct,lt,ao,(e,t,n)=>{const o=[];for(let r=t;r>=0;r--)o.push(e[r]);if(e.length===ne)for(let r=ne-1;r>t;r--)o.push(e[r]);return n===""?o:o.filter(r=>r.payload.toLowerCase().indexOf(n)>=0)});function fa(e){return t=>{t("logsUpdateSearchText",n=>{n.logs.searchText=e.toLowerCase()})}}function ma(e){return(t,n)=>{const o=n(),r=ct(o),a=lt(o),c=a>=ne-1?0:a+1;r[c]=e,t("logsAppendLog",i=>{i.logs.tail=c})}}const co={searchText:"",logs:[],tail:-1},H="/connections",z=[];function lo(e){let t;try{t=JSON.parse(e)}catch{console.log("JSON.parse error",JSON.parse(e))}z.forEach(n=>n(t))}let Q;function io(e,t){if(Q===1&&t)return Ce(t);Q=1;const n=Ve(e,H),o=new WebSocket(n);if(o.addEventListener("error",()=>Q=3),o.addEventListener("message",r=>lo(r.data)),t)return Ce(t)}function Ce(e){return z.push(e),function(){const n=z.indexOf(e);z.splice(n,1)}}async function ha(e){const{url:t,init:n}=h(e);return await fetch(t+H,g(p({},n),{method:"DELETE"}))}async function uo(e){const{url:t,init:n}=h(e);return await fetch(t+H,p({},n))}async function po(e,t){const{url:n,init:o}=h(e),r=`${n}${H}/${t}`;return await fetch(r,g(p({},o),{method:"DELETE"}))}const ue="/proxies";async function fo(e){const{url:t,init:n}=h(e);return await(await fetch(t+ue,n)).json()}async function mo(e,t,n){const o={name:n},{url:r,init:a}=h(e),c=`${r}${ue}/${t}`;return await fetch(c,g(p({},a),{method:"PUT",body:JSON.stringify(o)}))}async function ho(e,t,n="http://www.gstatic.com/generate_204"){const{url:o,init:r}=h(e),a=`timeout=5000&url=${n}`,c=`${o}${ue}/${encodeURIComponent(t)}/delay?${a}`;return await fetch(c,r)}async function xo(e){const{url:t,init:n}=h(e),o=await fetch(t+"/providers/proxies",n);return o.status===404?{providers:{}}:await o.json()}async function it(e,t){const{url:n,init:o}=h(e),r=g(p({},o),{method:"PUT"});return await fetch(n+"/providers/proxies/"+t,r)}async function go(e,t){const{url:n,init:o}=h(e),r=g(p({},o),{method:"GET"});return await fetch(n+"/providers/proxies/"+t+"/healthcheck",r)}const vo={proxies:{},delay:{},groupNames:[],showModalClosePrevConns:!1},ut=()=>null,yo=["Direct","Fallback","Reject","Selector","URLTest","LoadBalance","Unknown"],Eo=e=>e.proxies.proxies,pt=e=>e.proxies.delay,xa=e=>e.proxies.groupNames,wo=e=>e.proxies.proxyProviders||[],dt=e=>e.proxies.dangleProxyNames,ga=e=>e.proxies.showModalClosePrevConns;function I(e){return async(t,n)=>{const[o,r]=await Promise.all([fo(e),xo(e)]),{providers:a,proxies:c}=$o(r.providers),i=p(p({},c),o.proxies),[u,d]=No(i),m=pt(n()),x=p({},m);for(let f=0;f<d.length;f++){const v=d[f],{history:_}=i[v]||{history:[]},b=_[_.length-1];b&&typeof b.delay=="number"&&(x[v]={number:b.delay})}const S=[];for(const f of d)c[f]||S.push(f);t("store/proxies#fetchProxies",f=>{f.proxies.proxies=i,f.proxies.groupNames=u,f.proxies.delay=x,f.proxies.proxyProviders=a,f.proxies.dangleProxyNames=S})}}function va(e,t){return async n=>{try{await it(e,t)}catch{}n(I(e))}}function ya(e,t){return async n=>{for(let o=0;o<t.length;o++)try{await it(e,t[o])}catch{}n(I(e))}}async function ft(e,t){try{await go(e,t)}catch{}}function Ea(e,t){return async n=>{await ft(e,t),await n(I(e))}}async function _o(e,t,n){const o=await uo(e);o.ok||console.log("unable to fetch all connections",o.statusText);const a=(await o.json()).connections,c=[];for(const i of a)i.chains.indexOf(t)>-1&&i.chains.indexOf(n)<0&&c.push(i.id);await Promise.all(c.map(i=>po(e,i).catch(ut)))}function bo(e,t,n){const o=[n,t];let r,a=n;for(;(r=e[a])&&r.now;)o.unshift(r.now),a=r.now;return o}async function Co(e,t,n,o,r){try{if((await mo(n,o,r)).ok===!1)throw new Error("failed to switch proxy: res.statusText")}catch(c){throw console.log(c,"failed to swith proxy"),c}if(e(I(n)),Rn(t())){const c=Eo(t());ht(n,c,{groupName:o,itemName:r})}}function mt(){return e=>{e("closeModalClosePrevConns",t=>{t.proxies.showModalClosePrevConns=!1})}}function ht(e,t,n){const o=bo(t,n.groupName,n.itemName);_o(e,n.groupName,o[0])}function So(e){return async(t,n)=>{var c;const o=n(),r=(c=o.proxies.switchProxyCtx)==null?void 0:c.to;if(!r){t(mt());return}const a=o.proxies.proxies;ht(e,a,r),t("closePrevConnsAndTheModal",i=>{i.proxies.showModalClosePrevConns=!1,i.proxies.switchProxyCtx=void 0})}}function wa(e,t,n){return async(o,r)=>{Co(o,r,e,t,n).catch(ut),o("store/proxies#switchProxy",a=>{const c=a.proxies.proxies;c[t]&&c[t].now&&(c[t].now=n)})}}function ko(e,t){return async(n,o)=>{const r=In(o()),a=await ho(e,t,r);let c="";a.ok===!1&&(c=a.statusText);const{delay:i}=await a.json(),u=pt(o()),d=g(p({},u),{[t]:{error:c,number:i}});n("requestDelayForProxyOnce",m=>{m.proxies.delay=d})}}function xt(e,t){return async n=>{await n(ko(e,t))}}function Po(e,t){return async(n,o)=>{const r=dt(o()),a=t.filter(c=>r.indexOf(c)>-1).map(c=>n(xt(e,c)));await Promise.all(a),await n(I(e))}}function _a(e){return async(t,n)=>{const o=dt(n());await Promise.all(o.map(a=>t(xt(e,a))));const r=wo(n());for(const a of r)await ft(e,a.name);await t(I(e))}}function No(e){let t=[],n;const o=[];for(const r in e){const a=e[r];a.all&&Array.isArray(a.all)?(t.push(r),r==="GLOBAL"&&(n=a.all)):yo.indexOf(a.type)<0&&o.push(r)}return n&&(n.push("GLOBAL"),t=t.map(r=>[n.indexOf(r),r]).sort((r,a)=>r[0]-a[0]).map(r=>r[1])),[t,o]}function $o(e){const t=Object.keys(e),n=[],o={};for(let r=0;r<t.length;r++){const a=e[t[r]];if(a.name==="default"||a.vehicleType==="Compatible")continue;const c=a.proxies,i=[];for(let u=0;u<c.length;u++){const d=c[u];o[d.name]=d,i.push(d.name)}a.proxies=i,n.push(a)}return{providers:n,proxies:o}}const Ao={requestDelayForProxies:Po,closeModalClosePrevConns:mt,closePrevConnsAndTheModal:So},ba=Ft({key:"proxyFilterText",default:""}),Lo={app:Hn(),modals:Nn,configs:Ln,proxies:vo,logs:co},To={selectChartStyleIndex:Fn,updateAppConfig:we,app:{updateCollapsibleIsOpen:jn,updateAppConfig:we,removeClashAPIConfig:Bn,selectClashAPIConfig:Dn},proxies:Ao},{useState:Io,useCallback:Ro}=l;function Oo(e=!1){const[t,n]=Io(e),o=Ro(()=>n(r=>!r),[]);return[t,o]}const Uo="_ul_1d6f2_1",Bo="_li_1d6f2_10",Do="_close_1d6f2_28",Mo="_eye_1d6f2_36",Fo="_hasSecret_1d6f2_45",jo="_url_1d6f2_50",Wo="_secret_1d6f2_54",zo="_btn_1d6f2_72";var y={ul:Uo,li:Bo,close:Do,eye:Mo,hasSecret:Fo,url:jo,secret:Wo,btn:zo};const qo=e=>({apiConfigs:ce(e),selectedClashAPIConfigIndex:rt(e)}),Ho=w(qo)(Vo);function Vo({apiConfigs:e,selectedClashAPIConfigIndex:t}){const{app:{removeClashAPIConfig:n,selectClashAPIConfig:o}}=yn(),r=s.exports.useCallback(c=>{n(c)},[n]),a=s.exports.useCallback(c=>{o(c)},[o]);return s.exports.createElement(s.exports.Fragment,null,s.exports.createElement("ul",{className:y.ul},e.map((c,i)=>s.exports.createElement("li",{className:P(y.li,{[y.hasSecret]:c.secret,[y.isSelected]:i===t}),key:c.baseURL+c.secret},s.exports.createElement(Go,{disableRemove:i===t,baseURL:c.baseURL,secret:c.secret,onRemove:r,onSelect:a})))))}function Go({baseURL:e,secret:t,disableRemove:n,onRemove:o,onSelect:r}){const[a,c]=Oo(),i=a?Wt:zt,u=s.exports.useCallback(d=>{d.stopPropagation()},[]);return s.exports.createElement(s.exports.Fragment,null,s.exports.createElement(Se,{disabled:n,onClick:()=>o({baseURL:e,secret:t}),className:y.close},s.exports.createElement(jt,{size:20})),s.exports.createElement("span",{className:y.url,tabIndex:0,role:"button",onClick:()=>r({baseURL:e,secret:t}),onKeyUp:u},e),s.exports.createElement("span",null),t?s.exports.createElement(s.exports.Fragment,null,s.exports.createElement("span",{className:y.secret},a?t:"***"),s.exports.createElement(Se,{onClick:c,className:y.eye},s.exports.createElement(i,{size:20}))):null)}function Se({children:e,onClick:t,className:n,disabled:o}){return s.exports.createElement("button",{disabled:o,className:P(n,y.btn),onClick:t},e)}const Jo="_root_zwtea_1",Ko="_header_zwtea_5",Qo="_icon_zwtea_10",Yo="_body_zwtea_20",Xo="_hostnamePort_zwtea_24",Zo="_error_zwtea_36",er="_footer_zwtea_42";var k={root:Jo,header:Ko,icon:Qo,body:Yo,hostnamePort:Xo,error:Zo,footer:er};const tr="_btn_1h2nv_1",nr="_minimal_1h2nv_34",or="_btnStart_1h2nv_51",rr="_loadingContainer_1h2nv_58";var q={btn:tr,minimal:nr,btnStart:or,loadingContainer:rr};const sr="_sectionNameType_8lri2_1",ar="_loadingDot_8lri2_66",cr="_dot2_8lri2_1",lr="_dot1_8lri2_1",ir="_dot3_8lri2_1";var gt={sectionNameType:sr,loadingDot:ar,dot2:cr,dot1:lr,dot3:ir};function Ca({name:e,type:t}){return l.createElement("h2",{className:gt.sectionNameType},l.createElement("span",null,e),l.createElement("span",null,t))}function ur(){return l.createElement("span",{className:gt.loadingDot})}const{forwardRef:pr,useCallback:dr}=L;function fr(e,t){const _=e,{onClick:n,disabled:o=!1,isLoading:r,kind:a="primary",className:c,children:i,label:u,text:d,start:m}=_,x=D(_,["onClick","disabled","isLoading","kind","className","children","label","text","start"]),S={children:i,label:u,text:d,start:m},f=dr(b=>{r||n&&n(b)},[r,n]),v=P(q.btn,{[q.minimal]:a==="minimal"},c);return s.exports.createElement("button",p({className:v,ref:t,onClick:f,disabled:o},x),r?s.exports.createElement(s.exports.Fragment,null,s.exports.createElement("span",{style:{display:"inline-flex",opacity:0}},s.exports.createElement(ke,p({},S))),s.exports.createElement("span",{className:q.loadingContainer},s.exports.createElement(ur,null))):s.exports.createElement(ke,p({},S)))}function ke({children:e,label:t,text:n,start:o}){return s.exports.createElement(s.exports.Fragment,null,o?s.exports.createElement("span",{className:q.btnStart},typeof o=="function"?o():o):null,e||t||n)}var mr=pr(fr);const hr="_root_1or8t_1",xr="_floatAbove_1or8t_32";var Pe={root:hr,floatAbove:xr};const{useCallback:gr}=L;function Ne(a){var c=a,{id:e,label:t,value:n,onChange:o}=c,r=D(c,["id","label","value","onChange"]);const i=gr(u=>o(u),[o]);return s.exports.createElement("div",{className:Pe.root},s.exports.createElement("input",p({id:e,value:n,onChange:i},r)),s.exports.createElement("label",{htmlFor:e,className:Pe.floatAbove},t))}const vr="_path_r8pm3_1",yr="_dash_r8pm3_1";var Er={path:vr,dash:yr};function pe({width:e=320,height:t=320,animate:n=!1,c0:o="currentColor",stroke:r="#eee",eye:a="#eee",mouth:c="#eee"}){const i=P({[Er.path]:n});return s.exports.createElement("svg",{width:e,height:t,viewBox:"0 0 320 320",xmlns:"http://www.w3.org/2000/svg"},s.exports.createElement("g",{fill:"none",fillRule:"evenodd"},s.exports.createElement("path",{d:"M71.689 53.055c9.23-1.487 25.684 27.263 41.411 56.663 18.572-8.017 71.708-7.717 93.775 0 4.714-15.612 31.96-57.405 41.626-56.663 3.992.088 13.07 31.705 23.309 94.96 2.743 16.949 7.537 47.492 14.38 91.63-42.339 17.834-84.37 26.751-126.095 26.751-41.724 0-83.756-8.917-126.095-26.751C52.973 116.244 65.536 54.047 71.689 53.055z",stroke:r,strokeWidth:"4",strokeLinecap:"round",fill:o,className:i}),s.exports.createElement("circle",{fill:a,cx:"216.5",cy:"181.5",r:"14.5"}),s.exports.createElement("circle",{fill:a,cx:"104.5",cy:"181.5",r:"14.5"}),s.exports.createElement("g",{stroke:c,strokeLinecap:"round",strokeWidth:"4"},s.exports.createElement("path",{d:"M175.568 218.694c-2.494 1.582-5.534 2.207-8.563 1.508-3.029-.7-5.487-2.594-7.035-5.11M143.981 218.694c2.494 1.582 5.534 2.207 8.563 1.508 3.03-.7 5.488-2.594 7.036-5.11"}))))}const{useState:Y,useRef:$e,useCallback:X,useEffect:wr}=L,vt=0,_r=e=>({apiConfig:T(e)});function br({dispatch:e}){const[t,n]=Y(""),[o,r]=Y(""),[a,c]=Y(""),i=$e(!1),u=$e(null),d=X(f=>{i.current=!0,c("");const v=f.target,{name:_}=v,b=v.value;switch(_){case"baseURL":n(b);break;case"secret":r(b);break;default:throw new Error(`unknown input name ${_}`)}},[]),m=X(()=>{Cr({baseURL:t,secret:o}).then(f=>{f[0]!==vt?c(f[1]):e(Un({baseURL:t,secret:o}))})},[t,o,e]),x=X(f=>{f.target instanceof Element&&(!f.target.tagName||f.target.tagName.toUpperCase()!=="INPUT")||f.key==="Enter"&&m()},[m]),S=async()=>{(await fetch("/")).json().then(v=>{v.hello==="clash"&&n(window.location.origin)})};return wr(()=>{S()},[]),s.exports.createElement("div",{className:k.root,ref:u,onKeyDown:x},s.exports.createElement("div",{className:k.header},s.exports.createElement("div",{className:k.icon},s.exports.createElement(pe,{width:160,height:160,stroke:"var(--stroke)"}))),s.exports.createElement("div",{className:k.body},s.exports.createElement("div",{className:k.hostnamePort},s.exports.createElement(Ne,{id:"baseURL",name:"baseURL",label:"API Base URL",type:"text",placeholder:"http://127.0.0.1:9090",value:t,onChange:d}),s.exports.createElement(Ne,{id:"secret",name:"secret",label:"Secret(optional)",value:o,type:"text",onChange:d}))),s.exports.createElement("div",{className:k.error},a||null),s.exports.createElement("div",{className:k.footer},s.exports.createElement(mr,{label:"Add",onClick:m})),s.exports.createElement("div",{style:{height:20}}),s.exports.createElement(Ho,null))}var yt=w(_r)(br);async function Cr(e){try{new URL(e.baseURL)}catch{if(e.baseURL){const n=e.baseURL.substring(0,7);if(n!=="http://"&&n!=="https:/")return[1,"Must starts with http:// or https://"]}return[1,"Invalid URL"]}try{const t=await et(e);return t.status>399?[1,t.statusText]:[vt]}catch{return[1,"Failed to connect"]}}function Sr(e){let t={};const n={},o={};function r(u="default"){return n[u]=e(u).then(d=>{delete n[u],t[u]=d}).catch(d=>{o[u]=d}),n[u]}function a(u="default"){t[u]!==void 0||n[u]||r(u)}function c(u="default"){if(t[u]!==void 0)return t[u];throw o[u]?o[u]:n[u]?n[u]:r(u)}function i(u){u?delete t[u]:t={}}return{preload:a,read:c,clear:i}}const de=Sr(()=>E(()=>import("./index.efbdc345.js"),["assets/index.efbdc345.js","assets/vendor.3cf270b6.js"])),kr="_iconWrapper_j5g33_1",Pr="_themeSwitchContainer_j5g33_23";var Ae={iconWrapper:kr,themeSwitchContainer:Pr};function Nr({theme:e,dispatch:t}){const{t:n}=U(),o=s.exports.useMemo(()=>{switch(e){case"dark":return s.exports.createElement(Le,null);case"auto":return s.exports.createElement(Ar,null);case"light":return s.exports.createElement($r,null);default:return console.assert(!1,"Unknown theme"),s.exports.createElement(Le,null)}},[e]),r=s.exports.useCallback(a=>t(Mn(a.target.value)),[t]);return s.exports.createElement(Fe,{label:n("switch_theme"),"aria-label":"switch theme"},s.exports.createElement("div",{className:Ae.themeSwitchContainer},s.exports.createElement("span",{className:Ae.iconWrapper},o),s.exports.createElement("select",{onChange:r},s.exports.createElement("option",{value:"auto"},"Auto"),s.exports.createElement("option",{value:"dark"},"Dark"),s.exports.createElement("option",{value:"light"},"Light"))))}function Le(){const t=de.read().motion;return s.exports.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s.exports.createElement(t.path,{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z",initial:{rotate:-30},animate:{rotate:0},transition:{duration:.7}}))}function $r(){const t=de.read().motion;return s.exports.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s.exports.createElement("circle",{cx:"12",cy:"12",r:"5"}),s.exports.createElement(t.g,{initial:{scale:.7},animate:{scale:1},transition:{duration:.5}},s.exports.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),s.exports.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),s.exports.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),s.exports.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),s.exports.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),s.exports.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),s.exports.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),s.exports.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})))}function Ar(){const t=de.read().motion;return s.exports.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s.exports.createElement("circle",{cx:"12",cy:"12",r:"11"}),s.exports.createElement("clipPath",{id:"cut-off-bottom"},s.exports.createElement(t.rect,{x:"12",y:"0",width:"12",height:"24",initial:{rotate:-30},animate:{rotate:0},transition:{duration:.7}})),s.exports.createElement("circle",{cx:"12",cy:"12",r:"6",clipPath:"url(#cut-off-bottom)",fill:"currentColor"}))}const Lr=e=>({theme:le(e)}),Et=w(Lr)(Nr),oe=0,re={[oe]:{message:"Browser not supported!",detail:'This browser does not support "fetch", please choose another one.'},default:{message:"Oops, something went wrong!"}};function Tr(e){const{code:t}=e;return typeof t=="number"?re[t]:re.default}const Ir="_content_b98hm_1",Rr="_container_b98hm_16",Or="_overlay_b98hm_22",Ur="_fixed_b98hm_26";var W={content:Ir,container:Rr,overlay:Or,fixed:Ur};const Br="_overlay_85t19_1",Dr="_content_85t19_11";var Te={overlay:Br,content:Dr};function Mr(c){var i=c,{isOpen:e,onRequestClose:t,className:n,overlayClassName:o,children:r}=i,a=D(i,["isOpen","onRequestClose","className","overlayClassName","children"]);const u=P(n,Te.content),d=P(o,Te.overlay);return s.exports.createElement(je,p({isOpen:e,onRequestClose:t,className:u,overlayClassName:d},a),r)}var Fr=s.exports.memo(Mr);const{useCallback:jr,useEffect:Wr}=L;function zr({dispatch:e,apiConfig:t,modals:n}){if(!window.fetch){const{detail:r}=re[oe],a=new Error(r);throw a.code=oe,a}const o=jr(()=>{e(Pn("apiConfig"))},[e]);return Wr(()=>{e(ot(t))},[e,t]),s.exports.createElement(Fr,{isOpen:n.apiConfig,className:W.content,overlayClassName:W.overlay,shouldCloseOnOverlayClick:!1,shouldCloseOnEsc:!1,onRequestClose:o},s.exports.createElement("div",{className:W.container},s.exports.createElement(yt,null)),s.exports.createElement("div",{className:W.fixed},s.exports.createElement(Et,null)))}const qr=e=>({modals:e.modals,apiConfig:T(e)});var Hr=w(qr)(zr);const Vr="_root_4m2cd_1",Gr="_yacd_4m2cd_14",Jr="_link_4m2cd_23";var Z={root:Vr,yacd:Gr,link:Jr};function Kr({width:e=24,height:t=24}={}){return l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l.createElement("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}))}const Qr="https://github.com/haishanh/yacd/issues";function Yr({message:e,detail:t}){return l.createElement("div",{className:Z.root},l.createElement("div",{className:Z.yacd},l.createElement(pe,{width:150,height:150})),e?l.createElement("h1",null,e):null,t?l.createElement("p",null,t):null,l.createElement("p",null,l.createElement("a",{className:Z.link,href:Qr},l.createElement(Kr,{width:16,height:16}),"haishanh/yacd")))}class Xr extends s.exports.Component{constructor(){super(...arguments);he(this,"state",{error:null})}static getDerivedStateFromError(t){return{error:t}}render(){if(this.state.error){const{message:t,detail:n}=Tr(this.state.error);return s.exports.createElement(Yr,{message:t,detail:n})}else return this.props.children}}const Zr="_root_ecp08_1";var Ie={root:Zr};const Re=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];function O(e){if(e<1e3)return e+" B";const t=Math.min(Math.floor(Math.log10(e)/3),Re.length-1);e=Number((e/Math.pow(1e3,t)).toPrecision(3));const n=Re[t];return e+" "+n}const es=qt.exports.unstable_createResource(()=>E(()=>import("./Chart.min.708e0ec0.js").then(function(e){return e.C}),["assets/Chart.min.708e0ec0.js","assets/vendor.3cf270b6.js"]).then(e=>e.default)),Oe={borderWidth:1,lineTension:0,pointRadius:0},ts={responsive:!0,maintainAspectRatio:!0,title:{display:!1},legend:{display:!0,position:"top",labels:{fontColor:"#ccc",boxWidth:20}},tooltips:{enabled:!1,mode:"index",intersect:!1,animationDuration:100},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!1,gridLines:{display:!1}}],yAxes:[{display:!0,gridLines:{display:!0,color:"#555",borderDash:[3,6],drawBorder:!1},ticks:{callback(e){return O(e)+"/s "}}}]}},Ue=[{down:{backgroundColor:"rgba(176, 209, 132, 0.8)",borderColor:"rgb(176, 209, 132)"},up:{backgroundColor:"rgba(181, 220, 231, 0.8)",borderColor:"rgb(181, 220, 231)"}},{up:{backgroundColor:"rgb(98, 190, 100)",borderColor:"rgb(78,146,79)"},down:{backgroundColor:"rgb(160, 230, 66)",borderColor:"rgb(110, 156, 44)"}},{up:{backgroundColor:"rgba(94, 175, 223, 0.3)",borderColor:"rgb(94, 175, 223)"},down:{backgroundColor:"rgba(139, 227, 195, 0.3)",borderColor:"rgb(139, 227, 195)"}},{up:{backgroundColor:"rgba(242, 174, 62, 0.3)",borderColor:"rgb(242, 174, 62)"},down:{backgroundColor:"rgba(69, 154, 248, 0.3)",borderColor:"rgb(69, 154, 248)"}}],{useEffect:ns}=l,os=ts;function rs(e,t,n,o,r={}){ns(()=>{const a=document.getElementById(t).getContext("2d"),c=new e(a,{type:"line",data:n,options:p(p({},os),r)}),i=o&&o.subscribe(()=>c.update());return()=>{i&&i(),c.destroy()}},[e,t,n,o,r])}const{useMemo:ss}=L,as={position:"relative",maxWidth:1e3},cs=e=>({apiConfig:T(e),selectedChartStyleIndex:Tn(e)});var ls=w(cs)(is);function is({apiConfig:e,selectedChartStyleIndex:t}){const n=es.read(),o=ae(e),{t:r}=U(),a=ss(()=>({labels:o.labels,datasets:[g(p(p({},Oe),Ue[t].up),{label:r("Up"),data:o.up}),g(p(p({},Oe),Ue[t].down),{label:r("Down"),data:o.down})]}),[o,t,r]);return rs(n,"trafficChart",a,o),s.exports.createElement("div",{style:as},s.exports.createElement("canvas",{id:"trafficChart"}))}const us="_TrafficNow_1wdp6_1",ps="_sec_1wdp6_7";var $={TrafficNow:us,sec:ps};const{useState:wt,useEffect:_t,useCallback:ds}=L,fs=e=>({apiConfig:T(e)});var ms=w(fs)(hs);function hs({apiConfig:e}){const{t}=U(),{upStr:n,downStr:o}=xs(e),{upTotal:r,dlTotal:a,connNumber:c}=gs(e);return s.exports.createElement("div",{className:$.TrafficNow},s.exports.createElement("div",{className:$.sec},s.exports.createElement("div",null,t("Upload")),s.exports.createElement("div",null,n)),s.exports.createElement("div",{className:$.sec},s.exports.createElement("div",null,t("Download")),s.exports.createElement("div",null,o)),s.exports.createElement("div",{className:$.sec},s.exports.createElement("div",null,t("Upload Total")),s.exports.createElement("div",null,r)),s.exports.createElement("div",{className:$.sec},s.exports.createElement("div",null,t("Download Total")),s.exports.createElement("div",null,a)),s.exports.createElement("div",{className:$.sec},s.exports.createElement("div",null,t("Active Connections")),s.exports.createElement("div",null,c)))}function xs(e){const[t,n]=wt({upStr:"0 B/s",downStr:"0 B/s"});return _t(()=>ae(e).subscribe(o=>n({upStr:O(o.up)+"/s",downStr:O(o.down)+"/s"})),[e]),t}function gs(e){const[t,n]=wt({upTotal:"0 B",dlTotal:"0 B",connNumber:0}),o=ds(({downloadTotal:r,uploadTotal:a,connections:c})=>{n({upTotal:O(a),dlTotal:O(r),connNumber:c.length})},[n]);return _t(()=>io(e,o),[e,o]),t}function vs(){const{t:e}=U();return l.createElement("div",null,l.createElement(Ge,{title:e("Overview")}),l.createElement("div",{className:Ie.root},l.createElement("div",null,l.createElement(ms,null)),l.createElement("div",{className:Ie.chart},l.createElement(s.exports.Suspense,{fallback:l.createElement(at,{height:"200px"})},l.createElement(ls,null)))))}const ys="_lo_pmly2_1";var Es={lo:ys};function ws(){return l.createElement("div",{className:Es.lo},l.createElement(pe,{width:280,height:280,animate:!0,c0:"transparent",c1:"#646464"}))}const _s="_app_1q2jw_1",bs="_content_1q2jw_17";var bt={app:_s,content:bs};const Cs="_root_wh224_1",Ss="_logoPlaceholder_wh224_7",ks="_rows_wh224_17",Ps="_row_wh224_17",Ns="_rowActive_wh224_54",$s="_label_wh224_64",As="_footer_wh224_80",Ls="_iconWrapper_wh224_92";var C={root:Cs,logoPlaceholder:Ss,rows:ks,row:Ps,rowActive:Ns,label:$s,footer:As,iconWrapper:Ls};const Ts={activity:Ht,globe:Vt,command:Gt,file:Jt,settings:Kt,link:Qt},Is=s.exports.memo(function({isActive:t,to:n,iconId:o,labelText:r}){const a=Ts[o],c=P(C.row,t?C.rowActive:null);return s.exports.createElement(We,{to:n,className:c},s.exports.createElement(a,null),s.exports.createElement("div",{className:C.label},r))}),Rs=[{to:"/",iconId:"activity",labelText:"Overview"},{to:"/proxies",iconId:"globe",labelText:"Proxies"},{to:"/rules",iconId:"command",labelText:"Rules"},{to:"/connections",iconId:"link",labelText:"Conns"},{to:"/configs",iconId:"settings",labelText:"Config"},{to:"/logs",iconId:"file",labelText:"Logs"}];function Os(){const{t:e}=U(),t=Yt();return s.exports.createElement("div",{className:C.root},s.exports.createElement("div",{className:C.logoPlaceholder}),s.exports.createElement("div",{className:C.rows},Rs.map(({to:n,iconId:o,labelText:r})=>s.exports.createElement(Is,{key:n,to:n,isActive:t.pathname===n,iconId:o,labelText:e(r)}))),s.exports.createElement("div",{className:C.footer},s.exports.createElement(Et,null),s.exports.createElement(Fe,{label:e("about")},s.exports.createElement(We,{to:"/about",className:C.iconWrapper},s.exports.createElement(Xt,{size:20})))))}const Us="_input_4ejw0_1";var Sa={input:Us};const Bs=G.default?G.default:G;function Ds({checked:e=!1,onChange:t,theme:n,name:o}){const r=n==="dark"?"#393939":"#e9e9e9";return l.createElement(Bs,{onChange:t,checked:e,uncheckedIcon:!1,checkedIcon:!1,offColor:r,onColor:"#047aff",offHandleColor:"#fff",onHandleColor:"#fff",handleDiameter:24,height:28,width:44,className:"rs",name:o})}var ka=w(e=>({theme:le(e)}))(Ds);const Ms="_ToggleSwitch_10mtp_1",Fs="_slider_10mtp_28";var Be={ToggleSwitch:Ms,slider:Fs};function js({options:e,value:t,name:n,onChange:o}){const r=s.exports.useMemo(()=>e.map(i=>i.value).indexOf(t),[e,t]),a=s.exports.useCallback(i=>{const u=Math.floor(100/e.length);if(i===e.length-1)return 100-e.length*u+u;if(i>-1)return u},[e]),c=s.exports.useMemo(()=>({width:a(r)+"%",left:r*a(0)+"%"}),[r,a]);return l.createElement("div",{className:Be.ToggleSwitch},l.createElement("div",{className:Be.slider,style:c}),e.map((i,u)=>{const d=`${n}-${i.label}`,m=u===0?"":"border-left";return l.createElement("label",{htmlFor:d,key:d,className:m,style:{width:a(u)+"%"}},l.createElement("input",{id:d,name:n,type:"radio",value:i.value,checked:t===i.value,onChange:o}),l.createElement("div",null,i.label))}))}l.memo(js);const Ws=s.exports.lazy(()=>E(()=>import("./Connections.5e0f762d.js"),["assets/Connections.5e0f762d.js","assets/Connections.c7e8fa7e.css","assets/vendor.3cf270b6.js","assets/useRemainingViewPortHeight.91bbcf1d.js","assets/index.afdc8976.js","assets/Fab.78b2c04b.js","assets/Fab.33a60e0e.css"])),zs=s.exports.lazy(()=>E(()=>import("./Config.72936d5e.js"),["assets/Config.72936d5e.js","assets/Config.58870520.css","assets/vendor.3cf270b6.js","assets/logs.8963bea3.js","assets/Select.9583f722.js","assets/Select.9a98fc65.css"])),qs=s.exports.lazy(()=>E(()=>import("./Logs.e13d481f.js"),["assets/Logs.e13d481f.js","assets/Logs.029b1e0c.css","assets/vendor.3cf270b6.js","assets/index.esm.5b55aaed.js","assets/logs.8963bea3.js","assets/debounce.76599460.js","assets/useRemainingViewPortHeight.91bbcf1d.js","assets/Fab.78b2c04b.js","assets/Fab.33a60e0e.css"])),Hs=s.exports.lazy(()=>E(()=>import("./Proxies.f41466fa.js"),["assets/Proxies.f41466fa.js","assets/Proxies.e1ed6325.css","assets/vendor.3cf270b6.js","assets/Fab.78b2c04b.js","assets/Fab.33a60e0e.css","assets/TextFitler.97029c74.js","assets/TextFitler.3d9182a0.css","assets/debounce.76599460.js","assets/index.afdc8976.js","assets/Select.9583f722.js","assets/Select.9a98fc65.css"])),Vs=s.exports.lazy(()=>E(()=>import("./Rules.c9171055.js"),["assets/Rules.c9171055.js","assets/Rules.72ed8383.css","assets/vendor.3cf270b6.js","assets/index.esm.5b55aaed.js","assets/TextFitler.97029c74.js","assets/TextFitler.3d9182a0.css","assets/debounce.76599460.js","assets/index.afdc8976.js","assets/Fab.78b2c04b.js","assets/Fab.33a60e0e.css","assets/useRemainingViewPortHeight.91bbcf1d.js"])),Gs=[{path:"/",element:l.createElement(vs,null)},{path:"/connections",element:l.createElement(Ws,null)},{path:"/configs",element:l.createElement(zs,null)},{path:"/logs",element:l.createElement(qs,null)},{path:"/proxies",element:l.createElement(Hs,null)},{path:"/rules",element:l.createElement(Vs,null)},{path:"/about",element:l.createElement(Yn,null)},!1].filter(Boolean);function Js(){return ze(Gs)}function Ks(){return l.createElement(l.Fragment,null,l.createElement(Hr,null),l.createElement(Os,null),l.createElement("div",{className:bt.content},l.createElement(s.exports.Suspense,{fallback:l.createElement(ws,null)},l.createElement(Js,null))))}function Qs(){return ze([{path:"/backend",element:l.createElement(yt,null)},{path:"*",element:l.createElement(Ks,null)}])}const Ys=()=>l.createElement(Xr,null,l.createElement(Zt,null,l.createElement(En,{initialState:Lo,actions:To},l.createElement(en,{client:so},l.createElement(tn,null,l.createElement("div",{className:bt.app},l.createElement(oo,null),l.createElement(s.exports.Suspense,{fallback:l.createElement(at,null)},l.createElement(Qs,null)))))))),Xs=Boolean(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Zs(e){if("serviceWorker"in navigator){if(new URL("./",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const n=".//sw.js";Xs?(ea(n,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker")})):Ct(n,e)})}}function Ct(e,t){navigator.serviceWorker.register(e).then(n=>{n.onupdatefound=()=>{const o=n.installing;o!=null&&(o.onstatechange=()=>{o.state==="installed"&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(n)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(n)))})}}).catch(n=>{console.error("Error during service worker registration:",n)})}function ea(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(n=>{const o=n.headers.get("content-type");n.status===404||o!=null&&o.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(r=>{r.unregister().then(()=>{window.location.reload()})}):Ct(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}const St=document.getElementById("app");je.setAppElement(St);nn.render(l.createElement(l.StrictMode,null,l.createElement(Ys,null)),St);Zs();console.log("Checkout the repo: https://github.com/haishanh/yacd");console.log("Version:","0.3.4");export{aa as A,mr as B,Ge as C,pa as D,Ca as E,ba as F,Eo as G,pt as H,wa as I,la as J,ia as K,ua as L,va as M,yo as N,ya as O,_a as P,de as Q,Ea as R,pe as S,Rn as T,I as U,xa as V,wo as W,ga as X,ha as a,es as b,w as c,Oe as d,Ue as e,io as f,T as g,sa as h,ot as i,ca as j,yn as k,ka as l,Te as m,Tn as n,Ee as o,O as p,In as q,ra as r,Sa as s,h as t,rs as u,oa as v,ao as w,fa as x,ma as y,da as z};
