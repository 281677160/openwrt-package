var Me=Object.defineProperty,Te=Object.defineProperties;var Le=Object.getOwnPropertyDescriptors;var ve=Object.getOwnPropertySymbols;var ze=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable;var he=(e,u,s)=>u in e?Me(e,u,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[u]=s,vt=(e,u)=>{for(var s in u||(u={}))ze.call(u,s)&&he(e,s,u[s]);if(ve)for(var s of ve(u))Ne.call(u,s)&&he(e,s,u[s]);return e},ht=(e,u)=>Te(e,Le(u));var z=(e,u,s)=>new Promise((o,c)=>{var _=n=>{try{h(s.next(n))}catch(i){c(i)}},f=n=>{try{h(s.throw(n))}catch(i){c(i)}},h=n=>n.done?o(n.value):Promise.resolve(n.value).then(_,f);h((s=s.apply(e,u)).next())});import{d as I,M as Oe,s as g,r as Zt,o as a,c as d,a as t,m as w,b as B,w as V,l as F,F as N,E as tt,N as Lt,_ as S,a4 as dt,C as P,T as A,Y as qe,p as q,q as H,$ as J,Z as bt,X as lt,a5 as wt,e as L,i as R,x as T,a2 as ye,A as Y,B as it,a6 as ut,a7 as He,D as Et,z as K,G as jt,g as Z,Q as De,j as mt,a0 as Ue,h as Ot,U as Xt,u as ke,P as ot,a8 as we,a9 as Re,aa as Fe,I as Ge,O as We,ab as Ze,ac as je,y as at,ad as Xe}from"./index.js?v=bc5d78ec";import{c as Ye,i as Ft}from"./chunk.6d3585bb.js";import{u as Qe,i as Ke,b as Je,c as tu,d as eu,e as uu,f as su,g as nu,G as Ut,F as ou,a as au}from"./chunk.b3a0ed74.js";var iu="/luci-static/istorex/logo.png?v=d233e332",lu="/luci-static/istorex/task.svg?v=f6a42032",cu="/luci-static/istorex/safari.svg?v=1bf8526f",du="/luci-static/istorex/setup.svg?v=69c7a200",ru="/luci-static/istorex/logout.svg?v=e9e539f8",Wt={exports:{}};(function(e,u){(function(s,o){var c={};s.PubSub?(c=s.PubSub,console.warn("PubSub already loaded, using existing version")):(s.PubSub=c,o(c)),e!==void 0&&e.exports&&(u=e.exports=c),u.PubSub=c,e.exports=u=c})(typeof window=="object"&&window||Ye,function(s){var o={},c=-1,_="*";function f(l){var E;for(E in l)if(Object.prototype.hasOwnProperty.call(l,E))return!0;return!1}function h(l){return function(){throw l}}function n(l,E,v){try{l(E,v)}catch(C){setTimeout(h(C),0)}}function i(l,E,v){l(E,v)}function r(l,E,v,C){var k=o[E],$=C?i:n,y;if(!!Object.prototype.hasOwnProperty.call(o,E))for(y in k)Object.prototype.hasOwnProperty.call(k,y)&&$(k[y],l,v)}function m(l,E,v){return function(){var k=String(l),$=k.lastIndexOf(".");for(r(l,l,E,v);$!==-1;)k=k.substr(0,$),$=k.lastIndexOf("."),r(l,k,E,v);r(l,_,E,v)}}function b(l){var E=String(l),v=Boolean(Object.prototype.hasOwnProperty.call(o,E)&&f(o[E]));return v}function D(l){for(var E=String(l),v=b(E)||b(_),C=E.lastIndexOf(".");!v&&C!==-1;)E=E.substr(0,C),C=E.lastIndexOf("."),v=b(E);return v}function p(l,E,v,C){l=typeof l=="symbol"?l.toString():l;var k=m(l,E,C),$=D(l);return $?(v===!0?k():setTimeout(k,0),!0):!1}s.publish=function(l,E){return p(l,E,!1,s.immediateExceptions)},s.publishSync=function(l,E){return p(l,E,!0,s.immediateExceptions)},s.subscribe=function(l,E){if(typeof E!="function")return!1;l=typeof l=="symbol"?l.toString():l,Object.prototype.hasOwnProperty.call(o,l)||(o[l]={});var v="uid_"+String(++c);return o[l][v]=E,v},s.subscribeAll=function(l){return s.subscribe(_,l)},s.subscribeOnce=function(l,E){var v=s.subscribe(l,function(){s.unsubscribe(v),E.apply(this,arguments)});return s},s.clearAllSubscriptions=function(){o={}},s.clearSubscriptions=function(E){var v;for(v in o)Object.prototype.hasOwnProperty.call(o,v)&&v.indexOf(E)===0&&delete o[v]},s.countSubscriptions=function(E){var v,C,k=0;for(v in o)if(Object.prototype.hasOwnProperty.call(o,v)&&v.indexOf(E)===0){for(C in o[v])k++;break}return k},s.getSubscriptions=function(E){var v,C=[];for(v in o)Object.prototype.hasOwnProperty.call(o,v)&&v.indexOf(E)===0&&C.push(v);return C},s.unsubscribe=function(l){var E=function(M){var O;for(O in o)if(Object.prototype.hasOwnProperty.call(o,O)&&O.indexOf(M)===0)return!0;return!1},v=typeof l=="string"&&(Object.prototype.hasOwnProperty.call(o,l)||E(l)),C=!v&&typeof l=="string",k=typeof l=="function",$=!1,y,x,G;if(v){s.clearSubscriptions(l);return}for(y in o)if(Object.prototype.hasOwnProperty.call(o,y)){if(x=o[y],C&&x[l]){delete x[l],$=l;break}if(k)for(G in x)Object.prototype.hasOwnProperty.call(x,G)&&x[G]===l&&(delete x[G],$=!0)}return $}})})(Wt,Wt.exports);var Be=Wt.exports;const ct=e=>(q("data-v-342ca842"),e=e(),H(),e),_u={class:"header"},pu=ct(()=>t("img",{src:iu,alt:"logo"},null,-1)),vu={class:"menu"},hu=ct(()=>t("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1)),Fu=ct(()=>t("path",{d:" M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z ",class:"css-c4d79v"},null,-1)),mu=[hu,Fu],fu={class:"task"},Eu={key:0,class:"dropdown-container"},Cu={class:"title"},$u=ct(()=>t("span",null,"\u5B89\u88C5\u4EFB\u52A1",-1)),gu=ct(()=>t("div",{class:"auto"},null,-1)),bu={class:"dropdown-container_menus"},yu={class:"dropdown-menu_item"},Du=ct(()=>t("div",{class:"auto"},null,-1)),ku={class:"status"},wu={key:0},Bu={key:1},Au={class:"btn"},xu=ct(()=>t("span",null," \u5B89\u88C5\u4E2D ",-1)),Su={class:"wizard"},Iu={key:0,class:"dropdown-container",style:{width:"140px"}},Vu=ct(()=>t("h2",{class:"title"},"\u5207\u6362\u5411\u5BFC\u6A21\u5F0F",-1)),Pu=ct(()=>t("a",{href:"/cgi-bin/luci/admin/quickstart/"},[t("img",{width:"28",height:"28",title:"\u5207\u6362\u81F3\u666E\u901A\u7248\u672C",src:du,alt:"setup"})],-1)),Mu=ct(()=>t("a",{href:"/cgi-bin/luci/admin/logout"},[t("img",{width:"28",height:"28",title:"\u6CE8\u9500",src:ru,alt:"logout"})],-1)),Tu=I({__name:"index",setup(e){const u=Oe(),s=C=>i.value.indexOf(C)!=-1,o=C=>r.value.indexOf(C)!=-1,c=()=>{const C=dt.global.locale==="en"?"zh":"en";localStorage.setItem("i18n",C),dt.global.locale=C,Be.publish("changeLocale",C)},_=g(!1),f=g(!1),h=g(!1),n=g([]),i=g([]),r=g([]),m=()=>z(this,null,function*(){try{const C=yield P.Quickstart.SetupResult.GET();if(C.data){const{result:k,error:$}=C.data;C.data.success==0&&k&&(n.value=k.packages||[],i.value=k.success||[],r.value=k.failed||[])}}catch(C){console.log(C)}});let b=!1;setTimeout(()=>z(this,null,function*(){yield m(),localStorage.getItem("nas_guide_init")&&(b=!0,_.value=!0)}),1e3);const D=()=>z(this,null,function*(){h.value||(yield l("router"))}),p=()=>z(this,null,function*(){h.value||(yield l("next-nas"))}),l=C=>z(this,null,function*(){h.value=!0;try{const k=yield P.Istorex.Updata.POST({model:C});if(A.Success("\u64CD\u4F5C\u6210\u529F"),k.data){const{success:$,error:y}=k.data;if(y)throw y;$===0&&u.push({path:`/${C}`})}}catch(k){A.Error(`${k}`)}finally{h.value=!1}}),E=()=>{_.value=!1,b&&localStorage.removeItem("nas_guide_init")},v=()=>{qe.autoSetup.Open()};return(C,k)=>{const $=Zt("icon-loading");return a(),d("div",_u,[pu,t("div",vu,[(a(),d("svg",{class:"i18n",onClick:c,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},mu)),t("div",fu,[t("img",{onClick:k[0]||(k[0]=y=>_.value=!_.value),width:"28",height:"28",title:"\u5B89\u88C5\u4EFB\u52A1\u8FDB\u5EA6",src:lu,alt:"logo"}),_.value?(a(),d("div",{key:0,class:"dropdown-bg",onClick:E})):w("",!0),B(Lt,null,{default:V(()=>[_.value?(a(),d("div",Eu,[t("h2",Cu,[$u,t("span",null,"("+F(i.value.length+r.value.length+"/"+n.value.length)+")",1),gu,t("a",{onClick:v},"\u67E5\u770B\u65E5\u5FD7")]),t("div",bu,[(a(!0),d(N,null,tt(n.value,y=>(a(),d("div",yu,[t("span",null,F(y),1),Du,t("div",ku,[s(y)?(a(),d("span",wu," \u6210\u529F ")):o(y)?(a(),d("span",Bu," \u5931\u8D25 ")):(a(),d(N,{key:2},[t("div",Au,[B($)]),xu],64))])]))),256))])])):w("",!0)]),_:1})]),t("div",Su,[t("img",{onClick:k[1]||(k[1]=y=>f.value=!f.value),width:"28",height:"28",title:"\u5411\u5BFC\u6A21\u5F0F",src:cu,alt:"safari"}),f.value?(a(),d("div",{key:0,class:"dropdown-bg",onClick:k[2]||(k[2]=y=>f.value=!1)})):w("",!0),B(Lt,{name:"fade"},{default:V(()=>[f.value?(a(),d("div",Iu,[Vu,t("div",{class:"dropdown-menu_item",style:{"margin-bottom":"8px"},onClick:D}," \u8DEF\u7531\u6A21\u5F0F "),t("div",{class:"dropdown-menu_item",onClick:p},"NAS\u6A21\u5F0F")])):w("",!0)]),_:1})]),Pu,Mu])])}}});var Lu=S(Tu,[["__scopeId","data-v-342ca842"]]);const zu={},Nu={class:"SearchBar"},Ou=["placeholder"];function qu(e,u){return a(),d("div",Nu,[t("input",{placeholder:e.$t("\u5E94\u7528\u641C\u7D22")},null,8,Ou)])}var Hu=S(zu,[["render",qu],["__scopeId","data-v-a531abbc"]]);const Uu={class:"widget"},Ru={key:0,class:"title"},Gu=I({__name:"index",props:{title:{},height:{},maxHeight:{},contentStyle:{}},setup(e){const u=e;return(s,o)=>(a(),d("div",Uu,[t("div",{style:J(`height: ${u.height};max-height:${u.maxHeight}`)},[u.title?(a(),d("span",Ru,F(u.title),1)):w("",!0),t("div",{style:J(u.contentStyle)},[bt(s.$slots,"default",{},void 0,!0)],4)],4)]))}});var ft=S(Gu,[["__scopeId","data-v-261e10c6"]]);const Wu={},Zu={t:"1640746738262",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1216",width:"128",height:"128"},ju=t("path",{d:"M511.232 438.8352L112.9984 40.6016A51.2 51.2 0 0 0 40.6016 112.9984L438.784 511.232 40.6016 909.4656a51.2 51.2 0 1 0 72.3968 72.448l398.2336-398.2848 398.2336 398.2848a51.2 51.2 0 1 0 72.448-72.448l-398.2848-398.2336 398.2848-398.2336A51.2 51.2 0 0 0 909.4656 40.6016L511.232 438.784z","p-id":"1217"},null,-1),Xu=[ju];function Yu(e,u){return a(),d("svg",Zu,Xu)}var Qu=S(Wu,[["render",Yu]]);const Ku=e=>(q("data-v-664f08dd"),e=e(),H(),e),Ju={id:"actioner"},ts={key:0,class:"action-container"},es={class:"action-container_header"},us=Ku(()=>t("div",null,null,-1)),ss={class:"title"},ns={class:"action-container_body"},os=I({__name:"index",props:{Close:{type:Function},type:{type:Number},title:String},setup(e){const u=e,s=g(!1);lt(()=>{s.value=!0,document.body.setAttribute("lock-scroll","true")}),wt(()=>{document.body.removeAttribute("lock-scroll")});const o=()=>{u.Close&&(s.value=!1,setTimeout(()=>{u.Close&&u.Close()},300))};return(c,_)=>(a(),d("div",Ju,[t("div",{class:"bg",onClick:o}),e.type!=null?bt(c.$slots,"default",{key:0},void 0,!0):(a(),d(N,{key:1},[s.value?(a(),d("div",ts,[t("div",es,[us,t("div",ss,F(e.title),1),t("button",{class:"close",title:"\u5173\u95ED",onClick:o},[B(Qu)])]),t("div",ns,[bt(c.$slots,"default",{},void 0,!0)])])):w("",!0)],64))]))}});var as=S(os,[["__scopeId","data-v-664f08dd"]]);const st=I({__name:"modal",props:{Close:{type:Function},type:{type:Number},title:String},setup(e){return(u,s)=>(a(),L(as,{Close:e.Close,type:e.type,title:e.title},{default:V(()=>[bt(u.$slots,"default")]),_:3},8,["Close","type","title"]))}}),is={},ls={t:"1649907260906",viewBox:"-8 248 1042 530",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2793","xmlns:xlink":"http://www.w3.org/1999/xlink"},cs=t("path",{d:"M764.904497 251.418146 259.086289 251.418146c-143.076626 0-259.065314 115.989711-259.065314 259.065314 0 143.077649 115.988688 259.063267 259.065314 259.063267l505.818207 0c143.074579 0 259.063267-115.985618 259.063267-259.063267C1023.967764 367.407857 907.980099 251.418146 764.904497 251.418146zM764.904497 747.164974c-130.507356 0-236.682537-106.175181-236.682537-236.682537S634.397141 273.798876 764.904497 273.798876s236.683561 106.176205 236.683561 236.683561S895.411853 747.164974 764.904497 747.164974z","p-id":"2794",fill:"#52C41A"},null,-1),ds=[cs];function rs(e,u){return a(),d("svg",ls,ds)}var _s=S(is,[["render",rs]]);const ps={},vs={t:"1649907515643",viewBox:"-8 248 1042 530",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2971","xmlns:xlink":"http://www.w3.org/1999/xlink"},hs=t("path",{d:"M764.867148 249.793136 259.0735 249.793136c-143.070486 0-259.052011 115.984594-259.052011 259.052011 0 143.07151 115.982548 259.050987 259.052011 259.050987l505.793648 0c143.067416 0 259.050987-115.979478 259.050987-259.050987C1023.917112 365.778754 907.933541 249.793136 764.867148 249.793136zM259.0735 745.516428c-130.501216 0-236.671281-106.172111-236.671281-236.671281 0-130.501216 106.170065-236.671281 236.671281-236.671281S495.744781 378.344954 495.744781 508.84617C495.744781 639.34534 389.574716 745.516428 259.0735 745.516428z","p-id":"2972",fill:"#999"},null,-1),Fs=[hs];function ms(e,u){return a(),d("svg",vs,Fs)}var fs=S(ps,[["render",ms]]);const Es={class:"checkbox_switch_on"},Cs={class:"checkbox_switch_off"},$s=I({__name:"index",props:{modelValue:{type:Boolean,required:!0},height:{type:String,default:"100%"}},emits:["update:modelValue"],setup(e,{emit:u}){const s=e,o=R({get:()=>s.modelValue.valueOf(),set:c=>u("update:modelValue",c)});return(c,_)=>(a(),d("label",{class:"checkbox_switch",style:J({height:e.height})},[T(t("input",{type:"checkbox","onUpdate:modelValue":_[0]||(_[0]=f=>o.value=f)},null,512),[[ye,o.value]]),t("span",Es,[B(_s)]),t("span",Cs,[B(fs)]),bt(c.$slots,"default",{},void 0,!0)],4))}});var gs=S($s,[["__scopeId","data-v-1b6cddbc"]]);const Q=e=>(q("data-v-76799e09"),e=e(),H(),e),bs=["onSubmit"],ys=Q(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"\u5185\u7F51\u914D\u7F6E")],-1)),Ds={class:"actioner-dns_body"},ks={class:"label-item"},ws=Q(()=>t("div",{class:"label-item_key"},[t("span",null,"IPv4\u5730\u5740")],-1)),Bs={class:"label-item_value"},As={class:"label-item"},xs=Q(()=>t("div",{class:"label-item_key"},[t("span",null,"IPv4\u5B50\u7F51\u63A9\u7801")],-1)),Ss={class:"label-item_value"},Is={key:0,class:"chose_dhcp"},Vs={key:0,class:"dhcp_info"},Ps={key:1,class:"dhcp_info"},Ms={class:"label-item"},Ts=Q(()=>t("div",{class:"label-item_key"},[t("span",null,"IP\u6C60\u8D77\u59CB\u5730\u5740")],-1)),Ls={class:"label-item_value"},zs={class:"label-item"},Ns=Q(()=>t("div",{class:"label-item_key"},[t("span",null,"IP\u6C60\u7ED3\u675F\u5730\u5740")],-1)),Os={class:"label-item_value"},qs={class:"actioner-dns_footer"},Hs=["disabled"],Us={key:1,class:"actioner-dns"},Rs=Q(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"\u66F4\u6362\u914D\u7F6E")],-1)),Gs={class:"actioner-dns_body"},Ws={key:0,class:"setting_status"},Zs=Q(()=>t("div",{class:"success_icon"},[t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128"},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063"})])],-1)),js=Q(()=>t("div",{class:"config-message"},"\u914D\u7F6E\u6210\u529F",-1)),Xs=["href"],Ys={key:1,class:"setting_status"},Qs=Q(()=>t("div",{class:"success_icon"},[t("svg",{t:"1642063200324",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5898",width:"128",height:"128"},[t("path",{d:"M549.044706 512l166.189176-166.249412a26.383059 26.383059 0 0 0 0-36.98447 26.383059 26.383059 0 0 0-37.044706 0L512 475.015529l-166.249412-166.249411a26.383059 26.383059 0 0 0-36.98447 0 26.383059 26.383059 0 0 0 0 37.044706L475.015529 512l-166.249411 166.249412a26.383059 26.383059 0 0 0 0 36.98447 26.383059 26.383059 0 0 0 37.044706 0L512 548.984471l166.249412 166.249411a26.383059 26.383059 0 0 0 36.98447 0 26.383059 26.383059 0 0 0 0-37.044706L548.984471 512zM512 1024a512 512 0 1 1 0-1024 512 512 0 0 1 0 1024z",fill:"#E84335","p-id":"5899"})])],-1)),Ks=Q(()=>t("div",{class:"config-message"},"\u914D\u7F6E\u5931\u8D25",-1)),Js=Q(()=>t("p",null,"\u8BF7\u5C1D\u8BD5\u91CD\u65B0\u914D\u7F6E",-1)),tn={key:2,class:"setting_status"},en=Q(()=>t("div",{class:"success_icon"},[t("svg",{width:"128px",height:"128px",viewBox:"0 0 128 128",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[t("g",{id:"icon_yellow",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[t("g",{id:"Icon/Warning"},[t("rect",{id:"\u77E9\u5F62",fill:"#000000","fill-rule":"nonzero",opacity:"0",x:"0",y:"0",width:"128",height:"128"}),t("path",{d:"M64,8 C33.075,8 8,33.075 8,64 C8,94.925 33.075,120 64,120 C94.925,120 120,94.925 120,64 C120,33.075 94.925,8 64,8 Z M60,37 C60,36.45 60.45,36 61,36 L67,36 C67.55,36 68,36.45 68,37 L68,71 C68,71.55 67.55,72 67,72 L61,72 C60.45,72 60,71.55 60,71 L60,37 Z M64,92 C60.6875,92 58,89.3125 58,86 C58,82.6875 60.6875,80 64,80 C67.3125,80 70,82.6875 70,86 C70,89.3125 67.3125,92 64,92 Z",id:"\u5F62\u72B6",fill:"#FAAD14"})])])])],-1)),un=Q(()=>t("div",{class:"config-message"},"\u914D\u7F6E\u8D85\u65F6",-1)),sn=Q(()=>t("p",null," \u8DEF\u7531\u5668 IP \u53EF\u80FD\u5DF2\u7ECF\u4FEE\u6539\u6210\u529F\u3002\u82E5\u5237\u65B0\u9875\u9762\u5931\u8D25\uFF0C\u8BF7\u91CD\u65B0\u8FDE\u63A5\u8DEF\u7531\u5668\uFF0C\u5426\u5219\u8BF7\u5C1D\u8BD5\u91CD\u65B0\u914D\u7F6E\u3002 ",-1)),nn=I({__name:"index",props:{Close:{type:Function,required:!0}},setup(e){const u=e,s=g(0),o=g({lanIp:"",netMask:"255.255.255.0",enableDhcp:!1,dhcpStart:"",dhcpEnd:""});g("");const c=g(!1);g(!0),g(!1);const _=g(""),f=g(2),h=g(!1),n=g("timeout");let i=!0;(()=>{P.Guide.GetLan.GET().then(l=>{l.data.result&&(h.value=l.data.result.enableDhcp||!1,l.data.result.enableDhcp=!1,o.value=l.data.result,l.data.result.lanIp!==location.hostname&&(i=!1))})})();const m=()=>{const l=o.value;if(!Ft.isValidIPv4(l.lanIp)){A.Warning("IPv4\u5730\u5740\u683C\u5F0F\u9519\u8BEF");return}if(!Ft.isValidMask(l.netMask)){A.Warning("IPv4\u5B50\u7F51\u63A9\u7801\u683C\u5F0F\u9519\u8BEF");return}const E=Ft.calcMaskRange(l.lanIp,l.netMask);l.dhcpStart=E[0],l.dhcpEnd=E[1],o.value=l},b=()=>{const l=o.value;if(!Ft.isValidIPv4(l.lanIp)){A.Warning("IPv4\u5730\u5740\u683C\u5F0F\u9519\u8BEF");return}if(!Ft.isValidMask(l.netMask)){A.Warning("IPv4\u5B50\u7F51\u63A9\u7801\u683C\u5F0F\u9519\u8BEF");return}if(l.enableDhcp&&!(Ft.isValidIPv4(l.dhcpStart)&&Ft.isValidIPv4(l.dhcpEnd)&&Ft.isValidMaskRange(l.lanIp,l.netMask,l.dhcpStart,l.dhcpEnd))){A.Warning("DHCP\u7684IP\u6C60\u683C\u5F0F\u9519\u8BEF\u6216\u8D85\u51FA\u5B50\u7F51\u8303\u56F4");return}const E=A.Loading("\u6B63\u5728\u914D\u7F6E\u2026\u8BF7\u7A0D\u7B49",30);let v=0;const C=$=>{n.value=$,s.value=1,v=1,E.Close()},k=()=>{const $=new Date().getTime()+3e4,y=i?location.protocol+"//"+l.lanIp+(location.port?":"+location.port:""):location.origin,x=y+"/luci-static/resources/icons/loading.gif",G=()=>{v==0&&(new Date().getTime()>$?C("timeout"):window.setTimeout(O,2e3))},M=()=>{v==0&&(_.value=y+location.pathname,C("success"),window.setTimeout(()=>{f.value=1},1e3),window.setTimeout(()=>{location.href=_.value},2e3))},O=()=>{if(v!=0)return;console.log("check online ",x);const nt=new Image;nt.onload=M,nt.onerror=G,nt.src=x};window.setTimeout(O,5e3)};P.Guide.LanIp.POST(l).then($=>{var y;if($!=null&&$.data){if(($.data.success||0)==0)return;if((y=$.data)!=null&&y.error)throw $.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch($=>{v==0&&(C("fail"),A.Error($))}),k(),window.setTimeout(()=>{v==0&&C("timeout")},3e4)},D=l=>{l.preventDefault(),u.Close&&u.Close()},p=l=>{location.reload()};return(l,E)=>(a(),L(st,{Close:e.Close,type:1},{default:V(()=>[s.value==0?(a(),d("form",{key:0,class:"actioner-dns",onSubmit:it(b,["prevent"])},[ys,t("div",Ds,[t("div",ks,[ws,t("div",Bs,[T(t("input",{type:"text",placeholder:"192.168.100.1",required:"","onUpdate:modelValue":E[0]||(E[0]=v=>o.value.lanIp=v),onChange:m},null,544),[[Y,o.value.lanIp,void 0,{trim:!0}]])])]),t("div",As,[xs,t("div",Ss,[T(t("input",{type:"text",placeholder:"255.255.255.0",required:"","onUpdate:modelValue":E[1]||(E[1]=v=>o.value.netMask=v),onChange:m},null,544),[[Y,o.value.netMask,void 0,{trim:!0}]])])]),h.value?(a(),d("div",Is,[B(gs,{modelValue:o.value.enableDhcp,"onUpdate:modelValue":E[2]||(E[2]=v=>o.value.enableDhcp=v)},{default:V(()=>[o.value.enableDhcp?(a(),d("span",Vs,"\u4FEE\u6539DHCP\u670D\u52A1")):(a(),d("span",Ps,"\u4FDD\u6301DHCP\u670D\u52A1\u8BBE\u7F6E"))]),_:1},8,["modelValue"])])):w("",!0),o.value.enableDhcp?(a(),d(N,{key:1},[t("div",Ms,[Ts,t("div",Ls,[T(t("input",{type:"text",placeholder:"192.168.100.100",required:"","onUpdate:modelValue":E[3]||(E[3]=v=>o.value.dhcpStart=v)},null,512),[[Y,o.value.dhcpStart,void 0,{trim:!0}]])])]),t("div",zs,[Ns,t("div",Os,[T(t("input",{type:"text",placeholder:"192.168.100.100",required:"","onUpdate:modelValue":E[4]||(E[4]=v=>o.value.dhcpEnd=v)},null,512),[[Y,o.value.dhcpEnd,void 0,{trim:!0}]])])])],64)):w("",!0)]),t("div",qs,[t("button",{class:"cbi-button cbi-button-apply app-btn",disabled:c.value}," \u786E\u8BA4 ",8,Hs),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:D}," \u53D6\u6D88 ")])],40,bs)):s.value==1?(a(),d("div",Us,[Rs,t("div",Gs,[n.value=="success"?(a(),d("div",Ws,[Zs,js,t("a",{href:_.value,class:"NewAdress"},F(f.value)+"s\u540E \u8DF3\u8F6C\u65B0\u5730\u5740",9,Xs)])):n.value=="fail"?(a(),d("div",Ys,[Qs,Ks,Js,t("button",{class:"cbi-button cbi-button-apply app-btn",onClick:p}," \u6211\u77E5\u9053\u4E86 ")])):n.value=="timeout"?(a(),d("div",tn,[en,un,sn,t("button",{class:"cbi-button cbi-button-apply app-btn",onClick:p}," \u5237\u65B0\u9875\u9762 ")])):w("",!0)])])):w("",!0)]),_:1},8,["Close"]))}});var on=S(nn,[["__scopeId","data-v-76799e09"]]);const me=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=ut(on,{Close:()=>{s()}});u.mount(e);const s=()=>{u.unmount(),e.remove()};return{Close:s}};const yt=e=>(q("data-v-95c09170"),e=e(),H(),e),an=["onSubmit"],ln=yt(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"DNS\u914D\u7F6E")],-1)),cn={class:"actioner-dns_body"},dn={class:"label-item"},rn=yt(()=>t("div",{class:"label-item_key"},[t("span",null,"DNS\u9009\u9879")],-1)),_n={class:"label-item_value"},pn=["disabled"],vn=yt(()=>t("option",{value:"manual"},"\u81EA\u5B9A\u4E49DNS",-1)),hn={class:"label-item"},Fn=yt(()=>t("div",{class:"label-item_key"},[t("span",null,"DNS\u670D\u52A1\u5668\u5730\u5740")],-1)),mn={class:"label-item_value"},fn=["onUpdate:modelValue"],En=yt(()=>t("div",{class:"label-item_key"},"\u5907\u7528DNS\u670D\u52A1\u5668\u5730\u5740",-1)),Cn={class:"label-item_value"},$n=["onUpdate:modelValue"],gn={key:1,class:"label-message"},bn={class:"actioner-dns_footer"},yn=["disabled"],Dn={key:1,class:"actioner-dns"},kn=yt(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"DNS\u914D\u7F6E")],-1)),wn=yt(()=>t("div",{class:"actioner-dns_body"},[t("div",{class:"config-message"},"DNS\u914D\u7F6E\u5DF2\u4FDD\u5B58")],-1)),Bn=I({__name:"index",props:{Close:{type:Function,required:!0}},setup(e){const u=e,s=g(0),o=He(),c=o.status,_=R(()=>o.status.proto!="static"),f=()=>{let D=c.dnsList||[];for(D=D.filter(p=>p);D.length<2;)D.push("");return D},h=g({interfaceName:c.defaultInterface||"",dnsProto:c.dnsProto||"manual",manualDnsIp:f()}),n=g(""),i=g(!1),r=()=>z(this,null,function*(){n.value="";let D={};switch(h.value.dnsProto){case"auto":break;case"manual":if(D.manualDnsIp=[],!h.value.manualDnsIp[0]){A.Error("\u81F3\u5C11\u9700\u8981\u586B\u5199\u4E00\u4E2ADNS");return}D.manualDnsIp=h.value.manualDnsIp.filter(l=>l);break}D.dnsProto=h.value.dnsProto,D.interfaceName=h.value.interfaceName;const p=A.Loading("\u914D\u7F6E\u4E2D...");try{const l=yield P.Guide.DnsConfig.POST(D);if(l!=null&&l.data){const{success:E,error:v}=l==null?void 0:l.data;v&&(n.value=v),(E==null||E==0)&&(A.Success("\u914D\u7F6E\u6210\u529F"),s.value=1)}}catch(l){n.value=l}p.Close()}),m=D=>{D.preventDefault(),u.Close&&u.Close()},b=D=>{location.reload()};return(D,p)=>(a(),L(st,{Close:e.Close,type:1},{default:V(()=>[s.value==0?(a(),d("form",{key:0,class:"actioner-dns",onSubmit:it(r,["prevent"])},[ln,t("div",cn,[t("div",dn,[rn,t("div",_n,[T(t("select",{"onUpdate:modelValue":p[0]||(p[0]=l=>h.value.dnsProto=l)},[t("option",{value:"auto",disabled:!_.value}," \u81EA\u52A8\u83B7\u53D6DNS ",8,pn),vn],512),[[Et,h.value.dnsProto]])])]),h.value.dnsProto=="manual"?(a(!0),d(N,{key:0},tt(h.value.manualDnsIp,(l,E)=>(a(),d("div",hn,[E==0?(a(),d(N,{key:0},[Fn,t("div",mn,[T(t("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165DNS\u5730\u5740",required:"","onUpdate:modelValue":v=>h.value.manualDnsIp[E]=v},null,8,fn),[[Y,h.value.manualDnsIp[E],void 0,{trim:!0}]])])],64)):(a(),d(N,{key:1},[En,t("div",Cn,[T(t("input",{type:"text",placeholder:"\u5907\u7528DNS\u5730\u5740","onUpdate:modelValue":v=>h.value.manualDnsIp[E]=v},null,8,$n),[[Y,h.value.manualDnsIp[E],void 0,{trim:!0}]])])],64))]))),256)):w("",!0),n.value?(a(),d("div",gn,F(n.value),1)):w("",!0)]),t("div",bn,[t("button",{class:"cbi-button cbi-button-apply app-btn",disabled:i.value}," \u786E\u8BA4 ",8,yn),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:m}," \u53D6\u6D88 ")])],40,an)):s.value==1?(a(),d("div",Dn,[kn,wn,t("div",{class:"actioner-dns_footer"},[t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:b}," \u5B8C\u6210 ")])])):w("",!0)]),_:1},8,["Close"]))}});var An=S(Bn,[["__scopeId","data-v-95c09170"]]);const fe=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=ut(An,{Close:()=>{s()}});u.mount(e);const s=()=>{u.unmount(),e.remove()};return{Close:s}},xn={},Sn={width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},In=t("g",{id:"icon_alert",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[t("g",{id:"Icon/Warning"},[t("rect",{id:"\u77E9\u5F62",fill:"#000000","fill-rule":"nonzero",opacity:"0",x:"0",y:"0",width:"14",height:"14"}),t("path",{d:"M7,0.875 C3.61757813,0.875 0.875,3.61757813 0.875,7 C0.875,10.3824219 3.61757813,13.125 7,13.125 C10.3824219,13.125 13.125,10.3824219 13.125,7 C13.125,3.61757813 10.3824219,0.875 7,0.875 Z M6.5625,4.046875 C6.5625,3.98671875 6.61171875,3.9375 6.671875,3.9375 L7.328125,3.9375 C7.38828125,3.9375 7.4375,3.98671875 7.4375,4.046875 L7.4375,7.765625 C7.4375,7.82578125 7.38828125,7.875 7.328125,7.875 L6.671875,7.875 C6.61171875,7.875 6.5625,7.82578125 6.5625,7.765625 L6.5625,4.046875 Z M7,10.0625 C6.63769531,10.0625 6.34375,9.76855469 6.34375,9.40625 C6.34375,9.04394531 6.63769531,8.75 7,8.75 C7.36230469,8.75 7.65625,9.04394531 7.65625,9.40625 C7.65625,9.76855469 7.36230469,10.0625 7,10.0625 Z",id:"\u5F62\u72B6",fill:"#FAAD14"})])],-1),Vn=[In];function Pn(e,u){return a(),d("svg",Sn,Vn)}var rt=S(xn,[["render",Pn]]);const et=e=>(q("data-v-5141058a"),e=e(),H(),e),Mn={key:0,class:"actioner-dns"},Tn=et(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"\u6C99\u7BB1\u6A21\u5F0F\u914D\u7F6E\u5411\u5BFC")],-1)),Ln={class:"actioner-dns_body"},zn=et(()=>t("p",{class:"sandbox_info"}," \u4E00\u4E2A\u7B80\u6613\u6C99\u7BB1\uFF0C\u65B9\u4FBF\u7528\u6765\u5B9E\u9A8C\u7CFB\u7EDF\u914D\u7F6E\u548C\u7A0B\u5E8F\uFF0C\u65B9\u4FBF\u5F00\u53D1\u672A\u5B8C\u6210\u7684\u8F6F\u4EF6\uFF0C\u4F46\u4E0D\u4FDD\u62A4Docker\u548C\u786C\u76D8\u7684\u6570\u636E ",-1)),Nn={key:0,class:"disk_loading_icon"},On=et(()=>t("span",{class:"disk_loading_info"},"\u6B63\u5728\u52A0\u8F7D\u4E2D...",-1)),qn={key:1,class:"disk_tips"},Hn=et(()=>t("span",null,"\u68C0\u6D4B\u4E0D\u5230\u6302\u8F7D\u7684\u78C1\u76D8\u4FE1\u606F\uFF0C\u8BF7\u5148\u63D2\u4E0A\u78C1\u76D8\uFF0C\u5EFA\u8BAE\u4F7F\u7528U\u76D8\u6216\u8005\u79FB\u52A8\u786C\u76D8\uFF0C\u65B9\u4FBF\u88C5\u5378",-1)),Un={class:"label-item"},Rn=et(()=>t("div",{class:"label-item_key"},[t("span",null,"\u76EE\u6807\u78C1\u76D8\uFF08\u5EFA\u8BAE\u9009\u62E9U\u76D8\u6216\u8005\u79FB\u52A8\u786C\u76D8\uFF0C\u65B9\u4FBF\u88C5\u5378\uFF09")],-1)),Gn={class:"label-item_value"},Wn=et(()=>t("option",{value:""},"\u8BF7\u9009\u62E9\u76EE\u6807\u78C1\u76D8",-1)),Zn=["value"],jn={class:"label-item"},Xn=et(()=>t("div",{class:"label-item_key"},[t("span",null,"\u76EE\u6807\u5206\u533A\uFF08\u5206\u533A\u5927\u5C0F\u987B\u5927\u4E8E2G\uFF0C\u5C06\u6B64\u5206\u533A\u4F5C\u4E3A\u5916\u90E8 overlay \u4F7F\u7528\uFF09")],-1)),Yn={class:"label-item_value"},Qn=et(()=>t("option",{selected:"true",value:""},"\u8BF7\u9009\u62E9\u76EE\u6807\u5206\u533A",-1)),Kn=["value","disabled"],Jn={class:"sandbox_tips"},to=et(()=>t("span",null,"\u6B64\u64CD\u4F5C\u4F1A\u5C06\u4F1A\u5220\u9664\u8BE5\u5206\u533A\u5168\u90E8\u6570\u636E",-1)),eo={class:"sandbox_info timeout"},uo=et(()=>t("p",{class:"sandbox_roboot_tips"},[K(" \u7B49\u5F85\u8BBE\u5907\u91CD\u542F\uFF0C\u91CD\u542F\u5B8C\u6210\u540E"),t("span",{class:"sandbox_roboot_refresh"},"\u8BF7\u5237\u65B0\u754C\u9762")],-1)),so={key:0,class:"actioner-dns_footer"},no=["disabled"],oo={key:1,class:"actioner-tips"},ao=et(()=>t("div",{class:"actioner-tips_header"},[t("span",null,"\u6E29\u99A8\u63D0\u793A")],-1)),io=et(()=>t("div",{class:"actioner-tips_body"},[t("p",{class:"sandbox_info"}," \u6B64\u64CD\u4F5C\u4F1A\u5C06\u4F1A\u5220\u9664\u8BE5\u5206\u533A\u5168\u90E8\u6570\u636E\uFF0C\u5E76\u683C\u5F0F\u5316\u6210EXT4\uFF0C\u968F\u540E\u81EA\u52A8\u91CD\u542F\u8FDB\u5165\u6C99\u7BB1\u6A21\u5F0F\uFF0C\u662F\u5426\u7EE7\u7EED\uFF1F ")],-1)),lo={key:2,class:"actioner-tips"},co=et(()=>t("div",{class:"actioner-tips_header"},[t("span",null,"\u9519\u8BEF")],-1)),ro={class:"actioner-tips_body"},_o={class:"sandbox_info"},po=I({__name:"index",props:{Close:{type:Function,required:!0}},setup(e){const u=e,s=g(0);g("disk");const o=g(""),c=g(3),_=g(""),f=g([]),h=g(""),n=g(null);(()=>{P.Nas.SandboxDisks.GET().then(v=>{var C;if(v!=null&&v.data&&(C=v.data)!=null&&C.result){n.value=v.data.result;return}throw"\u52A0\u8F7D\u78C1\u76D8\u4FE1\u606F\u5931\u8D25"}).catch(v=>{o.value=v,s.value=3})})();const r=()=>request.System.Reboot.POST({name:_.value,path:h.value}).then(v=>{var C;if(!(v!=null&&v.data&&(((C=v==null?void 0:v.data)==null?void 0:C.success)||0)==0))throw"\u672A\u77E5\u9519\u8BEF"}),m=v=>{var C,k;h.value="",f.value=_.value&&((k=(C=n.value)==null?void 0:C.disks.find($=>$.path==_.value))==null?void 0:k.childrens)||[]},b=()=>{c.value>0&&(c.value-=1,window.setTimeout(b,1e3))},D=v=>{v.preventDefault(),u.Close&&u.Close()},p=()=>{new Promise((v,C)=>{const k="/luci-static/resources/icons/loading.gif",$=()=>{window.setTimeout(y,2e3)},y=()=>{const x=new Image;x.onload=v,x.onerror=$,x.src=k};window.setTimeout(y,1e4)}).then(()=>{window.setTimeout(()=>{location.reload()},2e3)})},l=v=>{const C=A.Loading("\u914D\u7F6E\u6C99\u7BB1\u91CD\u542F\u4E2D...");request.Nas.Sandbox.POST({path:h.value}).then(k=>{var $;if(k!=null&&k.data){if((k.data.success||0)==0)return s.value=2,window.setTimeout(b,1e3),r();if(($=k.data)!=null&&$.error)throw k.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).then(p).catch(k=>A.Warning(k)).finally(()=>C.Close())},E=()=>{s.value=0};return(v,C)=>{const k=Zt("icon-loading");return a(),L(st,{Close:e.Close,type:1},{default:V(()=>[s.value==0||s.value==2?(a(),d("div",Mn,[Tn,t("div",Ln,[zn,s.value==0?(a(),d(N,{key:0},[n.value?w("",!0):(a(),d("div",Nn,[B(k,{size:38,color:"currentColor"}),On])),n.value&&n.value.disks.length==0?(a(),d("div",qn,[B(rt),Hn])):w("",!0),n.value&&n.value.disks.length>0?(a(),d(N,{key:2},[t("div",Un,[Rn,t("div",Gn,[T(t("select",{name:"",id:"",onChange:m,"onUpdate:modelValue":C[0]||(C[0]=$=>_.value=$)},[Wn,(a(!0),d(N,null,tt(n.value.disks,($,y)=>(a(),d("option",{value:$.path,key:y},F($.venderModel)+"\uFF08"+F($.size)+"\uFF09 ",9,Zn))),128))],544),[[Et,_.value]])])]),t("div",jn,[Xn,t("div",Yn,[T(t("select",{name:"",id:"","onUpdate:modelValue":C[1]||(C[1]=$=>h.value=$)},[Qn,(a(!0),d(N,null,tt(f.value,($,y)=>(a(),d("option",{value:$.path,key:y,disabled:$.sizeInt<(1<<30)*1||$.isSystemRoot},F($.name)+"\uFF08"+F($.filesystem||"\u672A\u683C\u5F0F\u5316")+"\uFF09"+F($.total),9,Kn))),128))],512),[[Et,h.value]])])]),t("div",Jn,[B(rt),to])],64)):w("",!0)],64)):w("",!0),s.value==2?(a(),d(N,{key:1},[t("p",eo,[K(" \u5373\u5C06\u91CD\u542F\u8BBE\u5907 "),t("span",null,"\uFF08"+F(c.value)+"s\uFF09",1)]),uo],64)):w("",!0)]),s.value==0?(a(),d("div",so,[t("button",{class:"cbi-button cbi-button-apply app-btn",disabled:!h.value,onClick:C[2]||(C[2]=$=>s.value=1)}," \u5F00\u542F\u6C99\u7BB1 ",8,no),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:D}," \u53D6\u6D88 ")])):w("",!0)])):w("",!0),s.value==1?(a(),d("div",oo,[ao,io,t("div",{class:"actioner-tips_footer"},[t("button",{class:"cbi-button cbi-button-apply app-btn",onClick:l}," \u7EE7\u7EED "),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:E}," \u53D6\u6D88 ")])])):w("",!0),s.value==3?(a(),d("div",lo,[co,t("div",ro,[t("p",_o,F(o.value),1)]),t("div",{class:"actioner-tips_footer"},[t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:E}," \u53D6\u6D88 ")])])):w("",!0)]),_:1},8,["Close"])}}});var vo=S(po,[["__scopeId","data-v-5141058a"]]);const ho=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=ut(vo,{Close:()=>{s()}});u.mount(e);const s=()=>{u.unmount(),e.remove()};return{Close:s}},Fo={},mo={width:"82px",height:"82px",viewBox:"0 0 82 82",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},fo=jt('<title>icon_finished</title><g id="icon_finished" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="circle" transform="translate(2.000000, 2.000000)"><circle id="Oval" stroke="#553AFE" stroke-width="4" cx="39" cy="39" r="39"></circle><circle id="Oval" fill="#553AFE" cx="39.028463" cy="39.028463" r="35.028463"></circle><path d="M41.0148619,52.8014169 C39.924327,53.7754409 39.8138203,55.4674462 40.7680384,56.5806164 C41.7222564,57.6937867 43.3798562,57.8065871 44.4703911,56.8325631 L54.9654709,47.4587599 C56.1301083,46.4185505 56.1643255,44.5807064 55.0392485,43.4960788 L31.4253189,20.7311283 C30.3718273,19.7155123 28.7112257,19.7639428 27.7162614,20.8393009 C26.7212971,21.914659 26.7687429,23.6097284 27.8222345,24.6253444 L49.3379698,45.3675358 L41.0148619,52.8014169 Z" id="Shape" fill="#FFFFFF" fill-rule="nonzero" transform="translate(41.430740, 38.747628) rotate(-270.000000) translate(-41.430740, -38.747628) "></path></g></g>',2),Eo=[fo];function Co(e,u){return a(),d("svg",mo,Eo)}var Yt=S(Fo,[["render",Co]]);const Bt=e=>(q("data-v-5cf1870c"),e=e(),H(),e),$o=["onSubmit"],go=Bt(()=>t("div",{class:"actioner-dns_header"},[t("span",null,"\u8F6F\u4EF6\u6E90\u914D\u7F6E")],-1)),bo={class:"actioner-dns_body"},yo={class:"label-item"},Do=Bt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u5F53\u524D\u8F6F\u4EF6\u6E90")],-1)),ko={class:"label-item_value"},wo={class:"item_info"},Bo={class:"label-item"},Ao=Bt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u5207\u6362\u8F6F\u4EF6\u6E90")],-1)),xo={class:"label-item_value"},So=Bt(()=>t("option",{selected:"true",value:""},"\u8BF7\u9009\u62E9\u8F6F\u4EF6\u6E90",-1)),Io=["value"],Vo={class:"actioner-dns_footer"},Po=["disabled"],Mo={key:1,class:"actioner-dns"},To=Bt(()=>t("div",{class:"actioner-dns_header"},[t("span",{class:"softsource_tit"},"\u8F6F\u4EF6\u6E90\u914D\u7F6E")],-1)),Lo={class:"actioner-dns_body"},zo={class:"finished"},No=Bt(()=>t("p",{class:"successed"},"\u914D\u7F6E\u6210\u529F\uFF01",-1)),Oo=I({__name:"index",props:{Close:{type:Function,required:!0}},setup(e){const u=e,s=g(0),o=g(""),c=g(),_=g();(()=>{P.Guide.SoftSourceList.GET().then(r=>{var m,b;if((m=r==null?void 0:r.data)!=null&&m.result){const D=(b=r==null?void 0:r.data)==null?void 0:b.result;_.value=D}}).then(()=>P.Guide.GetSoftSource.GET()).then(r=>{var m,b;if((m=r==null?void 0:r.data)!=null&&m.result){const D=r.data.result;c.value=D.softSource,(b=_.value)!=null&&b.softSourceList.find(p=>p.identity==D.softSource.identity)&&(o.value=D.softSource.identity)}})})();const h=r=>{r.preventDefault(),u.Close&&u.Close()},n=r=>{const m=A.Loading("\u6B63\u5728\u5207\u6362\u4E2D...");request.Guide.SoftSource.POST({softSourceIdentity:o.value}).then(b=>{if(b!=null&&b.data){if((b.data.success||0)==0){s.value=1;return}else if(b.data.error)throw b.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(b=>{A.Error(b)}).finally(()=>m.Close())},i=r=>{r.preventDefault(),location.reload()};return(r,m)=>(a(),L(st,{Close:e.Close,type:1},{default:V(()=>{var b,D;return[s.value==0?(a(),d("form",{key:0,class:"actioner-dns",onSubmit:it(n,["prevent"])},[go,t("div",bo,[t("div",yo,[Do,t("div",ko,[t("p",wo,F((b=c.value)==null?void 0:b.name),1)])]),t("div",Bo,[Ao,t("div",xo,[T(t("select",{name:"",id:"","onUpdate:modelValue":m[0]||(m[0]=p=>o.value=p)},[So,(a(!0),d(N,null,tt((D=_.value)==null?void 0:D.softSourceList,(p,l)=>(a(),d("option",{value:p.identity,key:l},F(p.name),9,Io))),128))],512),[[Et,o.value,void 0,{trim:!0}]])])])]),t("div",Vo,[t("button",{class:"cbi-button cbi-button-apply app-btn",disabled:o.value==""}," \u786E\u8BA4 ",8,Po),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:h}," \u53D6\u6D88 ")])],40,$o)):w("",!0),s.value==1?(a(),d("form",Mo,[To,t("div",Lo,[t("div",zo,[B(Yt)]),No,t("div",{class:"btns"},[t("button",{class:"cbi-button cbi-button-apply softsource_successed",onClick:i}," \u786E\u5B9A ")])])])):w("",!0)]}),_:1},8,["Close"]))}});var qo=S(Oo,[["__scopeId","data-v-5cf1870c"]]);const Ee=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=ut(qo,{Close:()=>{s()}});u.mount(e);const s=()=>{u.unmount(),e.remove()};return{Close:s}};const Ho={class:"utilities"},Uo=I({__name:"index",setup(e){const u=g(!1),s=g(),o=()=>{window.location.href="/cgi-bin/luci/admin/system/ota"},c=()=>{s.value.status=="unsupport"&&alert("\u8BE5\u56FA\u4EF6\u4E0D\u652F\u6301\u6C99\u7BB1\u6A21\u5F0F"),s.value.status=="stopped"&&ho()},_=()=>z(this,null,function*(){try{if((yield P.Quickstart.Guide.GlobalFolders.GET()).status!==200)return}catch(i){console.log(i);return}u.value=!0;try{const i=yield P.Storage.Get.POST({key:"nas_guide_init"});if(i.data){const{success:r,error:m,result:b}=i.data;if(b&&b.key=="nas_guide_init")return}}catch(i){return}f()}),f=()=>{if(!u.value){A.Warning("\u8BF7\u5148\u66F4\u65B0\u7CFB\u7EDF\u5230\u6700\u65B0\u7248\u672C");return}De.OpenGuideWindow()},h=()=>{var i,r,m,b;window.open(`${(r=(i=window.quickstart_configs)==null?void 0:i.ttyd)!=null&&r.ssl?"https":"http"}://${window.location.hostname}:${((b=(m=window.quickstart_configs)==null?void 0:m.ttyd)==null?void 0:b.port)||7681}/`,"_blank")};return(()=>{P.Nas.GetSandbox.GET().then(i=>{var r;console.log("getSandBox",i),(r=i==null?void 0:i.data)!=null&&r.result&&(s.value=i.data.result)}).catch(i=>A.Warning(i))})(),_(),(i,r)=>(a(),L(ft,{title:i.$t("\u5E38\u7528\u5DE5\u5177")},{default:V(()=>{var m;return[t("div",Ho,[t("div",{onClick:h},[t("span",null,"\u300B"+F(i.$t("\u7EC8\u7AEF")),1)]),t("div",{onClick:o},[t("span",null,F(i.$t("\u56FA\u4EF6\u66F4\u65B0")),1)]),t("div",{onClick:r[0]||(r[0]=(...b)=>Z(me)&&Z(me)(...b))},[t("span",null,F(i.$t("\u5185\u7F51\u914D\u7F6E")),1)]),t("div",{onClick:r[1]||(r[1]=(...b)=>Z(fe)&&Z(fe)(...b))},[t("span",null,F(i.$t("DNS\u914D\u7F6E")),1)]),t("div",{onClick:r[2]||(r[2]=(...b)=>Z(Ee)&&Z(Ee)(...b))},[t("span",null,F(i.$t("\u8F6F\u4EF6\u6E90\u914D\u7F6E")),1)]),t("div",{onClick:c},[t("span",null,F(((m=s.value)==null?void 0:m.status)=="running"?i.$t("\u6C99\u7BB1\u5DF2\u5F00\u542F"):i.$t("\u5F00\u542F\u6C99\u7BB1")),1)])])]}),_:1},8,["title"]))}});var Ro=S(Uo,[["__scopeId","data-v-47b0529a"]]),Go="/luci-static/istorex/network.svg?v=3025665f",Wo="/luci-static/istorex/device.svg?v=9068551e";const Zo={},jo={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},Xo=t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.375 12C3.375 12.4973 3.57254 12.9742 3.92417 13.3258C4.27581 13.6775 4.75272 13.875 5.25 13.875C5.74728 13.875 6.22419 13.6775 6.57583 13.3258C6.92746 12.9742 7.125 12.4973 7.125 12C7.125 11.5027 6.92746 11.0258 6.57583 10.6742C6.22419 10.3225 5.74728 10.125 5.25 10.125C4.75272 10.125 4.27581 10.3225 3.92417 10.6742C3.57254 11.0258 3.375 11.5027 3.375 12ZM10.125 12C10.125 12.4973 10.3225 12.9742 10.6742 13.3258C11.0258 13.6775 11.5027 13.875 12 13.875C12.4973 13.875 12.9742 13.6775 13.3258 13.3258C13.6775 12.9742 13.875 12.4973 13.875 12C13.875 11.5027 13.6775 11.0258 13.3258 10.6742C12.9742 10.3225 12.4973 10.125 12 10.125C11.5027 10.125 11.0258 10.3225 10.6742 10.6742C10.3225 11.0258 10.125 11.5027 10.125 12ZM17.4242 13.3258C17.0725 12.9742 16.875 12.4973 16.875 12C16.875 11.5027 17.0725 11.0258 17.4242 10.6742C17.7758 10.3225 18.2527 10.125 18.75 10.125C19.2473 10.125 19.7242 10.3225 20.0758 10.6742C20.4275 11.0258 20.625 11.5027 20.625 12C20.625 12.4973 20.4275 12.9742 20.0758 13.3258C19.7242 13.6775 19.2473 13.875 18.75 13.875C18.2527 13.875 17.7758 13.6775 17.4242 13.3258Z",fill:"black","fill-opacity":"0.8"},null,-1),Yo=[Xo];function Qo(e,u){return a(),d("svg",jo,Yo)}var Ko=S(Zo,[["render",Qo]]);const Jo=e=>(q("data-v-21e54302"),e=e(),H(),e),ta={key:0,class:"title"},ea=["href"],ua=Jo(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},[t("path",{d:"M7 14C3.1338 14 0 10.8662 0 7C0 3.1338 3.1338 0 7 0C10.8662 0 14 3.1338 14 7C14 10.8662 10.8662 14 7 14ZM7 10.9375C7.25944 10.9375 7.46988 10.8535 7.63175 10.6859C7.79362 10.5179 7.875 10.3101 7.875 10.0625C7.875 9.81487 7.79407 9.61099 7.63175 9.45131C7.46987 9.29119 7.25944 9.20368 7 9.1875C6.65962 9.20369 6.4085 9.3555 6.24663 9.64292C6.08475 9.93081 6.08475 10.2182 6.24663 10.5061C6.4085 10.7936 6.65962 10.9375 7 10.9375ZM7.67025 8.07931C7.67025 8.02901 7.65275 7.88463 7.65493 7.90519C7.637 7.72319 7.66107 7.56131 7.76081 7.40513C7.83344 7.29094 7.94588 7.18375 8.11388 7.08444C9.10175 6.50081 9.46312 5.85068 9.44256 5.17431C9.41195 4.16106 8.66556 3.16663 7.04682 3.15218C5.69361 3.1395 4.80418 3.79312 4.59376 5.02031C4.56892 5.18979 4.61132 5.36226 4.71192 5.50089C4.81251 5.63952 4.96332 5.73333 5.13214 5.76229C5.30096 5.79124 5.47441 5.75305 5.61545 5.65586C5.75649 5.55867 5.85394 5.41019 5.88699 5.24212C5.98282 4.6865 6.29388 4.4577 7.03456 4.46425C7.84699 4.47169 8.11956 4.83481 8.13094 5.21325C8.13376 5.27833 8.11633 5.34268 8.08106 5.39744C7.9905 5.56018 7.79405 5.7492 7.44669 5.95438C7.10324 6.15694 6.83899 6.40894 6.6535 6.70032C6.36518 7.15313 6.3022 7.60113 6.35119 8.05656C6.35862 8.12525 6.35776 8.1165 6.35776 8.07932C6.35734 8.16577 6.374 8.25145 6.4068 8.33143C6.43959 8.41142 6.48786 8.48414 6.54884 8.54542C6.60982 8.60669 6.6823 8.65532 6.76213 8.68849C6.84196 8.72167 6.92756 8.73875 7.014 8.73875C7.10045 8.73875 7.18605 8.72167 7.26587 8.68849C7.3457 8.65532 7.41819 8.60669 7.47917 8.54542C7.54015 8.48414 7.58842 8.41142 7.62121 8.33143C7.654 8.25145 7.67067 8.16575 7.67025 8.07931Z",fill:"#E1B8B2"})],-1)),sa=[ua],na={class:"toolbar"},oa={key:1,class:"more-icon"},aa={class:"actions"},ia=["onClick"],la=I({__name:"index",props:{span:{},height:{},title:{},padding:{},helpLink:{},moreActions:{},action:{}},setup(e){const u=e,s=g(!1),o=()=>{s.value=!s.value},c=mt({width:`calc(${u.span*100/24}% - 10px)`,height:u.height+"px"});return(_,f)=>{var h,n,i;return a(),d("div",{class:"card",style:J(c)},[t("div",null,[u.title?(a(),d("div",ta,[t("span",null,F(u.title),1),u.helpLink?(a(),d("a",{key:0,href:u.helpLink,target:"_blank"},sa,8,ea)):w("",!0),t("div",na,[u.action&&u.action.show!==!1?(a(),d("div",{key:0,class:"action",onClick:f[0]||(f[0]=(...r)=>{var m,b;return((m=u.action)==null?void 0:m.onClick)&&((b=u.action)==null?void 0:b.onClick(...r))})},F((h=u.action)==null?void 0:h.text),1)):w("",!0),(i=(n=u.moreActions)==null?void 0:n.filter(({show:r})=>r!==!1))!=null&&i.length?(a(),d("span",oa,[B(Ko,{onClick:o})])):w("",!0),T(t("div",aa,[t("div",{class:"menu_background",onClick:o}),t("ul",null,[(a(!0),d(N,null,tt(u.moreActions,r=>(a(),d("li",{onClick:r.onClick},F(r.text),9,ia))),256))])],512),[[Ue,s.value]])])])):w("",!0),t("div",{class:"card-body",style:J(`padding:${u.padding}`)},[bt(_.$slots,"default",{},void 0,!0)],4)])],4)}}});var W=S(la,[["__scopeId","data-v-21e54302"]]);const ca={class:"flow"},da={class:"flow-data"},ra={key:0},_a={key:1},pa=I({__name:"flow-chart",setup(e){Qe([Ke,Je,tu,eu,uu,su]);const u=g(),s=D=>{var l;const p=(l=u.value)==null?void 0:l[D];return!p||p.startTime==0?"":n(p.startTime*1e3)+"-"+n(p.endTime*1e3)},o=R(()=>{var p;let D=[];return(p=u.value)==null||p.forEach(l=>{D.push({value:l.uploadSpeed})}),D}),c=R(()=>{var p;let D=[];return(p=u.value)==null||p.forEach(l=>{D.push({value:l.downloadSpeed})}),D}),_=R(()=>{var p;let D="";if(u.value){let l=((p=u.value)==null?void 0:p.length)||0;if(l>0){let E=u.value[l-1];D=i(E.uploadSpeed)+"/s"}}return D}),f=R(()=>{var p;let D="";if(u.value){let l=((p=u.value)==null?void 0:p.length)||0;if(l>0){let E=u.value[l-1];D=i(E.downloadSpeed)+"/s"}}return D});R(()=>{var p;let D=[];return(p=u.value)==null||p.forEach(l=>{D.push({value:l.downloadSpeed+l.uploadSpeed})}),D});const h=()=>z(this,null,function*(){var D;try{const p=yield P.Network.Statistics.GET();if(p.data&&(D=p.data.result)!=null&&D.items){const l=p.data.result.slots||10;if(p.data.result.items.length<l){let E=p.data.result.items;for(;E.length<l;)E=[{downloadSpeed:0,endTime:0,startTime:0,uploadSpeed:0}].concat(E);u.value=E}else p.data.result.items.length>l?u.value=p.data.result.items.slice(l-p.data.result.items.length):u.value=p.data.result.items}}catch(p){console.log(p)}}),n=Ot.dateForm,i=Ot.byteToSize,r=g();let m=null;const b=D=>(m=nu(D,"dark"),m.setOption({animation:!1,backgroundColor:"transparent",color:["transparent","transparent"],tooltip:{trigger:"axis",formatter:p=>{if(Array.isArray(p)){let l="";p.length>0&&(l=s(p[0].axisValue));for(let E=0;E<p.length;E++)l=`${l}<br>${p[E].seriesName}: ${i(p[E].value)}/s`;return l.toString()}else{const l=p;return`${s(l.axisValue)}<br>${l.seriesName}: ${i(l.value)}/s`}}},xAxis:{type:"category",boundaryGap:!1,splitLine:{lineStyle:{color:["#999"]},show:!1},name:"",show:!1,nameGap:0,nameTextStyle:{height:0,lineHeight:0,padding:0}},yAxis:{type:"value",name:"",minInterval:1e4,interval:1e3,axisLabel:{formatter:function(p,l){return`${i(p)}/s`},color:"#fff",show:!1},nameTextStyle:{color:"#fff"},splitLine:{lineStyle:{color:["#999"]},show:!1}},series:[{name:"\u4E0B\u8F7D",data:c.value,type:"line",smooth:!0,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(32, 199, 247, 1)"},{offset:1,color:"rgba(32, 199, 247, 0.1)"}],global:!1}}},{name:"\u4E0A\u4F20",data:o.value,type:"line",smooth:!0,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(85, 58, 254, 1)"},{offset:1,color:"rgba(85, 58, 254, 0.1)"}],global:!1}}}],grid:{left:"0%",right:"0%",bottom:"0%",top:"0w",containLabel:!0}}),m);return lt(()=>{setTimeout(()=>z(this,null,function*(){if(r.value){yield h();const D=b(r.value),p=r.value;D.resize({width:p.clientWidth,height:p.clientHeight}),window.addEventListener("resize",()=>{D.resize({width:p.clientWidth,height:p.clientHeight})});const l=()=>z(this,null,function*(){m!=null&&(yield h(),m!=null&&(D.setOption({series:[{name:"\u4E0B\u8F7D",data:c.value,type:"line",areaStyle:{},smooth:!0},{name:"\u4E0A\u4F20",data:o.value,type:"line",areaStyle:{},smooth:!0}]}),setTimeout(l,5e3)))});setTimeout(l,5e3)}}),900)}),wt(()=>{m!=null&&(m.dispose(),m=null)}),(D,p)=>(a(),d("div",ca,[t("div",{ref_key:"el",ref:r,class:"echart"},null,512),t("div",da,[_.value?(a(),d("span",ra,F(D.$t("\u4E0A\u4F20"))+": "+F(_.value),1)):w("",!0),f.value?(a(),d("span",_a,F(D.$t("\u4E0B\u8F7D"))+": "+F(f.value),1)):w("",!0)])]))}});var va=S(pa,[["__scopeId","data-v-475e377c"]]);const Ae=e=>(q("data-v-39628bee"),e=e(),H(),e),ha={class:"width-45 responsive"},Fa={class:"width-55 responsive"},ma={class:"network"},fa=Ae(()=>t("img",{src:Go,alt:"network"},null,-1)),Ea={class:"device"},Ca=Ae(()=>t("img",{src:Wo,alt:"device"},null,-1)),$a={class:"ip-dns"},ga={class:"title"},ba={class:"ip"},ya={class:"title"},Da={class:"dns"},ka=I({__name:"index",setup(e){const u=Ot.stampForm,s=n=>{switch(n){case"pppoe":return dt.global.t("\u62E8\u53F7\u4E0A\u7F51");case"static":return dt.global.t("\u9759\u6001\u7F51\u7EDC");case"dhcp":return"DHCP"}return n&&n.toUpperCase()},o=n=>{switch(n){case"manual":return dt.global.t("\u624B\u52A8\u914D\u7F6E");case"auto":return dt.global.t("\u81EA\u52A8\u83B7\u53D6");default:return""}},c=mt({ipv4addr:"",ipv6addr:"",internetConnected:!1,proto:"",dnsProto:"",dnsList:[],uptimeStamp:0}),_=g({devices:[]}),f=()=>z(this,null,function*(){P.Network.Status.GET().then(n=>{if(n!=null&&n.data){const{result:i}=n==null?void 0:n.data;i&&(c.ipv4addr=i.ipv4addr,c.proto=i.proto,c.dnsProto=i.dnsProto,c.ipv6addr=i.ipv6addr,c.dnsList=i.dnsList,c.uptimeStamp=i.uptimeStamp,window.setInterval(()=>{c.uptimeStamp&&(c.uptimeStamp=c.uptimeStamp+1)},1e3))}})}),h=()=>z(this,null,function*(){P.Network.Device.List.GET().then(n=>{if(n!=null&&n.data){const{result:i}=n==null?void 0:n.data;_.value={devices:(i==null?void 0:i.devices)||[]}}})});return f(),h(),(n,i)=>(a(),L(ft,null,{default:V(()=>[t("div",ha,[B(W,{title:n.$t("\u6D41\u91CF\u7EDF\u8BA1"),span:24,padding:"0 8px"},{default:V(()=>[B(va)]),_:1},8,["title"])]),t("div",Fa,[B(W,{span:12},{default:V(()=>[t("div",ma,[fa,t("div",null,[t("span",null,F(n.$t("\u5DF2\u8FDE\u63A5\u4E92\u8054\u7F51")),1),t("span",null,F(Z(u)(c.uptimeStamp)),1)])])]),_:1}),B(W,{span:12},{default:V(()=>{var r;return[t("div",Ea,[Ca,t("div",null,[t("span",null,F(n.$t("\u5DF2\u8FDE\u63A5\u8BBE\u5907")),1),t("span",null,F(`${(r=_.value.devices)==null?void 0:r.length}${n.$t("\u53F0")}`),1)])])]}),_:1}),B(W,{span:24},{default:V(()=>[t("div",$a,[t("span",ga,F(n.$t("IP\u5730\u5740")),1),t("div",ba,[t("span",null,F(`IPv4\uFF1A${c.ipv4addr}\uFF08${s(c.proto||"")}\uFF09`),1),t("span",null,F(`IPv6\uFF1A${c.ipv6addr||"-"}`),1)]),t("span",ya,F(`DNS\uFF08${o(c.dnsProto||"")}\uFF09`),1),t("div",Da,[(a(!0),d(N,null,tt(c.dnsList,r=>(a(),d("span",null,F(r),1))),256))])])]),_:1})])]),_:1}))}});var wa=S(ka,[["__scopeId","data-v-39628bee"]]),Ba="/luci-static/istorex/open.svg?v=84274947",Aa="/luci-static/istorex/info.svg?v=7035c5f2";const Ct=e=>(q("data-v-bd2acf72"),e=e(),H(),e),xa=["onSubmit"],Sa=Ct(()=>t("div",{class:"action-header"},[t("div",{class:"action-header_title"},"\u786C\u76D8\u914D\u7F6E")],-1)),Ia={class:"action-body"},Va={class:"disk-info"},Pa=Ct(()=>t("div",{class:"disk-info_icon"},[t("svg",{t:"1642589762094",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11301",width:"128",height:"128"},[t("path",{d:"M899.892468 123.889088c0-44.342099-36.286708-80.620486-80.624646-80.620486H204.728017C160.385918 43.268602 124.107532 79.546988 124.107532 123.889088v802.847056c0 44.342099 36.278386 80.620486 80.620485 80.620486h614.539805c44.337938 0 80.624646-36.278386 80.624646-80.620486V123.889088z",fill:"#D0D0DB","p-id":"11302"}),t("path",{d:"M169.8768 977.7772V174.930143c0-44.342099 36.278386-80.620486 80.620486-80.620485h614.539804c9.936092 0 19.426974 1.905666 28.239639 5.23434-11.525534-30.507298-40.996782-52.389169-75.398629-52.389169H203.342457c-44.342099 0-80.620486 36.278386-80.620486 80.620486v802.851217c0 34.410168 21.881871 63.873094 52.385008 75.381985A79.730065 79.730065 0 0 1 169.8768 977.7772z",fill:"#FFFFFF","p-id":"11303"}),t("path",{d:"M820.657543 40.497481H206.117739c-44.342099 0-80.620486 36.278386-80.620486 80.620485v802.847057c0 44.342099 36.278386 80.620486 80.620486 80.620486h614.539804c44.337938 0 80.624646-36.278386 80.624647-80.620486V121.117966c0-44.342099-36.286708-80.620486-80.624647-80.620485z m19.60173 828.785749c0 40.846992-33.43237 74.279362-74.287684 74.279361H199.780776c-40.855313 0-74.279362-33.424048-74.279362-74.279361V129.593603c0-40.855313 33.424048-74.279362 74.279362-74.279362h566.203296c40.842831 0 74.283522 33.424048 74.283522 74.279362l-0.008321 739.689627z",fill:"#6E6E96","p-id":"11304"}),t("path",{d:"M815.106979 1024H200.567175C146.933914 1024 103.303319 980.369405 103.303319 926.736144V123.889088C103.303319 70.255827 146.933914 26.625232 200.567175 26.625232h614.539804c53.633261 0 97.268017 43.630595 97.268017 97.263856v802.847056c0 53.633261-43.634756 97.263856-97.268017 97.263856zM200.567175 59.911972C165.287391 59.911972 136.590059 88.609303 136.590059 123.889088v802.847056c0 35.279784 28.697331 63.977115 63.977116 63.977115h614.539804c35.279784 0 63.981276-28.697331 63.981276-63.977115V123.889088c0-35.279784-28.701492-63.977115-63.981276-63.977116H200.567175z",fill:"#6E6E96","p-id":"11305"}),t("path",{d:"M301.946104 941.515457h429.985632v65.841173H301.946104z",fill:"#8A8AA1","p-id":"11306"}),t("path",{d:"M731.931736 1024H301.946104a16.64337 16.64337 0 0 1-16.64337-16.64337V941.515457a16.64337 16.64337 0 0 1 16.64337-16.64337h429.985632a16.64337 16.64337 0 0 1 16.64337 16.64337v65.841173a16.64337 16.64337 0 0 1-16.64337 16.64337z m-413.342262-33.286741h396.698892v-32.554432H318.589474v32.554432z",fill:"#6E6E96","p-id":"11307"}),t("path",{d:"M337.230049 960.318304h20.804213v47.038326h-20.804213zM386.565159 960.318304h20.804213v47.038326h-20.804213zM435.891948 960.318304h20.804213v47.038326h-20.804213zM485.231219 960.318304h20.804213v47.038326h-20.804213zM534.558008 960.318304h20.804213v47.038326h-20.804213zM583.897279 960.318304h20.804213v47.038326h-20.804213zM633.224068 960.318304h20.804213v47.038326h-20.804213zM682.563339 960.318304h20.804213v47.038326h-20.804213z",fill:"#FFE599","p-id":"11308"}),t("path",{d:"M219.153659 140.794591m-26.874883 0a26.874882 26.874882 0 1 0 53.749765 0 26.874882 26.874882 0 1 0-53.749765 0Z",fill:"#ADADD1","p-id":"11309"}),t("path",{d:"M219.153659 184.312843c-23.995579 0-43.518252-19.522673-43.518253-43.518252s19.522673-43.518252 43.518253-43.518253 43.518252 19.522673 43.518252 43.518253-19.522673 43.518252-43.518252 43.518252z m0-53.749764c-5.642103 0-10.231512 4.589409-10.231512 10.231512s4.589409 10.231512 10.231512 10.231512 10.231512-4.589409 10.231511-10.231512-4.589409-10.231512-10.231511-10.231512z",fill:"#6E6E96","p-id":"11310"}),t("path",{d:"M801.28466 140.794591m-26.870721 0a26.870721 26.870721 0 1 0 53.741442 0 26.870721 26.870721 0 1 0-53.741442 0Z",fill:"#ADADD1","p-id":"11311"}),t("path",{d:"M801.28466 184.308683c-23.995579 0-43.514092-19.518512-43.514091-43.514092s19.518512-43.514092 43.514091-43.514092 43.514092 19.518512 43.514092 43.514092-19.518512 43.514092-43.514092 43.514092z m0-53.741443c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11312"}),t("path",{d:"M801.280499 905.23291m-26.870721 0a26.870721 26.870721 0 1 0 53.741443 0 26.870721 26.870721 0 1 0-53.741443 0Z",fill:"#ADADD1","p-id":"11313"}),t("path",{d:"M801.280499 948.747001c-23.995579 0-43.514092-19.518512-43.514091-43.514091s19.518512-43.514092 43.514091-43.514092 43.514092 19.518512 43.514092 43.514092-19.518512 43.514092-43.514092 43.514091z m0-53.741442c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11314"}),t("path",{d:"M219.153659 905.23291m-26.870722 0a26.870721 26.870721 0 1 0 53.741443 0 26.870721 26.870721 0 1 0-53.741443 0Z",fill:"#ADADD1","p-id":"11315"}),t("path",{d:"M219.153659 948.747001c-23.995579 0-43.514092-19.518512-43.514092-43.514091s19.518512-43.514092 43.514092-43.514092 43.514092 19.518512 43.514091 43.514092-19.522673 43.514092-43.514091 43.514091z m0-53.741442c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11316"}),t("path",{d:"M520.972857 777.43263c-142.542145 0-258.508988-115.971004-258.508988-258.52147a16.64337 16.64337 0 0 1 33.28674 0c0 124.19699 101.033579 225.23473 225.222248 225.23473s225.222248-101.03774 225.222248-225.23473c0-124.188668-101.033579-225.218087-225.222248-225.218087a16.64337 16.64337 0 0 1 0-33.286741c142.542145 0 258.508988 115.966843 258.508988 258.504828 0 142.550466-115.966843 258.521471-258.508988 258.52147z",fill:"#6E6E96","p-id":"11317"}),t("path",{d:"M520.968696 518.919481m-83.312551 0a83.312551 83.312551 0 1 0 166.625102 0 83.312551 83.312551 0 1 0-166.625102 0Z",fill:"#A9A9BA","p-id":"11318"}),t("path",{d:"M520.968696 618.875402c-55.114521 0-99.955921-44.83724-99.955921-99.95176 0-55.118682 44.8414-99.955921 99.955921-99.955921s99.95176 44.8414 99.95176 99.955921c0 55.11036-44.83724 99.95176-99.95176 99.95176z m0-166.625101c-36.761044 0-66.669181 29.908136-66.66918 66.66918s29.908136 66.66502 66.66918 66.66502 66.66502-29.908136 66.66502-66.66502c0-36.761044-29.903976-66.669181-66.66502-66.66918z",fill:"#6E6E96","p-id":"11319"}),t("path",{d:"M301.946104 941.515457h429.985632v36.977408H301.946104z",fill:"#6E6E96","p-id":"11320"})])],-1)),Ma={key:0,class:"disk-info_mount-name"},Ta={key:1,class:"disk-info_mount-name"},La={key:0,class:"label-item"},za=Ct(()=>t("div",{class:"label-item_key"},[t("span",null,"\u76EE\u6807\u5206\u533A")],-1)),Na={class:"label-item_path"},Oa={class:"label-item"},qa=Ct(()=>t("div",{class:"label-item_key"},[t("span",null,"\u683C\u5F0F\u5316\u9009\u9879")],-1)),Ha={class:"label-item_value"},Ua=["disabled"],Ra={key:0,value:""},Ga=Ct(()=>t("option",{value:"format"},"\u683C\u5F0F\u5316",-1)),Wa={key:1,value:"default"},Za={class:"label-item_value"},ja={key:0,class:"msg"},Xa={key:1,class:"msg"},Ya={class:"action-footer"},Qa=Ct(()=>t("div",{class:"auto"},null,-1)),Ka=["disabled"],Ja=["disabled"],ti={key:1,class:"action result"},ei={class:"action-body"},ui=Ct(()=>t("div",{class:"action-body_icon"},[t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128","data-v-cda444e0":""},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063","data-v-cda444e0":""})])],-1)),si=Ct(()=>t("div",{class:"action-body_msg"},"\u683C\u5F0F\u5316\u6210\u529F",-1)),ni={key:0,class:"action-body_info"},oi={key:1,class:"action-body_info"},ai={class:"btns"},ii=I({__name:"index",props:{action:String,disk:{type:Object,required:!0},mount:{type:Object},Close:{type:Function},Cancel:{type:Function},Next:{type:Function}},setup(e){const u=e,s=()=>{u.Close&&u.Close()},o=v=>{v.preventDefault(),u.Cancel&&u.Cancel(),s()},c=v=>{u.Next&&u.Next(v),s()},_=g(!1),f=g(0),h=v=>{f.value=v},n=g(u.action=="nas"?"":"format"),i=g(),r=g(),m=()=>{switch(n.value){case"format":D();return;case"default":b();return;default:A.Warning("\u8BF7\u9009\u62E9\u9009\u7EBF");return}},b=()=>{let v="";const C=u.mount;if(C!=null&&C.mountPoint!=null&&(v=C.mountPoint),v!=""){c(v);return}A.Warning("\u65E0\u6CD5\u8BC6\u522B\u8DEF\u5F84")},D=()=>{const v=u.disk,C=u.mount;if(C){const k=C.mountPoint||C.path;if(!confirm(`\u8B66\u544A\uFF1A\u683C\u5F0F\u5316\u4F1A\u6E05\u7A7A ${k} \u5206\u533A\u6570\u636E\uFF0C\u8BF7\u4F60\u8C28\u614E\u64CD\u4F5C`)||!confirm(`\u662F\u5426\u786E\u5B9A\u683C\u5F0F\u5316 ${k}?`))return;l(C);return}if(v){if(!confirm(`\u8B66\u544A\uFF1A\u8BE5\u64CD\u4F5C\u5C06\u521D\u59CB\u5316 ${v.venderModel} \u786C\u76D8\u5E76\u521B\u5EFA\u5206\u533A\uFF0C\u8BF7\u4F60\u8C28\u614E\u64CD\u4F5C`)||!confirm("\u662F\u5426\u786E\u5B9A\u521D\u59CB\u5316?"))return;p(v);return}A.Warning("\u65E0\u6CD5\u8BC6\u522B\u6570\u636E")},p=v=>z(this,null,function*(){if(v.name==null||v.path==""){A.Warning("\u83B7\u53D6\u4E0D\u5230\u8BBE\u5907\u540D\u79F0");return}if(v.path==null||v.path==""){A.Warning("\u83B7\u53D6\u4E0D\u5230\u8BBE\u5907\u8DEF\u5F84");return}_.value=!0;const C=A.Loading("\u521D\u59CB\u5316\u4E2D...");try{const k=yield P.Nas.Disk.Init.POST({name:v.name,path:v.path});if(k!=null&&k.data){const{result:$,error:y}=k==null?void 0:k.data;y&&A.Warning(y),$&&($.errorInfo?A.Warning($.errorInfo):(A.Success("\u521D\u59CB\u5316\u6210\u529F"),$.childrens&&$.childrens.length>0&&(r.value=$.childrens[0]),i.value=$,h(1)))}}catch(k){A.Error(k)}C.Close(),_.value=!1}),l=v=>z(this,null,function*(){if(v.path==null||v.path==""){A.Warning("\u83B7\u53D6\u4E0D\u5230\u5206\u533A\u8DEF\u5F84");return}_.value=!0;const C=A.Loading("\u683C\u5F0F\u5316\u4E2D...");try{const k=yield P.Nas.Disk.Partition.Format.POST({path:v.path,uuid:v.uuid,mountPoint:v.mountPoint});if(k!=null&&k.data){const{result:$,error:y}=k==null?void 0:k.data;y&&A.Warning(y),$&&(A.Success("\u683C\u5F0F\u5316\u6210\u529F"),r.value=$,h(1))}}catch(k){A.Error(k)}C.Close(),_.value=!1}),E=()=>{if(r.value&&r.value.mountPoint){c(r.value.mountPoint);return}A.Warning("\u8BFB\u53D6\u7ED3\u679C\u5931\u8D25")};return(v,C)=>(a(),L(st,{type:1},{default:V(()=>[B(Lt,{name:"rotate",mode:"out-in"},{default:V(()=>{var k;return[f.value==0?(a(),d("form",{key:0,class:"action format",onSubmit:it(m,["prevent"])},[Sa,t("div",Ia,[t("div",Va,[Pa,e.mount?(a(),d("div",Ma,[t("span",null,"\u3010"+F(e.mount.total)+"\u3011",1),t("span",null,F(e.mount.mountPoint||e.mount.path),1)])):e.disk?(a(),d("div",Ta,[t("span",null,"\u3010"+F(e.disk.size)+"\u3011",1),t("span",null,F(e.disk.venderModel),1)])):w("",!0)]),e.mount?(a(),d("div",La,[za,t("div",Na,F(e.mount.mountPoint||e.mount.path)+"\uFF08"+F(e.mount.total)+"\uFF09 ",1)])):w("",!0),t("div",Oa,[qa,t("div",Ha,[T(t("select",{"onUpdate:modelValue":C[0]||(C[0]=$=>n.value=$),required:"",disabled:e.action=="disk"},[e.mount!=null?(a(),d("option",Ra,"\u8BF7\u9009\u62E9\u9009\u9879")):w("",!0),Ga,e.mount!=null?(a(),d("option",Wa," \u4E0D\u683C\u5F0F\u5316,\u4F7F\u7528\u539F\u6587\u4EF6\u7CFB\u7EDF ")):w("",!0)],8,Ua),[[Et,n.value]])]),t("div",Za,[n.value=="format"?(a(),d("p",ja," \u683C\u5F0F\u5316\u4E3AEXT4\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u4F20\u8F93\u901F\u5EA6\u66F4\u5FEB ")):n.value=="default"?(a(),d("p",Xa)):w("",!0)])])]),t("div",Ya,[Qa,t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:o,type:"button",disabled:_.value}," \u8FD4\u56DE ",8,Ka),t("button",{class:"cbi-button cbi-button-apply app-btn app-next",disabled:_.value}," \u4E0B\u4E00\u6B65 ",8,Ja)])],40,xa)):f.value==1?(a(),d("div",ti,[t("div",ei,[ui,si,i.value?(a(),d("div",ni,[K(" \u5DF2\u7ECF\u6210\u529F\u683C\u5F0F\u5316\u78C1\u76D8 "+F(i.value.venderModel)+" \u5E76\u6302\u8F7D\u5230 ",1),t("a",null,F((k=r.value)==null?void 0:k.mountPoint),1)])):w("",!0),r.value?(a(),d("div",oi,[K(" \u5DF2\u7ECF\u6210\u529F\u521D\u59CB\u5316\u5206\u533A "),t("a",null,F(r.value.mountPoint),1)])):w("",!0),t("div",ai,[t("button",{class:"cbi-button cbi-button-apply app-btn app-next",type:"button",onClick:E},F(e.action=="nas"?"\u4E0B\u4E00\u6B65":"\u5B8C\u6210"),1)])])])):w("",!0)]}),_:1})]),_:1}))}});var li=S(ii,[["__scopeId","data-v-bd2acf72"]]),xe=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=ut(li,ht(vt({},e),{Close:()=>{o()}}));s.mount(u);const o=()=>{s.unmount(),u.remove()};return{Close:o}};const Dt=e=>(q("data-v-3a7479d2"),e=e(),H(),e),ci=["onSubmit"],di=Dt(()=>t("div",{class:"action-header"},[t("div",{class:"action-header_title"})],-1)),ri={class:"action-body"},_i={class:"disk-info"},pi=Dt(()=>t("div",{class:"disk-info_icon"},[t("svg",{t:"1642589762094",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11301",width:"128",height:"128"},[t("path",{d:"M899.892468 123.889088c0-44.342099-36.286708-80.620486-80.624646-80.620486H204.728017C160.385918 43.268602 124.107532 79.546988 124.107532 123.889088v802.847056c0 44.342099 36.278386 80.620486 80.620485 80.620486h614.539805c44.337938 0 80.624646-36.278386 80.624646-80.620486V123.889088z",fill:"#D0D0DB","p-id":"11302"}),t("path",{d:"M169.8768 977.7772V174.930143c0-44.342099 36.278386-80.620486 80.620486-80.620485h614.539804c9.936092 0 19.426974 1.905666 28.239639 5.23434-11.525534-30.507298-40.996782-52.389169-75.398629-52.389169H203.342457c-44.342099 0-80.620486 36.278386-80.620486 80.620486v802.851217c0 34.410168 21.881871 63.873094 52.385008 75.381985A79.730065 79.730065 0 0 1 169.8768 977.7772z",fill:"#FFFFFF","p-id":"11303"}),t("path",{d:"M820.657543 40.497481H206.117739c-44.342099 0-80.620486 36.278386-80.620486 80.620485v802.847057c0 44.342099 36.278386 80.620486 80.620486 80.620486h614.539804c44.337938 0 80.624646-36.278386 80.624647-80.620486V121.117966c0-44.342099-36.286708-80.620486-80.624647-80.620485z m19.60173 828.785749c0 40.846992-33.43237 74.279362-74.287684 74.279361H199.780776c-40.855313 0-74.279362-33.424048-74.279362-74.279361V129.593603c0-40.855313 33.424048-74.279362 74.279362-74.279362h566.203296c40.842831 0 74.283522 33.424048 74.283522 74.279362l-0.008321 739.689627z",fill:"#6E6E96","p-id":"11304"}),t("path",{d:"M815.106979 1024H200.567175C146.933914 1024 103.303319 980.369405 103.303319 926.736144V123.889088C103.303319 70.255827 146.933914 26.625232 200.567175 26.625232h614.539804c53.633261 0 97.268017 43.630595 97.268017 97.263856v802.847056c0 53.633261-43.634756 97.263856-97.268017 97.263856zM200.567175 59.911972C165.287391 59.911972 136.590059 88.609303 136.590059 123.889088v802.847056c0 35.279784 28.697331 63.977115 63.977116 63.977115h614.539804c35.279784 0 63.981276-28.697331 63.981276-63.977115V123.889088c0-35.279784-28.701492-63.977115-63.981276-63.977116H200.567175z",fill:"#6E6E96","p-id":"11305"}),t("path",{d:"M301.946104 941.515457h429.985632v65.841173H301.946104z",fill:"#8A8AA1","p-id":"11306"}),t("path",{d:"M731.931736 1024H301.946104a16.64337 16.64337 0 0 1-16.64337-16.64337V941.515457a16.64337 16.64337 0 0 1 16.64337-16.64337h429.985632a16.64337 16.64337 0 0 1 16.64337 16.64337v65.841173a16.64337 16.64337 0 0 1-16.64337 16.64337z m-413.342262-33.286741h396.698892v-32.554432H318.589474v32.554432z",fill:"#6E6E96","p-id":"11307"}),t("path",{d:"M337.230049 960.318304h20.804213v47.038326h-20.804213zM386.565159 960.318304h20.804213v47.038326h-20.804213zM435.891948 960.318304h20.804213v47.038326h-20.804213zM485.231219 960.318304h20.804213v47.038326h-20.804213zM534.558008 960.318304h20.804213v47.038326h-20.804213zM583.897279 960.318304h20.804213v47.038326h-20.804213zM633.224068 960.318304h20.804213v47.038326h-20.804213zM682.563339 960.318304h20.804213v47.038326h-20.804213z",fill:"#FFE599","p-id":"11308"}),t("path",{d:"M219.153659 140.794591m-26.874883 0a26.874882 26.874882 0 1 0 53.749765 0 26.874882 26.874882 0 1 0-53.749765 0Z",fill:"#ADADD1","p-id":"11309"}),t("path",{d:"M219.153659 184.312843c-23.995579 0-43.518252-19.522673-43.518253-43.518252s19.522673-43.518252 43.518253-43.518253 43.518252 19.522673 43.518252 43.518253-19.522673 43.518252-43.518252 43.518252z m0-53.749764c-5.642103 0-10.231512 4.589409-10.231512 10.231512s4.589409 10.231512 10.231512 10.231512 10.231512-4.589409 10.231511-10.231512-4.589409-10.231512-10.231511-10.231512z",fill:"#6E6E96","p-id":"11310"}),t("path",{d:"M801.28466 140.794591m-26.870721 0a26.870721 26.870721 0 1 0 53.741442 0 26.870721 26.870721 0 1 0-53.741442 0Z",fill:"#ADADD1","p-id":"11311"}),t("path",{d:"M801.28466 184.308683c-23.995579 0-43.514092-19.518512-43.514091-43.514092s19.518512-43.514092 43.514091-43.514092 43.514092 19.518512 43.514092 43.514092-19.518512 43.514092-43.514092 43.514092z m0-53.741443c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11312"}),t("path",{d:"M801.280499 905.23291m-26.870721 0a26.870721 26.870721 0 1 0 53.741443 0 26.870721 26.870721 0 1 0-53.741443 0Z",fill:"#ADADD1","p-id":"11313"}),t("path",{d:"M801.280499 948.747001c-23.995579 0-43.514092-19.518512-43.514091-43.514091s19.518512-43.514092 43.514091-43.514092 43.514092 19.518512 43.514092 43.514092-19.518512 43.514092-43.514092 43.514091z m0-53.741442c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11314"}),t("path",{d:"M219.153659 905.23291m-26.870722 0a26.870721 26.870721 0 1 0 53.741443 0 26.870721 26.870721 0 1 0-53.741443 0Z",fill:"#ADADD1","p-id":"11315"}),t("path",{d:"M219.153659 948.747001c-23.995579 0-43.514092-19.518512-43.514092-43.514091s19.518512-43.514092 43.514092-43.514092 43.514092 19.518512 43.514091 43.514092-19.522673 43.514092-43.514091 43.514091z m0-53.741442c-5.637942 0-10.227351 4.589409-10.227351 10.227351s4.589409 10.227351 10.227351 10.227351 10.227351-4.589409 10.227351-10.227351-4.589409-10.227351-10.227351-10.227351z",fill:"#6E6E96","p-id":"11316"}),t("path",{d:"M520.972857 777.43263c-142.542145 0-258.508988-115.971004-258.508988-258.52147a16.64337 16.64337 0 0 1 33.28674 0c0 124.19699 101.033579 225.23473 225.222248 225.23473s225.222248-101.03774 225.222248-225.23473c0-124.188668-101.033579-225.218087-225.222248-225.218087a16.64337 16.64337 0 0 1 0-33.286741c142.542145 0 258.508988 115.966843 258.508988 258.504828 0 142.550466-115.966843 258.521471-258.508988 258.52147z",fill:"#6E6E96","p-id":"11317"}),t("path",{d:"M520.968696 518.919481m-83.312551 0a83.312551 83.312551 0 1 0 166.625102 0 83.312551 83.312551 0 1 0-166.625102 0Z",fill:"#A9A9BA","p-id":"11318"}),t("path",{d:"M520.968696 618.875402c-55.114521 0-99.955921-44.83724-99.955921-99.95176 0-55.118682 44.8414-99.955921 99.955921-99.955921s99.95176 44.8414 99.95176 99.955921c0 55.11036-44.83724 99.95176-99.95176 99.95176z m0-166.625101c-36.761044 0-66.669181 29.908136-66.66918 66.66918s29.908136 66.66502 66.66918 66.66502 66.66502-29.908136 66.66502-66.66502c0-36.761044-29.903976-66.669181-66.66502-66.66918z",fill:"#6E6E96","p-id":"11319"}),t("path",{d:"M301.946104 941.515457h429.985632v36.977408H301.946104z",fill:"#6E6E96","p-id":"11320"})])],-1)),vi={key:0,class:"disk-info_mount-name"},hi={key:1,class:"disk-info_mount-name"},Fi={key:0,class:"label-item"},mi=Dt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u76EE\u6807\u5206\u533A")],-1)),fi={class:"label-item_path"},Ei={class:"label-item"},Ci=Dt(()=>t("div",{class:"label-item_key"},[t("span",null,"\u6302\u8F7D\u70B9")],-1)),$i={class:"label-item_value"},gi={class:"action-footer"},bi=Dt(()=>t("div",{class:"auto"},null,-1)),yi=["disabled"],Di=["disabled"],ki={key:1,class:"action result"},wi={class:"action-body"},Bi=Dt(()=>t("div",{class:"action-body_icon"},[t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128","data-v-cda444e0":""},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063","data-v-cda444e0":""})])],-1)),Ai=Dt(()=>t("div",{class:"action-body_msg"},"\u6302\u8F7D\u6210\u529F",-1)),xi={key:0,class:"action-body_info"},Si={class:"btns"},Ii=I({__name:"index",props:{action:String,disk:{type:Object,required:!0},mount:{type:Object},Close:{type:Function},Cancel:{type:Function},Next:{type:Function}},setup(e){var D;const u=e,s=()=>{u.Close&&u.Close()},o=p=>{p.preventDefault(),u.Cancel&&u.Cancel(),s()},c=p=>{u.Next&&u.Next(p),s()},_=g(!1),f=g(0),h=g("/mnt/data_"+((D=u==null?void 0:u.mount)==null?void 0:D.name)),n=p=>{f.value=p};g(u.mount?"":"format"),g();const i=g(),r=()=>z(this,null,function*(){const p=u.mount;if(p==null){A.Warning("\u83B7\u53D6\u4E0D\u5230\u5206\u533A");return}if(p.path==null||p.path==""){A.Warning("\u83B7\u53D6\u4E0D\u5230\u5206\u533A\u8DEF\u5F84");return}if(p.uuid==null||p.uuid==""){A.Warning("\u83B7\u53D6\u4E0D\u5230\u5206\u533AID");return}_.value=!0;const l=A.Loading("\u6302\u8F7D\u4E2D...");try{const E=yield P.Nas.Disk.Partition.Mount.POST({path:p.path,uuid:p.uuid,mountPoint:h.value});if(E!=null&&E.data){const{result:v,error:C}=E==null?void 0:E.data;C&&A.Warning(C),v&&(A.Success("\u6302\u8F7D\u6210\u529F"),i.value=v,n(1))}}catch(E){A.Error(E)}l.Close(),_.value=!1}),m=()=>{if(i.value&&i.value.mountPoint){c(i.value.mountPoint);return}A.Warning("\u8BFB\u53D6\u7ED3\u679C\u5931\u8D25")},b=()=>{};return(p,l)=>(a(),L(st,{type:1},{default:V(()=>[B(Lt,{name:"rotate",mode:"out-in"},{default:V(()=>{var E,v;return[f.value==0?(a(),d("form",{key:0,class:"action format",onSubmit:it(b,["prevent"])},[di,t("div",ri,[t("div",_i,[pi,e.mount?(a(),d("div",vi,[t("span",null,"\u3010"+F(e.mount.total)+"\u3011",1),t("span",null,F(e.mount.mountPoint),1)])):e.disk?(a(),d("div",hi,[t("span",null,"\u3010"+F(e.disk.size)+"\u3011",1),t("span",null,F(e.disk.venderModel),1)])):w("",!0)]),e.mount?(a(),d("div",Fi,[mi,t("div",fi,F(e.mount.path)+"\uFF08"+F(e.mount.total)+"\uFF0C"+F((v=(E=e.mount)==null?void 0:E.filesystem)==null?void 0:v.toUpperCase())+"\uFF09 ",1)])):w("",!0),t("div",Ei,[Ci,t("div",$i,[T(t("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=C=>h.value=C)},null,512),[[Y,h.value,void 0,{trim:!0}]])])])]),t("div",gi,[bi,t("button",{class:"cbi-button cbi-button-apply app-btn app-next",disabled:_.value,onClick:r}," \u786E\u5B9A ",8,yi),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:o,type:"button",disabled:_.value}," \u8FD4\u56DE ",8,Di)])],40,ci)):f.value==1?(a(),d("div",ki,[t("div",wi,[Bi,Ai,i.value?(a(),d("div",xi,[K(" \u5DF2\u6210\u529F\u5C06\u5206\u533A "+F(i.value.path)+" \u6302\u8F7D\u5230 ",1),t("a",null,F(i.value.mountPoint),1)])):w("",!0),t("div",Si,[t("button",{class:"cbi-button cbi-button-apply app-btn app-next",type:"button",onClick:m},F(e.action=="nas"?"\u5B8C\u6210":"\u4E0B\u4E00\u6B65"),1)])])])):w("",!0)]}),_:1})]),_:1}))}});var Vi=S(Ii,[["__scopeId","data-v-3a7479d2"]]),Se=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=ut(Vi,ht(vt({},e),{Close:()=>{o()}}));s.mount(u);const o=()=>{s.unmount(),u.remove()};return{Close:o}};const Pi={class:"progress"},Mi=I({__name:"index",props:{value:{type:Number,required:!0},text:{type:String}},setup(e){const u=e,s=R(()=>u.value>=80?"#e45e5e":u.value>=70?"#ff9800":u.value>=60?"#297ff3":u.value>0?"#53c31b":"");return(o,c)=>(a(),d("div",Pi,[t("div",{class:Xt(["progress-value",`${e.value>50}`]),style:J({width:`${e.value}%`,backgroundColor:s.value})},[t("span",null,F(e.text),1)],6),bt(o.$slots,"default",{},void 0,!0)]))}});var Ti=S(Mi,[["__scopeId","data-v-733828e1"]]);const Ie=e=>(q("data-v-4b3c5909"),e=e(),H(),e),Li={class:"disk-content"},zi={class:"disk-item"},Ni={class:"disk-item_name"},Oi={key:0},qi={key:1},Hi={key:2},Ui={class:"disk_value"},Ri={key:0,class:"disk-item_value"},Gi={class:"value-data"},Wi={key:1,class:"disk-item_value"},Zi={key:0,class:"disk-item"},ji={class:"disk-item_name"},Xi=["href"],Yi={class:"disk_status"},Qi={class:"disk_status_item"},Ki={key:0,class:"tooltip-trigger disk_tip"},Ji=Ie(()=>t("div",{class:"tooltip-text tooltip-top"},[t("div",{class:"disk_dir_tip"}," \u5F53\u524D\u78C1\u76D8\u4E3A\u53EA\u8BFB\u72B6\u6001\uFF0C\u53EF\u80FD\u5BFC\u81F4\u65E0\u6CD5\u5199\u5165\u6570\u636E ")],-1)),tl={class:"disk_status_item"},el={key:0,class:"tooltip-trigger disk_tip"},ul=Ie(()=>t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"disk_dir_tip"},"\u5F53\u524D\u78C1\u76D8\u786C\u76D8\u683C\u5F0F\u4E3ANTFS\uFF0C\u53EF\u80FD\u5BFC\u81F4\u786C\u76D8\u51FA\u73B0\u517C\u5BB9\u6027\u95EE\u9898\uFF0C\u5EFA\u8BAE\u683C\u5F0F\u5316\u6210EXT4\u6587\u4EF6\u7CFB\u7EDF")],-1)),sl=I({__name:"item",props:{part:{type:Object,required:!0},disk:{type:Object,required:!0}},setup(e){const u=e,s=R(()=>u.part.filesystem=="No FileSystem"),o=R(()=>s.value||!u.part.isSystemRoot&&u.part.mountPoint&&(u.part.isReadOnly||u.part.filesystem=="ntfs")),c=function(){xe({action:"disk",disk:u.disk,mount:u.part,Cancel:()=>{},Next:i=>{location.reload()}})},_=()=>{Se({action:"nas",disk:u.disk,mount:u.part,Cancel:()=>{},Next:()=>{location.reload()}})},f=()=>z(this,null,function*(){const i=A.Loading("\u5904\u7406\u4E2D...");try{const r=yield P.Nas.Disk.InitRest.POST({name:u.disk.name,path:u.disk.path});if(r!=null&&r.data){const{result:m,error:b}=r==null?void 0:r.data;b&&A.Warning(b),m&&(A.Success("\u6302\u8F7D\u6210\u529F"),location.reload())}}catch(r){A.Error(r)}i.Close()}),h=R(()=>u.part.filesystem=="Free Space"),n=R(()=>{const i=u.part.mountPoint?u.part.mountPoint:"";return i.indexOf("/mnt/")==0?"/cgi-bin/luci/admin/services/linkease/file/?path=/"+i.substring(5):"/cgi-bin/luci/admin/services/linkease/file/?path=/root"+i});return(i,r)=>{var b;const m=Zt("progress-item");return a(),d("div",Li,[t("li",zi,[t("div",Ni,[h.value?(a(),d("span",Oi,"\u672A\u5206\u533A")):(a(),d("span",qi,F(e.part.name)+F(e.part.mountPoint?"":s.value?"\uFF08\u672A\u683C\u5F0F\u5316\uFF09":"\uFF08\u672A\u6302\u8F7D\uFF09"),1)),e.part.isSystemRoot?(a(),d("span",Hi,"\uFF08\u7CFB\u7EDF\u5206\u533A\uFF09")):w("",!0)]),t("div",Ui,[e.part.mountPoint||h.value?(a(),d("div",Ri,[t("div",Gi,[B(m,{value:h.value||!e.part.usage?0:e.part.usage,text:h.value?"\u672A\u5206\u533A\uFF08"+e.part.total+"\uFF09":e.part.used+"/"+e.part.total,style:{backgroundColor:"#767676"}},null,8,["value","text"])])])):s.value?w("",!0):(a(),d("div",Wi,[t("div",{class:"value-data buttondiv",onClick:_},"\u624B\u52A8\u6302\u8F7D")])),h.value?(a(),d("button",{key:2,class:"cbi-button cbi-button-apply",onClick:f}," \u5206\u533A\u5E76\u683C\u5F0F\u5316 ")):o.value?(a(),d("button",{key:3,class:"cbi-button cbi-button-apply",onClick:c}," \u683C\u5F0F\u5316\u5206\u533A ")):w("",!0)])]),e.part.mountPoint?(a(),d("li",Zi,[t("span",ji,[t("a",{href:n.value,target:"_blank"},F(e.part.mountPoint),9,Xi)]),t("div",Yi,[t("div",Qi,[t("div",null,"\u78C1\u76D8\u8BFB\u5199\u72B6\u6001\uFF1A"+F(e.part.isReadOnly?"\u53EA\u8BFB":"\u8BFB\u5199"),1),!e.part.isSystemRoot&&e.part.isReadOnly?(a(),d("div",Ki,[B(rt),Ji])):w("",!0)]),t("div",tl,[t("div",null,"\u78C1\u76D8\u683C\u5F0F\uFF1A"+F((b=e.part.filesystem)==null?void 0:b.toUpperCase()),1),e.part.filesystem=="ntfs"?(a(),d("div",el,[B(rt),ul])):w("",!0)])])])):w("",!0)])}}});var nl=S(sl,[["__scopeId","data-v-4b3c5909"]]);const Ve=e=>(q("data-v-5f29973e"),e=e(),H(),e),ol={key:0,class:"action"},al={class:"title"},il=Ve(()=>t("div",{class:"app-container_info"},[t("span",null,"\u5206\u533A / \u6302\u8F7D\u70B9"),t("span",null,"\u5BB9\u91CF")],-1)),ll={class:"app-container_body"},cl=Ve(()=>t("div",{class:"auto"},null,-1)),dl=I({__name:"index",props:{disk:{type:Object,required:!0},Close:{type:Function},Cancel:{type:Function},Next:{type:Function}},setup(e){const u=e,s=g(0),o=()=>{u.Close&&u.Close()},c=_=>{_.preventDefault(),u.Cancel&&u.Cancel(),o()};return(_,f)=>(a(),L(st,{Close:e.Close,type:1},{default:V(()=>[B(Lt,{name:"rotate",mode:"out-in"},{default:V(()=>[s.value==0?(a(),d("div",ol,[t("h2",al," \u5206\u533A\u4FE1\u606F - "+F((e.disk.name||"?")+(e.disk.isSystemRoot?"\uFF08\u7CFB\u7EDF\u76D8\uFF09":"")),1),t("ul",null,[t("li",null,[il,t("div",ll,[(a(!0),d(N,null,tt(e.disk.childrens,(h,n)=>(a(),L(nl,{key:n,part:h,disk:e.disk},null,8,["part","disk"]))),128))])])]),t("div",{class:"action-footer"},[cl,t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:c,type:"button"}," \u8FD4\u56DE ")])])):w("",!0)]),_:1})]),_:1},8,["Close"]))}});var rl=S(dl,[["__scopeId","data-v-5f29973e"]]),_l=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=ut(rl,ht(vt({},e),{Close:()=>{o()}}));s.component("progress-item",Ti),s.mount(u);const o=()=>{s.unmount(),u.remove()};return{Close:o}},pl="/luci-static/istorex/warning.svg?v=69d55c8f";const qt=e=>(q("data-v-e039a994"),e=e(),H(),e),vl={class:"disk"},hl={key:0,class:"title"},Fl={class:"not-progress"},ml={key:0},fl={class:"progress"},El={class:"button"},Cl=["src"],$l=qt(()=>t("span",null,"S.M.A.R.T\u5F02\u5E38",-1)),gl={key:1},bl={class:"progress"},yl={class:"button"},Dl={key:0,class:"tooltip-trigger"},kl={class:"disk_tip"},wl=qt(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"disk_dir_tip"},"\u60A8\u7684\u7CFB\u7EDF\u7A7A\u95F4\u5DF2\u4E0D\u8DB3\uFF0C\u68C0\u6D4B\u5230\u60A8\u7684Docker\u6839\u76EE\u5F55\u4F4D\u4E8E\u7CFB\u7EDF\u6839\u76EE\u5F55\u4E0A\uFF0C\u53EF\u80FD\u4F1A\u5F71\u54CD\u7CFB\u7EDF\u7684\u6B63\u5E38\u8FD0\u884C\uFF0C\u5EFA\u8BAE\u4F7F\u7528Docker\u8FC1\u79FB\u5411\u5BFC\u5C06Docker\u6839\u76EE\u5F55\u8FC1\u79FB\u5230\u5916\u7F6E\u786C\u76D8\u4E0A\u3002")])],-1)),Bl={key:1,class:"tooltip-trigger"},Al={class:"disk_tip"},xl=qt(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"disk_dir_tip"},"\u5206\u533A\u5B58\u5728\u5F02\u5E38\uFF0C\u70B9\u51FB\u5206\u533A\u5217\u8868\u67E5\u770B\u9519\u8BEF")])],-1)),Sl={key:2,class:"tooltip-trigger"},Il={class:"disk_tip"},Vl=qt(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"disk_dir_tip"},"\u60A8\u7684\u7CFB\u7EDF\u7A7A\u95F4\u5DF2\u4E0D\u8DB3\uFF0C\u70B9\u51FB\u5206\u533A\u5217\u8868\u67E5\u770B\u9519\u8BEF")])],-1)),Pl=["onClick"],Ml=["onClick"],Tl={class:"progress"},Ll={class:"button"},zl=["onClick"],Nl={key:0},Ol={class:"progress"},ql={class:"button"},Hl=["onClick"],Ul={key:1},Rl={class:"progress"},Gl={class:"button"},Wl=["onClick"],Zl=I({__name:"disk",props:{title:String,type:String,smartWarning:Boolean},setup(e){const u=e,s=ke(),o=R(()=>{var m,b,D,p;if(u.type==="systemRoot")return((b=(m=s==null?void 0:s.disk)==null?void 0:m.disks)==null?void 0:b.filter(l=>l.isSystemRoot))||[];if(u.type==="notSystemRoot")return[...(D=s==null?void 0:s.disk)==null?void 0:D.disks].filter(l=>!l.isSystemRoot)||[];if(u.type==="raid")return[...(p=s==null?void 0:s.raid)==null?void 0:p.disks]}),c=m=>m.usage>80?"linear-gradient(91deg, #e7ab67 0.27%, #fa5b29 99.46%)":"linear-gradient(91deg, #4BCAE7 0.27%, #8ADE86 99.46%)",_=()=>{ot({title:"S.M.A.R.T.",src:"/cgi-bin/luci/admin/nas/smart"})},f=m=>{xe({action:"disk",disk:m,Cancel:()=>{},Next:()=>{location.reload()}})},h=m=>{_l({action:"disk",disk:m,Cancel:()=>{},Next:()=>{location.reload()}})},n=m=>{const b=m.childrens||[];Se({action:"nas",disk:m,mount:b[0],Cancel:()=>{},Next:()=>{location.reload()}})},i=m=>m.errorInfo?"error":m.childrens==null||m.childrens.length==0||m.childrens.length==1&&m.childrens[0].filesystem=="No FileSystem"?"load":m.childrens.filter(b=>b.mountPoint).length===0?"unmounted":"success",r=m=>{let b=m.name;return m.size&&(b+=`\u3010${m.size}\u3011`),m.venderModel&&(b+=`(${m.venderModel})`),b};return(m,b)=>{var D;return a(),d("div",vl,[(D=o.value)!=null&&D.length?(a(),d("span",hl,F(u.title),1)):w("",!0),(a(!0),d(N,null,tt(o.value,(p,l)=>{var E,v,C,k,$;return a(),d("div",{class:"item",key:l},[i(p)==="error"?(a(),d(N,{key:0},[t("span",null,F(r(p)),1),t("div",Fl,[t("span",null,F(p.errorInfo),1)])],64)):i(p)=="success"?(a(),d(N,{key:1},[t("span",null,F(r(p)),1),p.smartWarning&&e.smartWarning?(a(),d("div",ml,[t("div",fl,[t("div",{style:J({background:c(p),width:`${p.usage||0}%`})},null,4),t("span",null,F(`${p.used}/${p.total}`),1)]),t("div",El,[t("span",{class:"btn",onClick:b[0]||(b[0]=y=>_())},[t("img",{src:Z(pl)},null,8,Cl),$l])])])):(a(),d("div",gl,[t("div",bl,[t("div",{style:J({background:c(p),width:`${p.usage||0}%`})},null,4),t("span",null,F(`${p.used}/${p.total}`),1)]),t("div",yl,[p.isDockerRoot&&p.isSystemRoot&&p.usage&&p.usage>=90?(a(),d("span",Dl,[t("span",kl,[B(rt)]),wl])):w("",!0),!p.isSystemRoot&&(((E=p.childrens)==null?void 0:E.filter(y=>y.isReadOnly||y.filesystem=="ntfs").length)||0)>0?(a(),d("span",Bl,[t("span",Al,[B(rt)]),xl])):w("",!0),(v=p.childrens)!=null&&v.filter(y=>y.isSystemRoot&&y.usage&&y.usage>80).length?(a(),d("span",Sl,[t("span",Il,[B(rt)]),Vl])):w("",!0),!p.isSystemRoot&&(((C=p.childrens)==null?void 0:C.filter(y=>y.isReadOnly||y.filesystem=="ntfs").length)||0)>0?(a(),d("img",{key:3,src:Ba,onClick:y=>f(p),alt:""},null,8,Pl)):w("",!0),t("img",{onClick:y=>h(p),src:Aa,alt:""},null,8,Ml)])]))],64)):i(p)==="load"?(a(),d(N,{key:2},[t("span",null,F(r(p)),1),t("div",Tl,[t("div",{style:J({width:`${p.usage||0}%`})},null,4),t("span",null,F(`${p.used}/${p.total}`),1)]),t("div",Ll,[t("span",{class:"btn",onClick:y=>f(p)},"\u683C\u5F0F\u5316\u5E76\u6302\u8F7D",8,zl)])],64)):i(p)==="unmounted"?(a(),d(N,{key:3},[t("span",null,F(r(p)),1),((k=p.childrens)==null?void 0:k.length)==1?(a(),d("div",Nl,[t("div",Ol,[t("div",{style:J({background:c(p),width:`${p.usage||0}%`})},null,4),t("span",null,F(`${p.used}/${p.total}`),1)]),t("div",ql,[t("span",{class:"btn",onClick:y=>n(p)},"\u624B\u52A8\u6302\u8F7D",8,Hl)])])):w("",!0),((($=p.childrens)==null?void 0:$.length)||0)>1?(a(),d("div",Ul,[t("div",Rl,[t("div",{style:J({background:c(p),width:`${p.usage||0}%`})},null,4),t("span",null,F(`${p.used}/${p.total}`),1)]),t("div",Gl,[t("span",{class:"btn",onClick:y=>h(p)},"\u624B\u52A8\u6302\u8F7D",8,Wl)])])):w("",!0)],64)):w("",!0)])}),128))])}}});var Rt=S(Zl,[["__scopeId","data-v-e039a994"]]),Ce="/luci-static/istorex/right.svg?v=173d63f8";const jl=jt('<div class="app-container_status-label_iconer" data-v-580b5628><svg xmlns="http://www.w3.org/2000/svg" width="36" height="28" viewBox="0 0 36 28" fill="none" data-v-580b5628><rect width="36" height="28" rx="2" fill="#E6E6E6" data-v-580b5628></rect><rect x="3" y="19" width="6" height="6" fill="#CCCCCC" data-v-580b5628></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3C3.89543 3 3 3.89543 3 5V17H11V21H14V25H22V21H25V17H33V5C33 3.89543 32.1046 3 31 3H5ZM5.5 5H6.5V13H5.5V5ZM8.5 5H9.5V13H8.5V5ZM12.5 5H11.5V13H12.5V5ZM14.5 5H15.5V13H14.5V5ZM18.5 5H17.5V13H18.5V5ZM20.5 5H21.5V13H20.5V5ZM24.5 5H23.5V13H24.5V5ZM26.5 5H27.5V13H26.5V5ZM30.5 5H29.5V13H30.5V5Z" fill="#999999" data-v-580b5628></path></svg></div>',1),Xl={class:"app-container_status-label_text"},Yl={class:"text_status"},Ql={class:"text_info"},Kl=jt('<div class="app-container_status-label_iconer" data-v-580b5628><svg xmlns="http://www.w3.org/2000/svg" width="36" height="28" viewBox="0 0 36 28" fill="none" data-v-580b5628><rect width="36" height="28" rx="2" fill="#E6E6E6" data-v-580b5628></rect><rect x="3" y="19" width="6" height="6" fill="#8ECF57" data-v-580b5628></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3C3.89543 3 3 3.89543 3 5V17H11V21H14V25H22V21H25V17H33V5C33 3.89543 32.1046 3 31 3H5ZM5.5 5H6.5V13H5.5V5ZM8.5 5H9.5V13H8.5V5ZM12.5 5H11.5V13H12.5V5ZM14.5 5H15.5V13H14.5V5ZM18.5 5H17.5V13H18.5V5ZM20.5 5H21.5V13H20.5V5ZM24.5 5H23.5V13H24.5V5ZM26.5 5H27.5V13H26.5V5ZM30.5 5H29.5V13H30.5V5Z" fill="#4D4D4D" data-v-580b5628></path></svg></div>',1),Jl={class:"app-container_status-label_text"},t1={class:"text_info"},e1=I({__name:"item",props:{item:{type:Object,required:!0},transform:{type:Number,default:0}},setup(e){const u=e,s=we(),o=g(null),c=f=>{const h=f.target,{left:n,top:i}=h.getBoundingClientRect();s.portitemStyle.show=!0,s.portitemStyle.left=n,s.portitemStyle.top=i,s.portitemStyle.portitem=u.item},_=f=>{s.portitemStyle.show=!1};return(f,h)=>(a(),d("div",{class:"app-container_status-label_bg",style:J(`transform: translateX(${e.transform}px);`),ref_key:"el",ref:o,onMouseenter:c,onMouseleave:_},[e.item.linkState=="DOWN"?(a(),d(N,{key:0},[jl,t("div",Xl,[t("div",Yl,F(f.$t("\u5DF2\u65AD\u5F00")),1),t("div",Ql,F(e.item.name)+" "+F(e.item.interfaceNames?`(${e.item.interfaceNames.join(",").toLocaleUpperCase()})`:""),1)])],64)):(a(),d(N,{key:1},[Kl,t("div",Jl,[t("div",null,F(e.item.linkSpeed),1),t("div",t1,F(e.item.name)+" "+F(e.item.interfaceNames?`(${e.item.interfaceNames.join(",").toLocaleUpperCase()})`:""),1)])],64))],36))}});var u1=S(e1,[["__scopeId","data-v-580b5628"]]);const s1=I({__name:"index",props:{portList:{type:Array,required:!0}},setup(e){const u=g(),s=g(0),o=g(0),c=g(0),_=g(!1),f=()=>{if(c.value>=0){c.value=0;return}c.value+=100},h=()=>{if(c.value<=0-s.value+o.value){c.value=0-s.value+o.value;return}c.value-=100};return lt(()=>{Re(()=>{u.value&&(s.value=u.value.scrollWidth,o.value=u.value.clientWidth,_.value=s.value>o.value)})}),(n,i)=>(a(),d("div",{class:"app-interfaces",ref_key:"el",ref:u},[_.value?(a(),d(N,{key:0},[t("img",{src:Ce,class:"btn-f",alt:"",onClick:f}),t("img",{src:Ce,class:"btn-r",alt:"",onClick:h})],64)):w("",!0),(a(!0),d(N,null,tt(e.portList,(r,m)=>(a(),L(u1,{item:r,transform:c.value},null,8,["item","transform"]))),256))],512))}});var n1=S(s1,[["__scopeId","data-v-92f8fb6c"]]);const o1={class:"status-card"},a1=I({__name:"interfacer-status",setup(e){const u=mt({portList:[],load:!1});return(()=>{P.Network.PortList.GET().then(o=>{if(o!=null&&o.data){const{result:c}=o==null?void 0:o.data;c&&(u.portList=c.ports||[])}}).finally(()=>{u.load=!0})})(),(o,c)=>(a(),d("div",o1,[u.load?(a(),L(n1,{key:0,portList:u.portList},null,8,["portList"])):w("",!0)]))}});var i1=S(a1,[["__scopeId","data-v-2244abae"]]);const gt={installApp:(e,u)=>new Promise((s,o)=>{let c=0;P.App.Install.POST({name:e}).then(()=>{const _=setTimeout(()=>{c==0&&(c=1,s(!1))},(u||60)*1e3),f=()=>{c==0&&P.App.Check.POST({name:e}).then(h=>{if(c==0&&h!=null&&h.data){const{result:n}=h.data;if((n==null?void 0:n.status)=="installed"){clearTimeout(_),c=1,s(!0);return}}}).catch(h=>{}).finally(()=>{c==0&&setTimeout(f,3e3)})};setTimeout(f,3e3)}).catch(_=>{c==0&&(c=1,o("\u5B89\u88C5\u5931\u8D25\uFF0C"+_))})}),checkAndInstallApp:(e,u,s)=>z(void 0,null,function*(){let o=A.Loading("\u68C0\u67E5\u4E2D...");try{const c=yield P.App.Check.POST({name:e});if(o.Close(),c!=null&&c.data){const{result:_,error:f}=c.data;if(f)A.Warning(f);else if(_){if(_.status=="installed")return!0;if(confirm(`\u68C0\u6D4B\u5230\u4F60\u5C1A\u672A\u5B89\u88C5 ${u} \u63D2\u4EF6,\u662F\u5426\u5B89\u88C5\uFF1F`)){o=A.Loading("\u6B63\u5728\u5B89\u88C5\u4E2D...");const h=yield gt.installApp(s||e);if(o.Close(),h)return!0;A.Error("\u5B89\u88C5\u5931\u8D25\u6216\u8D85\u65F6\uFF0C\u8BF7\u68C0\u67E5\u8F6F\u4EF6\u6E90\u6216\u7A0D\u5019\u91CD\u8BD5")}}else A.Warning("\u68C0\u67E5\u63D2\u4EF6\u72B6\u6001\u5931\u8D25")}return!1}catch(c){return o.Close(),A.Warning(c),!1}}),installAndGo:(e,u,s,o)=>z(void 0,null,function*(){(yield gt.checkAndInstallApp(e,u,o))&&(location.href=s)})};const l1={class:"width-50 responsive"},c1={class:"chart"},d1={class:"info"},r1={class:"width-50 responsive"},_1=I({__name:"index",setup(e){const u=Ot.stampForm,s=mt({cpuUsage:0,cpuTemperature:0,memAvailablePercentage:0,uptime:0,localtime:""}),o=mt({firmwareVersion:"",kernelVersion:"",model:""});mt({root:[],loaded:[]});const c={interfaceconfig:[{text:"\u7F51\u53E3\u914D\u7F6E",onClick:()=>{ot({title:"\u7F51\u53E3\u914D\u7F6E",src:"/cgi-bin/luci/admin/quickstart/interfaceconfig"})}}],system:[{text:"\u7CFB\u7EDF\u76D1\u63A7",onClick:()=>{gt.installAndGo("app-meta-netdata","NetData","/cgi-bin/luci/admin/status/netdata")}},{text:"\u5907\u4EFD\u5347\u7EA7",onClick:()=>{ot({title:"\u5907\u4EFD\u5347\u7EA7",src:"/cgi-bin/luci/admin/system/flash"})}},{text:"\u63D2\u4EF6\u5907\u4EFD",onClick:()=>{ot({title:"\u63D2\u4EF6\u5907\u4EFD",src:"/cgi-bin/luci/admin/store/pages/maintance"})}}],disk:[{text:"RAID\u7BA1\u7406",onClick:()=>{ot({title:"RAID\u7BA1\u7406",src:"/cgi-bin/luci/admin/nas/raid"})}},{text:"S.M.A.R.T.",onClick:()=>{ot({title:"S.M.A.R.T.",src:"/cgi-bin/luci/admin/nas/smart"})}},{text:"\u78C1\u76D8\u7BA1\u7406",onClick:()=>{ot({title:"\u78C1\u76D8\u7BA1\u7406",src:"/cgi-bin/luci/admin/system/diskman"})}},{text:"\u6302\u8F7D\u70B9",onClick:()=>{ot({title:"\u6302\u8F7D\u70B9",src:"/cgi-bin/luci/admin/system/mounts"})}}]},_=()=>z(this,null,function*(){var b,D,p,l,E;const m=yield P.System.Status.GET();console.log("getSystemStatus",m.data.result),m.data.result&&(s.uptime=(b=m.data.result)==null?void 0:b.uptime,s.localtime=(D=m.data.result)==null?void 0:D.localtime,s.cpuUsage=((p=m.data.result)==null?void 0:p.cpuUsage)||0,s.memAvailablePercentage=100-((l=m.data.result)==null?void 0:l.memAvailablePercentage)||0,s.cpuTemperature=(E=m.data.result)==null?void 0:E.cpuTemperature,r.cpu&&r.cpu.setValue(s.cpuUsage),r.men&&r.men.setValue(s.memAvailablePercentage),r.temperature&&r.temperature.setValue(s.cpuTemperature),window.setInterval(()=>{s.uptime&&(s.uptime=s.uptime+1),s.localtime&&(s.localtime=String(Fe(Fe(s.localtime).unix()*1e3+1e3).format("YYYY-MM-DD HH:mm:ss")))},1e3))}),f=()=>z(this,null,function*(){var b,D,p;const m=yield P.System.Version.GET();console.log("getSystemVersion",m),m.data.result&&(o.firmwareVersion=(b=m.data.result)==null?void 0:b.firmwareVersion,o.kernelVersion=(D=m.data.result)==null?void 0:D.kernelVersion,o.model=(p=m.data.result)==null?void 0:p.model)});ke();const h=g(null),n=g(null),i=g(null),r={cpu:null,men:null,temperature:null};return lt(()=>{h.value&&n.value&&i.value&&(r.cpu=Ut({el:h.value,value:s.cpuUsage,name:dt.global.t("CPU\u4F7F\u7528\u7387"),labelColor:"rgba(0, 0, 0, 0.80)",numberColor:"#32CFA4",labelFontSize:10,numberFontSize:14,radius:"100%",progressBackgroundColor:"rgba(0, 0, 0, 0.04)",progressColor:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#8ADE86"},{offset:1,color:"#4BCAE7"}],global:!1}}),r.men=Ut({el:n.value,value:s.memAvailablePercentage,name:dt.global.t("\u5185\u5B58\u4F7F\u7528\u7387"),labelColor:"rgba(0, 0, 0, 0.80)",numberColor:"#F66631",labelFontSize:10,numberFontSize:14,radius:"100%",progressBackgroundColor:"rgba(0, 0, 0, 0.04)",progressColor:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#E5B56E"},{offset:1,color:"#FD4812E5"}],global:!1}}),r.temperature=Ut({el:i.value,value:s.cpuTemperature,name:dt.global.t("CPU\u6E29\u5EA6"),labelColor:"rgba(0, 0, 0, 0.80)",numberColor:"#32CFA4",labelFontSize:10,numberFontSize:14,radius:"100%",progressBackgroundColor:"rgba(0, 0, 0, 0.04)",unit:"\xB0C",progressColor:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#8ADE86"},{offset:1,color:"#4BCAE7"}],global:!1}}))}),_(),f(),(m,b)=>(a(),L(ft,null,{default:V(()=>[t("div",l1,[B(W,{title:m.$t("\u7F51\u7EDC\u63A5\u53E3\u72B6\u6001"),span:24,"more-actions":c.interfaceconfig,padding:"0 10px 8px 10px"},{default:V(()=>[B(i1)]),_:1},8,["title","more-actions"]),B(W,{title:m.$t("\u7CFB\u7EDF\u4FE1\u606F"),padding:"0 10px 8px 10px",span:24,"more-actions":c.system},{default:V(()=>[t("div",c1,[t("div",{class:"gauge",ref_key:"temperature",ref:i},null,512),t("div",{class:"gauge",ref_key:"cpu",ref:h},null,512),t("div",{class:"gauge",ref_key:"men",ref:n},null,512)]),t("div",d1,[t("div",null,[t("span",null,F(m.$t("\u8BBE\u5907\u578B\u53F7"))+"\uFF1A",1),t("span",null,F(o.model),1)]),t("div",null,[t("span",null,F(m.$t("\u56FA\u4EF6\u7248\u672C"))+"\uFF1A",1),t("span",null,F(o.firmwareVersion),1)]),t("div",null,[t("span",null,F(m.$t("\u5185\u6838\u7248\u672C"))+"\uFF1A",1),t("span",null,F(o.kernelVersion),1)]),t("div",null,[t("span",null,F(m.$t("\u5DF2\u542F\u52A8"))+"\uFF1A",1),t("span",null,F(Z(u)(s.uptime)),1)]),t("div",null,[t("span",null,F(m.$t("\u7CFB\u7EDF\u65F6\u95F4"))+"\uFF1A",1),t("span",null,F(s.localtime),1)])])]),_:1},8,["title","more-actions"])]),t("div",r1,[B(W,{title:m.$t("\u78C1\u76D8\u4FE1\u606F"),padding:"0 10px 8px 10px",helpLink:"https://www.linkease.com/rd/8myYAEVA/",span:24,"more-actions":c.disk},{default:V(()=>[B(Rt,{title:m.$t("\u7CFB\u7EDF\u6839\u76EE\u5F55"),type:"systemRoot"},null,8,["title"]),B(Rt,{title:m.$t("\u5DF2\u6302\u8F7D\u78C1\u76D8"),smartWarning:!0,type:"notSystemRoot"},null,8,["title"]),B(Rt,{title:m.$t("RAID\u8BBE\u5907"),type:"raid"},null,8,["title"])]),_:1},8,["title","more-actions"])])]),_:1}))}});var p1=S(_1,[["__scopeId","data-v-3f470552"]]),v1="/luci-static/istorex/setting.svg?v=9ffe8a9b";const h1={class:"app"},F1={class:"setting"},m1=["src"],f1=["src"],E1=I({__name:"app",props:{title:{},title_en:{},name:{},isWebUrl:{type:Function},openApp:{type:Function},openWebUrl:{type:Function}},setup(e){const u=e,s=g(localStorage.getItem("i18n")),o=c=>P.ApiStore.getStoreAppIcon(`/static-icon/openwrt-app-meta/app-meta-${c}/logo.png`);return lt(()=>{Be.subscribe("changeLocale",(c,_)=>{s.value=_})}),(c,_)=>(a(),d("div",h1,[u.isWebUrl()?(a(),d("div",{key:0,onClick:_[1]||(_[1]=f=>u.openWebUrl())},[t("span",F1,[t("img",{src:v1,alt:"",onClick:_[0]||(_[0]=f=>{f.stopPropagation(),u.openApp()})})]),t("div",null,[t("img",{class:"app-icon",src:o(u.name),alt:"\u56FE\u6807\u51FA\u8D70\u5566"},null,8,m1),t("span",null,F(s.value==="en"&&u.title_en||u.title),1)])])):(a(),d("div",{key:1,onClick:_[2]||(_[2]=f=>u.openApp())},[t("div",null,[t("img",{class:"app-icon",src:o(u.name),alt:"\u56FE\u6807\u51FA\u8D70\u5566"},null,8,f1),t("span",null,F(s.value==="en"&&u.title_en||u.title),1)])]))]))}});var C1=S(E1,[["__scopeId","data-v-03c48935"]]);const $1=e=>(q("data-v-042b9e9a"),e=e(),H(),e),g1={class:"app-store"},b1=$1(()=>t("span",null,"APP Store",-1)),y1=I({__name:"index",setup(e){const u=Ge(),s=R(()=>u.localApps.filter(c=>c.name!="istorex"));return(()=>z(this,null,function*(){yield u.getApp()}))(),(c,_)=>(a(),L(ft,{title:c.$t("\u5E94\u7528\u4E2D\u5FC3")},{default:V(()=>[t("div",g1,[t("div",{class:"store",onClick:_[0]||(_[0]=f=>Z(We).Open())},[t("div",null,[t("div",null,[t("span",null,F(c.$t("\u5E94\u7528\u5546\u5E97")),1),b1])])]),(a(!0),d(N,null,tt(s.value,f=>(a(),L(C1,Ze(je(f)),null,16))),256))])]),_:1},8,["title"]))}});var D1=S(y1,[["__scopeId","data-v-042b9e9a"]]),k1="/luci-static/istorex/copy.png?v=7ec874a7";const _t=e=>(q("data-v-43beecef"),e=e(),H(),e),w1={class:"actioner-container"},B1=_t(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),A1={class:"actioner-container_body"},x1={class:"label-item"},S1=_t(()=>t("span",null,"DDNSTO",-1)),I1=_t(()=>t("p",{class:"label_info"},"DDNSTO \u662F\u4E00\u4E2A\u4E0D\u9700\u8981\u516C\u7F51IP\u4E5F\u53EF\u4EE5\u5728\u5916\u7F51\u8BBF\u95EE\u7684\u7A7F\u900F\u57DF\u540D\u670D\u52A1\uFF0C\u4E00\u4E2A\u6D4F\u89C8\u5668\u641E\u5B9A\u5185\u7F51\u7A7F\u900F\uFF0C\u8FDC\u7A0B\u8BBF\u95EEOpenwrt\u3001\u8FDC\u7A0B\u7EC8\u7AEF\u3001\u8FDC\u7A0B\u684C\u9762...",-1)),V1={class:"label-item"},P1=_t(()=>t("span",null,"\u963F\u91CC\u4E91",-1)),M1=_t(()=>t("p",{class:"label_info"}," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),T1={class:"label-item"},L1=_t(()=>t("span",null,"Dnspod",-1)),z1=_t(()=>t("p",{class:"label_info"}," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),N1={class:"label-item"},O1=_t(()=>t("span",null,"\u82B1\u751F\u58F3",-1)),q1=_t(()=>t("p",{class:"label_info"}," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),H1=I({__name:"setup-index",props:{onSetup:{type:Function,required:!0},active:{type:String,default:"ddnsto"}},emits:["update:active"],setup(e,{emit:u}){const s=e,o=()=>{s.onSetup()},c=g(s.active),_=()=>{switch(u("update:active",c.value),c.value){case"ddnsto":s.onSetup("ddnsto");break;case"ali":s.onSetup("ddns-ali");break;case"dnspod":s.onSetup("ddns-dnspod");break;case"oray":s.onSetup("ddns-oray");break}};return(f,h)=>(a(),d("div",w1,[B1,t("div",A1,[t("div",x1,[t("label",null,[T(t("input",{type:"radio","onUpdate:modelValue":h[0]||(h[0]=n=>c.value=n),value:"ddnsto"},null,512),[[at,c.value]]),S1]),I1]),t("div",V1,[t("label",null,[T(t("input",{type:"radio","onUpdate:modelValue":h[1]||(h[1]=n=>c.value=n),value:"ali"},null,512),[[at,c.value]]),P1]),M1]),t("div",T1,[t("label",null,[T(t("input",{type:"radio","onUpdate:modelValue":h[2]||(h[2]=n=>c.value=n),value:"dnspod"},null,512),[[at,c.value]]),L1]),z1]),t("div",N1,[t("label",null,[T(t("input",{type:"radio","onUpdate:modelValue":h[3]||(h[3]=n=>c.value=n),value:"oray"},null,512),[[at,c.value]]),O1]),q1])]),t("div",{class:"actioner-container_footer"},[t("div",{class:"close",onClick:o},"\u53D6\u6D88"),t("div",{class:"next",onClick:_},"\u4E0B\u4E00\u6B65")])]))}});var U1=S(H1,[["__scopeId","data-v-43beecef"]]);const zt=e=>(q("data-v-43dd65a2"),e=e(),H(),e),R1={class:"actioner-container"},G1={class:"actioner-container_body"},W1=zt(()=>t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128","data-v-cda444e0":""},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063","data-v-cda444e0":""})],-1)),Z1=zt(()=>t("div",{class:"body-title"},"\u6DFB\u52A0\u6210\u529F",-1)),j1=zt(()=>t("p",{class:"body-tips"},"\u8BF7\u7A0D\u7B491\u5206\u949F\u751F\u6548\u540E\u518D\u4F7F\u7528\u3002",-1)),X1={class:"body-info"},Y1=zt(()=>t("span",null,"\u8BBF\u95EE\u5730\u5740\uFF1A",-1)),Q1=["href"],K1=zt(()=>t("div",null,[t("span",null,"\u53EF\u524D\u5F80"),t("a",{href:"/cgi-bin/luci/admin/services/ddns",target:"_blank"},"\u670D\u52A1-\u52A8\u6001DNS"),t("span",null,"\u67E5\u770B\u66F4\u591A\u8BE6\u60C5")],-1)),J1=I({__name:"setup-ddns-success",props:{target:{type:String,required:!0},onSetup:{type:Function,required:!0}},setup(e){const u=()=>{location.reload()};return(s,o)=>(a(),d("div",R1,[t("div",G1,[W1,Z1,j1,t("div",X1,[Y1,t("a",{href:e.target,target:"_blank",rel:"noopener noreferrer"},F(e.target),9,Q1)]),K1]),t("div",{class:"actioner-container_footer"},[t("div",{class:"close",onClick:u},"\u5173\u95ED")])]))}});var tc=S(J1,[["__scopeId","data-v-43dd65a2"]]);const Pe=e=>(q("data-v-7790f1da"),e=e(),H(),e),ec={class:"actioner-container"},uc=Pe(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),sc=Pe(()=>t("div",{class:"actioner-container_body ddnsto-login"},[t("iframe",{src:"https://www.kooldns.cn/bind/#/auth?send=1&source=openwrt&callback=*"})],-1)),nc=I({__name:"setup-ddnsto-login",props:{onSetup:{type:Function,required:!0},onDdnstoConfig:{type:Function,required:!0}},setup(e){const u=e,s=()=>{u.onSetup()},o=c=>{if(c.data.auth=="ddnsto"){const _=c.data.sign,f=c.data.token;_&&f&&(removeEventListener("message",o),u.onDdnstoConfig(_,f),u.onSetup("ddnsto-run"))}};return lt(()=>{window.addEventListener("message",o)}),wt(()=>{removeEventListener("message",o)}),(c,_)=>(a(),d("div",ec,[uc,sc,t("div",{class:"actioner-container_footer"},[t("div",{class:"close",onClick:s},"\u53D6\u6D88")])]))}});var oc=S(nc,[["__scopeId","data-v-7790f1da"]]);const ac=e=>(q("data-v-5baf4b05"),e=e(),H(),e),ic={class:"actioner-container"},lc=ac(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),cc={class:"actioner-container_body ddnsto-bind"},dc=["src"],rc=I({__name:"setup-ddnsto-bind",props:{onSetup:{type:Function,required:!0},config:{type:Object,required:!0},domain:{type:String,required:!0}},emits:["update:domain"],setup(e,{emit:u}){const s=e,o=R(()=>{const{domain:f,token:h,sign:n,routerId:i,netaddr:r}=s.config,m=encodeURIComponent(f),b=encodeURIComponent(r);return`https://www.kooldns.cn/bind/#/domain?domain=${m}&sign=${n}&token=${h}&routerId=${i}&netaddr=${b}`}),c=f=>{if(f.data){const{auth:h,url:n}=f.data;h==="ddnsto"&&n&&_(n)}},_=f=>z(this,null,function*(){var h;try{const n=yield P.Guide.DdnstoAddress.POST({address:f});n!=null&&n.data&&(((h=n==null?void 0:n.data)==null?void 0:h.success)||0)==0&&(u("update:domain",f),s.onSetup("ddnsto-save"))}catch(n){}});return lt(()=>{window.addEventListener("message",c)}),wt(()=>{removeEventListener("message",c)}),(f,h)=>(a(),d("div",ic,[lc,t("div",cc,[t("iframe",{src:o.value},null,8,dc)])]))}});var _c=S(rc,[["__scopeId","data-v-5baf4b05"]]);const Nt=e=>(q("data-v-02a6c9d8"),e=e(),H(),e),pc={class:"actioner-container"},vc={class:"actioner-container_body"},hc=Nt(()=>t("svg",{t:"1642063181211",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5062",width:"128",height:"128","data-v-cda444e0":""},[t("path",{d:"M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m-74.965333 550.4L346.453333 545.152a42.666667 42.666667 0 1 0-60.330666 60.330667l120.704 120.704a42.666667 42.666667 0 0 0 60.330666 0l301.653334-301.696a42.666667 42.666667 0 1 0-60.288-60.330667l-271.530667 271.488z",fill:"#52C41A","p-id":"5063","data-v-cda444e0":""})],-1)),Fc=Nt(()=>t("div",{class:"body-title"},"\u6DFB\u52A0\u6210\u529F",-1)),mc=Nt(()=>t("p",{class:"body-tips"},"\u8BF7\u7A0D\u7B491\u5206\u949F\u751F\u6548\u540E\u518D\u4F7F\u7528\u3002",-1)),fc={class:"body-info"},Ec=Nt(()=>t("span",null,"\u8BBF\u95EE\u5730\u5740\uFF1A",-1)),Cc=["href"],$c=Nt(()=>t("div",null,[t("span",null,"\u53EF\u524D\u5F80"),t("a",{href:"https://www.ddnsto.com/app/#/devices",target:"_blank"},"DDNSTO\u63A7\u5236\u53F0"),t("span",null,"\u67E5\u770B\u66F4\u591A\u8BE6\u60C5")],-1)),gc=I({__name:"setup-ddnsto-save",props:{onSetup:{type:Function,required:!0},target:{type:String,required:!0}},setup(e){const u=()=>{location.reload()};return(s,o)=>(a(),d("div",pc,[t("div",vc,[hc,Fc,mc,t("div",fc,[Ec,t("a",{href:e.target,target:"_blank",rel:"noopener noreferrer"},F(e.target),9,Cc)]),$c]),t("div",{class:"actioner-container_footer"},[t("div",{class:"close",onClick:u},"\u5173\u95ED")])]))}});var bc=S(gc,[["__scopeId","data-v-02a6c9d8"]]);const yc=e=>(q("data-v-4f87c1d1"),e=e(),H(),e),Dc={class:"actioner-container"},kc=yc(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),wc={class:"actioner-container_body"},Bc={class:"actioner-container_footer"},Ac=I({__name:"setup-ddnsto-install",props:{onSetup:{type:Function,required:!0}},setup(e){const u=e,s=()=>{u.onSetup()},o=()=>z(this,null,function*(){if(f.value)return;f.value=!0;const n=A.Loading("\u5B89\u88C5\u4E2D...");try{if(yield gt.installApp("app-meta-ddnsto",30)){u.onSetup("ddnsto-login");return}else c.value="\u5B89\u88C5\u5931\u8D25"}catch(i){c.value=i}finally{n.Close()}f.value=!1}),c=g("\u6B63\u5728\u68C0\u6D4B\u4E2D..."),_=g(!1),f=g(!1);return(()=>z(this,null,function*(){try{const n=yield P.App.Check.POST({name:"ddnsto"});if(n!=null&&n.data){const{result:i,error:r}=n.data;if(r){c.value=r;return}if(i){if(i.status=="installed"){u.onSetup("ddnsto-login");return}i.status=="uninstalled"&&(c.value="\u9700\u8981\u5B89\u88C5DDNSTO\u63D2\u4EF6\uFF0C\u70B9\u51FB\u201C\u786E\u5B9A\u201D\u5F00\u59CB\u5B89\u88C5")}}}catch(n){c.value=n}_.value=!0}))(),(n,i)=>(a(),d("div",Dc,[kc,t("div",wc,[t("span",null,F(c.value),1)]),t("div",Bc,[_.value?(a(),d(N,{key:0},[t("div",{class:"close",onClick:s},"\u53D6\u6D88"),t("div",{class:"next",onClick:o},"\u786E\u5B9A")],64)):w("",!0)])]))}});var xc=S(Ac,[["__scopeId","data-v-4f87c1d1"]]);const Sc=e=>(q("data-v-06c9d91d"),e=e(),H(),e),Ic={class:"actioner-container"},Vc=Sc(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),Pc={class:"actioner-container_body"},Mc=I({__name:"setup-ddnsto-run",props:{onSetup:{type:Function,required:!0},token:{type:String,required:!0},onDdnstoLocalConfig:{type:Function,required:!0}},setup(e){const u=e,s=g("\u6B63\u5728\u68C0\u6D4B\u63D2\u4EF6\u662F\u5426\u5DF2\u542F\u52A8...");(n=>z(this,null,function*(){var i;try{const r=yield P.Guide.Ddnsto.POST({token:u.token});r!=null&&r.data&&(r.data.error&&(s.value=r.data.error),(((i=r==null?void 0:r.data)==null?void 0:i.success)||0)==0&&_())}catch(r){s.value=r}}))(u.token);const c=g(),_=()=>{const n=()=>z(this,null,function*(){if((yield f())===!0){h();return}c.value=window.setTimeout(n,2e3)});n()},f=()=>z(this,null,function*(){try{const n=yield P.App.Check.POST({name:"ddnsto",checkRunning:!0});if(n!=null&&n.data){n.data.error&&(s.value=n.data.error);const i=n.data.result;if((i==null?void 0:i.status)=="running")return!0}}catch(n){s.value=n}return!1});wt(()=>{c.value&&clearInterval(c.value)});const h=()=>z(this,null,function*(){var n;try{const i=yield P.Guide.DdntoConfig.GET();if(i!=null&&i.data&&(i.data.error&&(s.value=i.data.error),(((n=i==null?void 0:i.data)==null?void 0:n.success)||0)==0&&i.data.result)){const r=i.data.result;u.onDdnstoLocalConfig(r.netAddr,r.deviceId),u.onSetup("ddnsto-bind")}}catch(i){s.value=i}});return(n,i)=>(a(),d("div",Ic,[Vc,t("div",Pc,F(s.value),1)]))}});var Tc=S(Mc,[["__scopeId","data-v-06c9d91d"]]);const Lc={class:"action-main"},zc=I({__name:"index",props:{Close:{type:Function,required:!0},url:{type:String,required:!0}},setup(e){const u=e,s=g("ddnsto-install"),o=n=>{n!=null?s.value=n:c()},c=()=>{u.Close&&u.Close()},_=mt({sign:"",token:"",domain:u.url,netaddr:"",routerId:""}),f=(n,i)=>{_.sign=n,_.token=i},h=(n,i)=>{_.netaddr=n,_.routerId=i};return(n,i)=>(a(),L(st,{type:1},{default:V(()=>[t("div",Lc,[s.value=="ddnsto-install"?(a(),L(xc,{key:0,onSetup:o})):s.value=="ddnsto-login"?(a(),L(oc,{key:1,onSetup:o,onDdnstoConfig:f})):s.value=="ddnsto-run"?(a(),L(Tc,{key:2,onSetup:o,token:_.token,onDdnstoLocalConfig:h},null,8,["token"])):s.value=="ddnsto-bind"?(a(),L(_c,{key:3,onSetup:o,config:{token:_.token,sign:_.sign,domain:_.domain,netaddr:_.netaddr,routerId:_.routerId},domain:_.domain,"onUpdate:domain":i[0]||(i[0]=r=>_.domain=r)},null,8,["config","domain"])):s.value=="ddnsto-save"?(a(),L(bc,{key:4,onSetup:o,target:_.domain},null,8,["target"])):w("",!0)])]),_:1}))}});var Nc=S(zc,[["__scopeId","data-v-2b767e18"]]);const Oc=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=ut(Nc,ht(vt({},e),{Close:()=>{o()}}));s.mount(u);const o=()=>{s.unmount(),u.remove()};return{Close:o}};const qc={class:"action"},Hc={class:"action-header"},Uc=["innerHTML"],Rc={class:"action-footer"},Gc=I({__name:"index",props:{Close:Function,next:{type:Function},clear:{type:Function},continuer:{type:Function},nextTitle:{type:String,default:"\u786E\u5B9A"},clearTitle:{type:String,default:"\u8FD4\u56DE"},continuerTitle:{type:String,default:"\u7EE7\u7EED\u4FDD\u5B58"},title:{type:String,default:"\u63D0\u793A"},content:{type:String}},setup(e){const u=e,s=()=>{u.next&&u.next(),u.Close&&u.Close()},o=()=>{u.clear&&u.clear(),u.Close&&u.Close()},c=()=>{u.continuer&&u.continuer(),u.Close&&u.Close()};return(_,f)=>(a(),L(st,{Close:e.Close,type:1},{default:V(()=>[t("div",qc,[t("div",Hc,F(e.title),1),t("div",{class:"action-body",innerHTML:e.content},null,8,Uc),t("div",Rc,[e.clear?(a(),d("div",{key:0,class:"clear",onClick:o},F(e.clearTitle),1)):w("",!0),t("div",{class:"next",onClick:s},F(e.nextTitle),1),e.continuer?(a(),d("div",{key:1,class:"next",onClick:c},F(e.continuerTitle),1)):w("",!0)])])]),_:1},8,["Close"]))}});var Wc=S(Gc,[["__scopeId","data-v-4283f74c"]]);const $e=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=ut(Wc,ht(vt({},e),{Close:()=>{o()}}));s.mount(u);const o=()=>{s.unmount(),u.remove()};return{Close:o}};const j=e=>(q("data-v-b1e12544"),e=e(),H(),e),Zc={class:"actioner-container"},jc=["onSubmit"],Xc=j(()=>t("div",{class:"actioner-container_header"},[t("span",null,"\u57DF\u540D\u914D\u7F6E\u5411\u5BFC")],-1)),Yc={key:0,class:"title_info"},Qc=j(()=>t("p",null,"\u963F\u91CC\u4E91",-1)),Kc=j(()=>t("span",null," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),Jc=j(()=>t("a",{href:"https://doc.linkease.com/zh/guide/istoreos/basic/domain.html#%E9%98%BF%E9%87%8C%E4%BA%91",target:"_blank"},"\u67E5\u770B\u6559\u7A0B>>",-1)),td=[Qc,Kc,Jc],ed={key:1,class:"title_info"},ud=j(()=>t("p",null,"dnspod",-1)),sd=j(()=>t("span",null," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),nd=j(()=>t("a",{href:"https://doc.linkease.com/zh/guide/istoreos/basic/domain.html#dnspod",target:"_blank"},"\u67E5\u770B\u6559\u7A0B>>",-1)),od=[ud,sd,nd],ad={key:2,class:"title_info"},id=j(()=>t("p",null,"\u82B1\u751F\u58F3",-1)),ld=j(()=>t("span",null," \u4E3A\u62E5\u6709\u52A8\u6001IP\u7684\u4E3B\u673A\u914D\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u53EF\u8BBF\u95EE\u57DF\u540D ",-1)),cd=j(()=>t("a",{href:"https://doc.linkease.com/zh/guide/istoreos/basic/domain.html#%E8%8A%B1%E7%94%9F%E5%A3%B3",target:"_blank"},"\u67E5\u770B\u6559\u7A0B>>",-1)),dd=[id,ld,cd],rd={class:"label-item"},_d=j(()=>t("div",{class:"label-item_key"},[t("span",null,"IP\u5730\u5740\u7248\u672C\uFF1A")],-1)),pd={class:"label-item_value"},vd=j(()=>t("option",{value:"ipv4"},"IPv4\u5730\u5740",-1)),hd=j(()=>t("option",{value:"ipv6"},"IPv6\u5730\u5740",-1)),Fd=[vd,hd],md=j(()=>t("div",{class:"label_tips"},[t("svg",{width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[t("g",{id:"icon_alert",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[t("g",{id:"Icon/Warning"},[t("rect",{id:"\u77E9\u5F62",fill:"#000000","fill-rule":"nonzero",opacity:"0",x:"0",y:"0",width:"14",height:"14"}),t("path",{d:"M7,0.875 C3.61757813,0.875 0.875,3.61757813 0.875,7 C0.875,10.3824219 3.61757813,13.125 7,13.125 C10.3824219,13.125 13.125,10.3824219 13.125,7 C13.125,3.61757813 10.3824219,0.875 7,0.875 Z M6.5625,4.046875 C6.5625,3.98671875 6.61171875,3.9375 6.671875,3.9375 L7.328125,3.9375 C7.38828125,3.9375 7.4375,3.98671875 7.4375,4.046875 L7.4375,7.765625 C7.4375,7.82578125 7.38828125,7.875 7.328125,7.875 L6.671875,7.875 C6.61171875,7.875 6.5625,7.82578125 6.5625,7.765625 L6.5625,4.046875 Z M7,10.0625 C6.63769531,10.0625 6.34375,9.76855469 6.34375,9.40625 C6.34375,9.04394531 6.63769531,8.75 7,8.75 C7.36230469,8.75 7.65625,9.04394531 7.65625,9.40625 C7.65625,9.76855469 7.36230469,10.0625 7,10.0625 Z",id:"\u5F62\u72B6",fill:"#FAAD14"})])])]),t("span",{class:"info"},"\u8BBE\u5B9A\u54EA\u4E00\u4E2A IP \u5730\u5740\uFF08IPv4 \u6216 IPv6\uFF09\u4F1A\u88AB\u53D1\u9001\u7ED9 DDNS \u63D0\u4F9B\u5546")],-1)),fd={class:"label-item"},Ed=j(()=>t("div",{class:"label-item_key"},[t("span",null,"\u57DF\u540D\uFF1A")],-1)),Cd={class:"label-item_value"},$d={class:"label-item"},gd=j(()=>t("div",{class:"label-item_key"},[t("span",null,"\u7528\u6237\u540D\uFF1A")],-1)),bd={class:"label-item_value"},yd={class:"label-item"},Dd=j(()=>t("div",{class:"label-item_key"},[t("span",null,"\u5BC6\u7801\uFF1A")],-1)),kd={class:"label-item_value"},wd={class:"actioner-container_footer"},Bd=["disabled"],Ad=I({__name:"setup-ddns",props:{name:{type:String,default:"ali"},onSetup:{type:Function,required:!0},target:{type:String,required:!0}},emits:["update:target"],setup(e,{emit:u}){const s=e,o=g("ipv4"),c=g(s.name),_=g(""),f=g(""),h=g(""),n=g(!1),i=()=>{s.onSetup("index")},r=()=>{n.value=!0;const p=A.Loading("\u68C0\u6D4B\u4E2D...");P.Network.CheckPublickNet.POST({ipVersion:o.value}).then(l=>{var E,v;if(l!=null&&l.data){if((E=l==null?void 0:l.data)!=null&&E.error){A.Warning(l==null?void 0:l.data.error);return}if((((v=l==null?void 0:l.data)==null?void 0:v.success)||0)==0){const C=l.data.result;C&&C.address?D():m();return}}throw"\u672A\u77E5\u9519\u8BEF"}).catch(l=>{A.Error(l)}).finally(()=>{p.Close(),n.value=!1})},m=()=>{$e({title:"\u6E29\u99A8\u63D0\u793A",nextTitle:"\u4F7F\u7528DDNSTO",continuerTitle:"\u7EE7\u7EED\u4FDD\u5B58",content:"\u68C0\u6D4B\u5230\u60A8\u7684wan\u53E3\u6CA1\u6709\u516C\u7F51IP\u6216\u8005IPv6\u5730\u5740\uFF0C\u53EF\u4EE5\u4F7F\u7528DDNSTO\u914D\u7F6E\u8FDC\u7A0B\u57DF\u540D\u8BBF\u95EE",next(){b()},continuer(){D()},clear(){}})},b=()=>{s.onSetup("ddnsto")},D=()=>{n.value=!0;const p=A.Loading("\u914D\u7F6E\u4E2D...");P.Guide.PostDdns.POST({ipVersion:o.value,serviceName:c.value,domain:_.value,userName:f.value,password:h.value}).then(l=>{if(l!=null&&l.data){const{error:E,scope:v,success:C}=l.data;if(E=="-100"&&v=="guide.ddns"){$e({title:"\u6E29\u99A8\u63D0\u793A",content:"\u68C0\u6D4B\u5230\u4F60\u6709\u672A\u4FDD\u5B58\u7684\u914D\u7F6E\uFF0C\u53EF\u524D\u5F80\u9875\u9762\u53F3\u4E0A\u89D2\u70B9\u51FB\u67E5\u770B\uFF0C\u4FDD\u5B58\u5E76\u5E94\u7528\u6216\u8005\u6062\u590D\u914D\u7F6E\u540E\u7EE7\u7EED",next(){}});return}if(E){A.Warning(E);return}if((C||0)==0){u("update:target",_.value),s.onSetup("ddns-success");return}}throw"\u672A\u77E5\u9519\u8BEF"}).catch(l=>{A.Error(l)}).finally(()=>{p.Close(),n.value=!1})};return(p,l)=>(a(),d("div",Zc,[t("form",{class:"actioner-dns",onSubmit:it(r,["prevent"])},[Xc,t("div",{class:Xt(["actioner-container_body",e.name])},[e.name=="ali"?(a(),d("div",Yc,td)):e.name=="dnspod"?(a(),d("div",ed,od)):e.name=="oray"?(a(),d("div",ad,dd)):w("",!0),t("div",rd,[_d,t("div",pd,[T(t("select",{name:"",id:"","onUpdate:modelValue":l[0]||(l[0]=E=>o.value=E)},Fd,512),[[Et,o.value]])]),md]),t("div",fd,[Ed,t("div",Cd,[T(t("input",{type:"text",placeholder:"myhost.example.com","onUpdate:modelValue":l[1]||(l[1]=E=>_.value=E),required:""},null,512),[[Y,_.value,void 0,{trim:!0}]])])]),t("div",$d,[gd,t("div",bd,[T(t("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=E=>f.value=E),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",required:""},null,512),[[Y,f.value,void 0,{trim:!0}]])])]),t("div",yd,[Dd,t("div",kd,[T(t("input",{type:"password","onUpdate:modelValue":l[3]||(l[3]=E=>h.value=E),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",required:""},null,512),[[Y,h.value,void 0,{trim:!0}]])])])],2),t("div",wd,[t("div",{class:"close",onClick:i,type:"button"},"\u8FD4\u56DE"),t("button",{class:"next save",type:"submit",disabled:n.value}," \u4FDD\u5B58 ",8,Bd)])],40,jc)]))}});var Gt=S(Ad,[["__scopeId","data-v-b1e12544"]]);const xd={class:"action-main"},Sd=I({__name:"index",props:{Close:{type:Function,required:!0},url:{type:String,required:!0}},setup(e){const u=e,s=g(""),o=g("index"),c=n=>{if(n!=null){if(n=="ddnsto"){_();return}o.value=n}else f()},_=()=>{f(),Oc({url:u.url})},f=()=>{u.Close&&u.Close()},h=g("ddnsto");return(n,i)=>(a(),L(st,{Close:e.Close,type:1},{default:V(()=>[t("div",xd,[o.value=="index"?(a(),L(U1,{key:0,onSetup:c,active:h.value,"onUpdate:active":i[0]||(i[0]=r=>h.value=r)},null,8,["active"])):o.value=="ddns-ali"?(a(),L(Gt,{key:1,onSetup:c,target:s.value,"onUpdate:target":i[1]||(i[1]=r=>s.value=r),name:"ali"},null,8,["target"])):o.value=="ddns-dnspod"?(a(),L(Gt,{key:2,onSetup:c,target:s.value,"onUpdate:target":i[2]||(i[2]=r=>s.value=r),name:"dnspod"},null,8,["target"])):o.value=="ddns-oray"?(a(),L(Gt,{key:3,onSetup:c,target:s.value,"onUpdate:target":i[3]||(i[3]=r=>s.value=r),name:"oray"},null,8,["target"])):o.value=="ddns-success"?(a(),L(tc,{key:4,onSetup:c,target:s.value},null,8,["target"])):w("",!0)])]),_:1},8,["Close"]))}});var Id=S(Sd,[["__scopeId","data-v-5d97cabd"]]);const Vd=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=ut(Id,ht(vt({},e),{Close:()=>{o()}}));s.mount(u);const o=()=>{s.unmount(),u.remove()};return{Close:o}};var Pd=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var u=document.activeElement,s=[],o=0;o<e.rangeCount;o++)s.push(e.getRangeAt(o));switch(u.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":u.blur();break;default:u=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||s.forEach(function(c){e.addRange(c)}),u&&u.focus()}},Md=Pd,ge={"text/plain":"Text","text/html":"Url",default:"Text"},Td="Copy to clipboard: #{key}, Enter";function Ld(e){var u=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,u)}function zd(e,u){var s,o,c,_,f,h,n=!1;u||(u={}),s=u.debug||!1;try{c=Md(),_=document.createRange(),f=document.getSelection(),h=document.createElement("span"),h.textContent=e,h.ariaHidden="true",h.style.all="unset",h.style.position="fixed",h.style.top=0,h.style.clip="rect(0, 0, 0, 0)",h.style.whiteSpace="pre",h.style.webkitUserSelect="text",h.style.MozUserSelect="text",h.style.msUserSelect="text",h.style.userSelect="text",h.addEventListener("copy",function(r){if(r.stopPropagation(),u.format)if(r.preventDefault(),typeof r.clipboardData=="undefined"){s&&console.warn("unable to use e.clipboardData"),s&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var m=ge[u.format]||ge.default;window.clipboardData.setData(m,e)}else r.clipboardData.clearData(),r.clipboardData.setData(u.format,e);u.onCopy&&(r.preventDefault(),u.onCopy(r.clipboardData))}),document.body.appendChild(h),_.selectNodeContents(h),f.addRange(_);var i=document.execCommand("copy");if(!i)throw new Error("copy command was unsuccessful");n=!0}catch(r){s&&console.error("unable to copy using execCommand: ",r),s&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(u.format||"text",e),u.onCopy&&u.onCopy(window.clipboardData),n=!0}catch(m){s&&console.error("unable to copy using clipboardData: ",m),s&&console.error("falling back to prompt"),o=Ld("message"in u?u.message:Td),window.prompt(o,e)}}finally{f&&(typeof f.removeRange=="function"?f.removeRange(_):f.removeAllRanges()),h&&document.body.removeChild(h),c()}return n}var Nd=zd;const Qt=e=>(q("data-v-aa42396e"),e=e(),H(),e),Od={class:"button",style:{"margin-bottom":"8px"}},qd={href:"https://www.kooldns.cn/app/#/devices",target:"_blank"},Hd={class:"row"},Ud={class:"text"},Rd=Qt(()=>t("span",null,"DDNSTO\uFF1A",-1)),Gd={key:0},Wd=["href","title"],Zd={key:1,class:"configure"},jd={key:0,class:"row"},Xd={class:"text"},Yd=Qt(()=>t("span",null,"muddns_ipv4\uFF1A",-1)),Qd={key:0,class:"configure"},Kd=["href"],Jd={key:0,class:"button"},tr={key:1,class:"row"},er={class:"text"},ur=Qt(()=>t("span",null,"muddns_ipv6\uFF1A",-1)),sr={key:0,class:"configure"},nr=["href"],or={key:0,class:"button"},ar=I({__name:"ddns",setup(e){const u=g({});let s=!1,o;const c=n=>{Nd(n),A.Message("\u590D\u5236\u6210\u529F")};lt(()=>{s=!0,o=window.setTimeout(h,1100)}),wt(()=>{o!==void 0&&window.clearTimeout(o),s=!1});const _=R(()=>{const n=u.value.ipv4Domain;return!n||n=="Stopped"||n=="Disabled"?n:`http://${n}`}),f=R(()=>{const n=u.value.ipv6Domain;return!n||n=="Stopped"||n=="Disabled"?n:`http://${n}`}),h=function(){!s||P.Guide.Ddns.GET().then(n=>{var i;n!=null&&n.data&&(((i=n==null?void 0:n.data)==null?void 0:i.success)||0)==0&&n.data.result&&(u.value=n.data.result)}).then(()=>{})};return(n,i)=>(a(),L(W,{title:n.$t("\u8FDC\u7A0B\u57DF\u540D"),padding:"0 10px 8px 10px",helpLink:"https://www.linkease.com/rd/3yFiX5-X/",span:24,action:{text:n.$t("\u5FEB\u901F\u914D\u7F6E"),onClick:()=>{Z(Vd)({url:u.value.ddnstoDomain})}}},{default:V(()=>{var r,m,b,D;return[t("div",Od,[t("a",qd,F(n.$t("\u524D\u5F80\u63A7\u5236\u53F0")),1)]),t("div",Hd,[t("div",Ud,[Rd,(r=u.value)!=null&&r.ddnstoDomain?(a(),d("span",Gd,[t("a",{class:"configure",href:(m=u.value)==null?void 0:m.ddnstoDomain,target:"_blank",rel:"noopener noreferrer",title:(b=u.value)==null?void 0:b.ddnstoDomain},F((D=u.value)==null?void 0:D.ddnstoDomain),9,Wd),t("img",{src:k1,onClick:i[0]||(i[0]=p=>{var l;return c((l=u.value)==null?void 0:l.ddnstoDomain)})})])):(a(),d("span",Zd,F(n.$t("\u672A\u5B89\u88C5\u6216\u672A\u914D\u7F6E")),1))])]),_.value?(a(),d("div",jd,[t("div",Xd,[Yd,_.value==="Stopped"||_.value==="Disabled"?(a(),d("span",Qd,F(_.value),1)):(a(),d("a",{key:1,target:"_blank",rel:"noopener noreferrer",href:_.value,class:"configure"},F(_.value),9,Kd))]),_.value?(a(),d("div",Jd,[t("span",{onClick:i[1]||(i[1]=p=>Z(ot)({title:"muddns_ipv4",src:"/cgi-bin/luci/admin/services/ddns"}))},F(n.$t("\u7F16\u8F91")),1)])):w("",!0)])):w("",!0),f.value?(a(),d("div",tr,[t("div",er,[ur,f.value==="Stopped"||f.value==="Disabled"?(a(),d("span",sr,F(f.value),1)):(a(),d("a",{key:1,target:"_blank",rel:"noopener noreferrer",href:f.value,class:"configure"},F(f.value),9,nr))]),f.value?(a(),d("div",or,[t("span",{onClick:i[2]||(i[2]=p=>Z(ot)({title:"muddns_ipv4",src:"/cgi-bin/luci/admin/services/ddns"}))},F(n.$t("\u7F16\u8F91")),1)])):w("",!0)])):w("",!0)]}),_:1},8,["title","action"]))}});var ir=S(ar,[["__scopeId","data-v-aa42396e"]]);const lr={},cr={width:"128px",height:"128px",viewBox:"0 0 128 128",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},dr=t("g",{id:"icon_yellow",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[t("g",{id:"Icon/Warning"},[t("rect",{id:"\u77E9\u5F62",fill:"#000000","fill-rule":"nonzero",opacity:"0",x:"0",y:"0",width:"128",height:"128"}),t("path",{d:"M64,8 C33.075,8 8,33.075 8,64 C8,94.925 33.075,120 64,120 C94.925,120 120,94.925 120,64 C120,33.075 94.925,8 64,8 Z M60,37 C60,36.45 60.45,36 61,36 L67,36 C67.55,36 68,36.45 68,37 L68,71 C68,71.55 67.55,72 67,72 L61,72 C60.45,72 60,71.55 60,71 L60,37 Z M64,92 C60.6875,92 58,89.3125 58,86 C58,82.6875 60.6875,80 64,80 C67.3125,80 70,82.6875 70,86 C70,89.3125 67.3125,92 64,92 Z",id:"\u5F62\u72B6",fill:"#FAAD14"})])],-1),rr=[dr];function _r(e,u){return a(),d("svg",cr,rr)}var pr=S(lr,[["render",_r]]);const X=e=>(q("data-v-097a32fc"),e=e(),H(),e),vr={key:0,class:"action"},hr=X(()=>t("h2",{class:"title"},"Docker\u8FC1\u79FB\u5411\u5BFC",-1)),Fr=X(()=>t("p",{class:"desc"}," \u5F53\u7CFB\u7EDF\u6839\u76EE\u5F55\u7A7A\u95F4\u4E0D\u8DB3\u65F6\uFF0C\u53EF\u5C06docker\u6839\u76EE\u5F55\u8FC1\u79FB\u5230\u5916\u7F6E\u786C\u76D8\uFF0C\u4EE5\u4FDD\u8BC1\u7CFB\u7EDF\u7684\u6B63\u5E38\u8FD0\u884C: ",-1)),mr={key:1,class:"action"},fr=X(()=>t("h2",{class:"title"},"Docker\u8FC1\u79FB\u5411\u5BFC",-1)),Er=X(()=>t("p",{class:"desc"}," \u5F53\u7CFB\u7EDF\u6839\u76EE\u5F55\u7A7A\u95F4\u4E0D\u8DB3\u65F6\uFF0C\u53EF\u5C06docker\u6839\u76EE\u5F55\u8FC1\u79FB\u5230\u5916\u7F6E\u786C\u76D8\uFF0C\u4EE5\u4FDD\u8BC1\u7CFB\u7EDF\u7684\u6B63\u5E38\u8FD0\u884C: ",-1)),Cr={class:"roots"},$r=X(()=>t("span",{class:"roots_tit"},"Docker\u6839\u76EE\u5F55\uFF1A",-1)),gr={class:"root"},br={class:"move"},yr=X(()=>t("span",{class:"roots_tit"},"\u8FC1\u79FB\u5230\uFF1A",-1)),Dr={key:0},kr=["onSubmit"],wr={class:"select-editable"},Br=X(()=>t("option",{selected:"",value:null},"\u8BF7\u9009\u62E9\u8FC1\u79FB\u5730\u5740",-1)),Ar=["value"],xr=X(()=>t("option",{value:"useInput"},"- -\u81EA\u5B9A\u4E49- -",-1)),Sr={key:1,class:"tips"},Ir={class:"tips_content"},Vr=X(()=>t("span",{class:"tip"},"\u68C0\u6D4B\u5230\u60A8\u8FD8\u6CA1\u6709\u6302\u8F7D\u5916\u7F6E\u786C\u76D8\u6216\u5206\u533A\u5C0F\u4E8E8GB\uFF0C\u9700\u8981\u60A8\u63A5\u4E0A\u786C\u76D8\u5E76\u683C\u5F0F\u5316\u6216\u624B\u52A8\u6302\u8F7D\u786C\u76D8\u540E\uFF0C\u518D\u6267\u884CDocker\u8FC1\u79FB\u5411\u5BFC\uFF0C\u5C06Docker\u8FC1\u79FB\u5230\u76EE\u6807\u786C\u76D8\u3002",-1)),Pr={key:0,class:"btns"},Mr={key:1,class:"btns"},Tr={key:2,class:"action docker_success"},Lr=X(()=>t("h2",{class:"title"},"Docker\u8FC1\u79FB\u5411\u5BFC",-1)),zr={class:"finished"},Nr=X(()=>t("p",{class:"successed"},"\u8FC1\u79FB\u6210\u529F\uFF01",-1)),Or={key:3,class:"action docker_download"},qr=X(()=>t("h2",{class:"title"},"Docker\u8FC1\u79FB\u5411\u5BFC",-1)),Hr={class:"finished"},Ur=X(()=>t("p",{class:"successed"},"\u8BE5\u76EE\u6807\u8DEF\u5F84\u4E0D\u4E3A\u7A7A",-1)),Rr={class:"docker_moves"},Gr={class:"moves change"},Wr=X(()=>t("label",{for:"move"},"\u66F4\u6362\u76EE\u5F55\uFF08\u4E0D\u8986\u76D6\u76EE\u6807\u8DEF\u5F84\uFF0C\u4EC5\u5C06docker\u76EE\u5F55\u4FEE\u6539\u4E3A\u76EE\u6807\u8DEF\u5F84\uFF09",-1)),Zr={class:"moves"},jr=X(()=>t("label",{for:"cover"},"\u8986\u76D6\u8FC1\u79FB\uFF08\u8986\u76D6\u76EE\u6807\u8DEF\u5F84\uFF0C\u7EE7\u7EED\u8FC1\u79FB\u4F1A\u6E05\u7A7A\u8BE5\u76EE\u6807\u8DEF\u5F84\u4E0B\u7684\u6587\u4EF6\uFF09",-1)),Xr={class:"btns"},Yr=I({__name:"index",props:{rootPath:{type:String,required:!0},Close:Function},setup(e){const u=e,s=g(),o=g(),c=g(0),_=g("null"),f=g(""),h=g(),n=g(!1),i=g("");(()=>{P.Nas.Disk.Status.GET().then(v=>{v!=null&&v.data.result&&(h.value=v==null?void 0:v.data.result)}),P.Guide.DockerStatus.GET().then(v=>{var C;if((C=v==null?void 0:v.data)!=null&&C.result){const k=v.data.result;s.value=k}}),P.Guide.DockerPartitionList.GET().then(v=>{var C;if((C=v==null?void 0:v.data)!=null&&C.result){const k=v.data.result;o.value=k}})})();const m=v=>{let C=_.value;if(C=="useInput"&&(C=f.value),C==null||C=="null"||C=="")return;const k=A.Loading("\u6B63\u5728\u8FC1\u79FB\u4E2D...");P.Guide.DockerTransfer.POST({path:C,force:v,overwriteDir:!!i.value}).then($=>{var y;if($!=null&&$.data){if(($.data.success||0)==0){if((y=$.data.result)!=null&&y.emptyPathWarning){n.value=!0,c.value=2;return}c.value=1;return}else if($.data.error)throw $.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch($=>{A.Error($)}).finally(()=>k.Close())},b=()=>{n.value=!1,m(!1)},D=v=>{v.preventDefault(),u.Close&&u.Close()},p=v=>{v.preventDefault(),location.reload()},l=v=>{v.preventDefault(),c.value=0},E=v=>{v.preventDefault(),m(!0)};return(v,C)=>(a(),L(st,{Close:e.Close,type:1},{default:V(()=>{var k,$,y,x,G,M;return[c.value==-1?(a(),d("div",vr,[hr,Fr,t("div",{class:"btns"},[t("button",{class:"cbi-button cbi-button-remove app-btn app-back",type:"button",onClick:D}," \u53D6\u6D88 ")])])):c.value==0?(a(),d("div",mr,[fr,Er,t("div",Cr,[$r,t("span",gr,F((k=s.value)==null?void 0:k.path),1)]),t("div",br,[yr,(y=($=o.value)==null?void 0:$.partitionList)!=null&&y.length?(a(),d("div",Dr,[t("form",{onSubmit:it(b,["prevent"])},[t("label",null,[t("div",wr,[T(t("select",{"onUpdate:modelValue":C[0]||(C[0]=O=>_.value=O)},[Br,(a(!0),d(N,null,tt((x=o.value)==null?void 0:x.partitionList,(O,nt)=>(a(),d("option",{value:O,key:nt},F(O),9,Ar))),128)),xr],512),[[Et,_.value,void 0,{trim:!0}]]),_.value=="useInput"?T((a(),d("input",{key:0,type:"text","onUpdate:modelValue":C[1]||(C[1]=O=>f.value=O),required:"",placeholder:"\u8BF7\u8F93\u5165\u8FC1\u79FB\u5730\u5740"},null,512)),[[Y,f.value,void 0,{trim:!0}]]):w("",!0)])])],40,kr)])):o.value?(a(),d("div",Sr,[t("div",Ir,[B(rt),Vr])])):w("",!0)]),(M=(G=o.value)==null?void 0:G.partitionList)!=null&&M.length?(a(),d("div",Pr,[t("button",{class:"cbi-button cbi-button-apply",onClick:b}," \u786E\u5B9A "),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",type:"button",onClick:D}," \u53D6\u6D88 ")])):(a(),d("div",Mr,[t("button",{class:"cbi-button cbi-button-apply",onClick:D}," \u786E\u5B9A ")]))])):c.value==1?(a(),d("div",Tr,[Lr,t("div",zr,[B(Yt)]),Nr,t("div",{class:"btns"},[t("button",{class:"cbi-button cbi-button-apply",onClick:p}," \u786E\u5B9A ")])])):c.value==2?(a(),d("div",Or,[qr,t("div",Hr,[B(pr)]),Ur,t("div",Rr,[t("div",Gr,[T(t("input",{type:"radio",id:"move",name:"moves","onUpdate:modelValue":C[2]||(C[2]=O=>i.value=O),value:""},null,512),[[at,i.value]]),Wr]),t("div",Zr,[T(t("input",{type:"radio",id:"cover",name:"moves","onUpdate:modelValue":C[3]||(C[3]=O=>i.value=O),value:"true"},null,512),[[at,i.value]]),jr])]),t("div",Xr,[n.value?(a(),d("button",{key:0,class:"cbi-button cbi-button-apply",onClick:E}," \u786E\u5B9A ")):w("",!0),t("button",{class:"cbi-button cbi-button-apply",onClick:l}," \u8FD4\u56DE "),n.value?w("",!0):(a(),d("button",{key:1,class:"cbi-button cbi-button-remove app-btn app-back",type:"button",onClick:p}," \u53D6\u6D88 "))])])):w("",!0)]}),_:1},8,["Close"]))}});var Qr=S(Yr,[["__scopeId","data-v-097a32fc"]]);const be=()=>{const e=document.createElement("div");document.body.appendChild(e);const u=ut(Qr,{Close:()=>{s()}});u.mount(e);const s=()=>{u.unmount(),e.remove()};return{Close:s}};const Kr=e=>(q("data-v-750b6b3e"),e=e(),H(),e),Jr={class:"button"},t5={class:"row"},e5={class:"text"},u5={key:0,class:"docker-item-value"},s5={class:"configure"},n5={key:1,class:"docker-item-value"},o5={class:"input-switch"},a5=["value","disabled"],i5=Kr(()=>t("em",null,null,-1)),l5=[i5],c5={key:0,class:"row"},d5={class:"text"},r5={style:{width:"100%"}},_5={class:"configure"},p5={key:0},v5={class:"tooltip-trigger"},h5={class:"docker_tip"},F5={class:"tooltip-text tooltip-top"},m5={class:"docker_dir_tip"},f5=I({__name:"docker",setup(e){const u=g(!1),s=g(),o=mt({enable:!1,disabled:!1}),c=()=>z(this,null,function*(){const n=A.Loading(o.enable?"Docker\u5F00\u542F\u4E2D...":"Docker\u5173\u95ED\u4E2D...");o.disabled=!0;try{const i=yield P.Guide.DockerSwitch.POST({enable:o.enable});if(i!=null&&i.data){const{success:r,error:m}=i.data;if(m)throw o.enable=!o.enable,m;(r||0)==0&&h()}}catch(i){A.Warning(`${i}`)}finally{o.disabled=!1}n.Close()}),_=()=>{window.open("/cgi-bin/luci/admin/docker/overview","_blank")},f=()=>{be()},h=()=>{P.Guide.DockerStatus.GET().then(n=>{var i;if((i=n==null?void 0:n.data)!=null&&i.result){const r=n.data.result;s.value=r,r.status==="running"&&(o.enable=!0)}}).finally(()=>{u.value=!0})};return setTimeout(h,1100),(n,i)=>{var r;return a(),L(W,{title:"Docker",padding:"0 10px 8px 10px",helpLink:"https://www.linkease.com/rd/2Q28MDtf/",moreActions:[{show:((r=s.value)==null?void 0:r.status)==="running",text:"\u67E5\u770BDocker\u4FE1\u606F",onClick:f}],span:24},{default:V(()=>{var m,b,D,p;return[t("div",Jr,[t("span",{onClick:i[0]||(i[0]=l=>Z(be)({setup:0}))},F(n.$t("\u8FC1\u79FB\u5411\u5BFC")),1),t("span",{onClick:_},F(n.$t("\u9AD8\u7EA7\u914D\u7F6E")),1)]),t("div",t5,[t("div",e5,[t("span",null,F(n.$t("\u5F53\u524D\u72B6\u6001")),1)]),(m=s.value)!=null&&m.status?(a(),d(N,{key:0},[((b=s.value)==null?void 0:b.status)==="not installed"?(a(),d("div",u5,[t("span",s5,F(n.$t("\u672A\u5B89\u88C5")),1)])):(a(),d("div",n5,[t("label",o5,[T(t("input",{type:"checkbox",hidden:"",value:!o.enable,"onUpdate:modelValue":i[1]||(i[1]=l=>o.enable=l),disabled:o.disabled,onChange:c},null,40,a5),[[ye,o.enable]]),t("span",{class:Xt(o.enable?"enable":"close")},l5,2)])]))],64)):w("",!0)]),o.enable?(a(),d("div",c5,[t("div",d5,[t("span",null,"Docker "+F(n.$t("\u6839\u76EE\u5F55"))+"\uFF1A",1),t("div",r5,[t("span",_5,F((D=s.value)==null?void 0:D.path),1),(p=s.value)!=null&&p.errorInfo?(a(),d("span",p5,[t("span",v5,[t("span",h5,[B(rt)]),t("div",null,[t("div",F5,[t("span",m5,F(s.value.errorInfo),1)])])])])):w("",!0)])])])):w("",!0)]}),_:1},8,["moreActions"])}}});var E5=S(f5,[["__scopeId","data-v-750b6b3e"]]);const C5=e=>(q("data-v-68b4579e"),e=e(),H(),e),$5={class:"select-editable"},g5=["value"],b5=C5(()=>t("option",{value:"useInput"},"- -\u81EA\u5B9A\u4E49- -",-1)),y5=["placeholder"],D5=I({__name:"index",props:{modelValue:{type:String,required:!0},title:{type:String,default:""},options:{type:Array,default:[]}},emits:["update:modelValue"],setup(e,{emit:u}){const s=e,o=g(""),c=g(""),_=R({get:()=>s.modelValue.valueOf(),set:i=>u("update:modelValue",i)}),f=i=>{if(i===o.value||o.value==="useInput"&&i===c.value){_.value=s.options[0].key;return}i===""||s.options.some(r=>r.key===i)?o.value=i:(c.value=i,o.value="useInput")};Xe(()=>s.modelValue,i=>{f(i)}),lt(()=>{const i=_.value;f(i)});const h=i=>{o.value==="useInput"?_.value=c.value:_.value=o.value},n=i=>{_.value=c.value};return(i,r)=>(a(),d("label",null,[t("div",$5,[T(t("select",{"onUpdate:modelValue":r[0]||(r[0]=m=>o.value=m),autocomplete:"off",onChange:h},[(a(!0),d(N,null,tt(e.options,(m,b)=>(a(),d("option",{value:m.key,key:b},F(m.value||m.key),9,g5))),128)),b5],544),[[Et,o.value,void 0,{trim:!0}]]),o.value=="useInput"?T((a(),d("input",{key:0,type:"text","onUpdate:modelValue":r[1]||(r[1]=m=>c.value=m),required:"",placeholder:"\u8BF7\u8F93\u5165"+e.title,onChange:n},null,40,y5)),[[Y,c.value,void 0,{trim:!0}]]):w("",!0)])]))}});var kt=S(D5,[["__scopeId","data-v-68b4579e"]]);const k5={},w5={width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},B5=t("path",{d:"M7,0.875 C3.61757813,0.875 0.875,3.61757813 0.875,7 C0.875,10.3824219 3.61757813,13.125 7,13.125 C10.3824219,13.125 13.125,10.3824219 13.125,7 C13.125,3.61757813 10.3824219,0.875 7,0.875 Z M6.5625,4.046875 C6.5625,3.98671875 6.61171875,3.9375 6.671875,3.9375 L7.328125,3.9375 C7.38828125,3.9375 7.4375,3.98671875 7.4375,4.046875 L7.4375,7.765625 C7.4375,7.82578125 7.38828125,7.875 7.328125,7.875 L6.671875,7.875 C6.61171875,7.875 6.5625,7.82578125 6.5625,7.765625 L6.5625,4.046875 Z M7,10.0625 C6.63769531,10.0625 6.34375,9.76855469 6.34375,9.40625 C6.34375,9.04394531 6.63769531,8.75 7,8.75 C7.36230469,8.75 7.65625,9.04394531 7.65625,9.40625 C7.65625,9.76855469 7.36230469,10.0625 7,10.0625 Z",id:"\u5F62\u72B6","fill-opacity":"0.65"},null,-1),A5=[B5];function x5(e,u){return a(),d("svg",w5,A5)}var $t=S(k5,[["render",x5]]);const U=e=>(q("data-v-f4c41bf2"),e=e(),H(),e),S5={key:0,class:"action"},I5=U(()=>t("h2",{class:"title"},"\u4E0B\u8F7D\u670D\u52A1\u914D\u7F6E\u5411\u5BFC",-1)),V5={class:"load_service input_row"},P5=U(()=>t("div",{class:"left"},[t("span",null,"\u4E0B\u8F7D\u670D\u52A1\uFF1A")],-1)),M5={class:"radios"},T5=U(()=>t("label",{for:"Aria2"},"Aria2",-1)),L5={class:"radios"},z5=U(()=>t("label",{for:"qB"},"qBittorrent",-1)),N5={class:"radios"},O5=U(()=>t("label",{for:"Tr"},"Transmission",-1)),q5=["onSubmit"],H5={class:"input_row"},U5={class:"left"},R5={class:"tooltip-trigger"},G5=U(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u914D\u7F6E\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/Configs/aria2\uFF1B\u8BF7\u52FF\u4F7F\u7528 /tmp \u6216 /var \uFF0C\u4EE5\u514D\u91CD\u542F\u4EE5\u540E\u4EFB\u52A1\u4E22\u5931")])],-1)),W5=U(()=>t("span",null,"\u914D\u7F6E\u76EE\u5F55\uFF1A",-1)),Z5={class:"myinput_wrap"},j5={class:"input_row"},X5={class:"left"},Y5={class:"tooltip-trigger"},Q5=U(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u4E0B\u8F7D\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/download")])],-1)),K5=U(()=>t("span",null,"\u4E0B\u8F7D\u76EE\u5F55\uFF1A",-1)),J5={class:"myinput_wrap"},t6={class:"input_row"},e6={class:"left"},u6={class:"tooltip-trigger"},s6=U(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-bottom"},[t("span",{class:"dowload_rpc_tip"},"\u7528\u4E8E\u8FDC\u7A0B\u8BBF\u95EE\u7684\u4EE4\u724C\u3002")])],-1)),n6=U(()=>t("span",null,"RPC \u4EE4\u724C\uFF1A",-1)),o6={class:"input_row"},a6=U(()=>t("div",{class:""},[t("span",null,"\u9644\u52A0\u7684 BT Tracker\uFF1A")],-1)),i6={class:"radios"},l6=U(()=>t("label",{for:"default"},"\u9ED8\u8BA4",-1)),c6={class:"radios"},d6=U(()=>t("label",{for:"add"},"\u81EA\u5DF1\u6DFB\u52A0",-1)),r6={class:"input_row"},_6=U(()=>t("div",{class:"left"},null,-1)),p6={class:"myinput_wrap Tracker_input"},v6=["onSubmit"],h6={class:"input_row"},F6={class:"left"},m6={class:"tooltip-trigger"},f6=U(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u914D\u7F6E\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/Configs/qb\uFF1B\u8BF7\u52FF\u4F7F\u7528 /tmp \u6216 /var \uFF0C\u4EE5\u514D\u91CD\u542F\u4EE5\u540E\u4EFB\u52A1\u4E22\u5931")])],-1)),E6=U(()=>t("span",null,"\u914D\u7F6E\u76EE\u5F55\uFF1A",-1)),C6={class:"myinput_wrap"},$6={class:"input_row"},g6={class:"left"},b6={class:"tooltip-trigger"},y6=U(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u4E0B\u8F7D\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/download")])],-1)),D6=U(()=>t("span",null,"\u4E0B\u8F7D\u76EE\u5F55\uFF1A",-1)),k6={class:"myinput_wrap"},w6=["onSubmit"],B6={class:"input_row"},A6={class:"left"},x6={class:"tooltip-trigger"},S6=U(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u914D\u7F6E\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/Configs/tr\uFF1B\u8BF7\u52FF\u4F7F\u7528 /tmp \u6216 /var \uFF0C\u4EE5\u514D\u91CD\u542F\u4EE5\u540E\u4EFB\u52A1\u4E22\u5931")])],-1)),I6=U(()=>t("span",null,"\u914D\u7F6E\u76EE\u5F55\uFF1A",-1)),V6={class:"myinput_wrap"},P6={class:"input_row"},M6={class:"left"},T6={class:"tooltip-trigger"},L6=U(()=>t("div",null,[t("div",{class:"tooltip-text tooltip-top"},[t("span",{class:"dowload_dir_tip"},"\u7528\u4E8E\u653E\u7F6E\u4E0B\u8F7D\u6587\u4EF6\u7684\u76EE\u5F55\u3002\u4F8B\u5982\uFF1A/mnt/sda1/download")])],-1)),z6=U(()=>t("span",null,"\u4E0B\u8F7D\u76EE\u5F55\uFF1A",-1)),N6={class:"myinput_wrap"},O6={class:"btns"},q6={key:1,class:"action"},H6={class:"title"},U6={class:"finished"},R6=U(()=>t("p",{class:"successed"},"\u914D\u7F6E\u6210\u529F\uFF01",-1)),G6=I({__name:"index",props:{services:{type:Object,required:!0},partitionList:{type:Array,required:!0},defaultTab:{type:String,required:!1},Close:Function},setup(e){const u=e,s=g(""),o=g(""),c=g(""),_=g(""),f=g("default"),h=g("Aria2"),n=g(""),i=g(""),r=g(""),m=g(""),b=g([]),D=g([]),p=g(0);lt(()=>{var M,O,nt,xt,St,It,Vt,Pt,Mt,Tt;switch(u.defaultTab){case"aria2":h.value="Aria2";break;case"qbittorrent":h.value="qBittorrent";break;case"transmission":h.value="Transmission";break}b.value=u.partitionList.map(pt=>({key:pt})),D.value=u.partitionList.filter(pt=>pt.startsWith("/mnt/")).map(pt=>pt.replace(/(\/mnt\/[^/]+).*/,"$1")),c.value=((M=u.services.aria2)==null?void 0:M.configPath)||"";const $=((O=u.services.aria2)==null?void 0:O.downloadPath)||((nt=u.services.qbittorrent)==null?void 0:nt.downloadPath)||((xt=u.services.transmission)==null?void 0:xt.downloadPath);$&&(_.value=$);const y=(St=u.services.aria2)==null?void 0:St.rpcToken;y&&(s.value=y),n.value=((It=u.services.qbittorrent)==null?void 0:It.configPath)||"";const x=((Vt=u.services.qbittorrent)==null?void 0:Vt.downloadPath)||$||((Pt=u.services.transmission)==null?void 0:Pt.downloadPath);x&&(i.value=x),r.value=((Mt=u.services.transmission)==null?void 0:Mt.configPath)||"";const G=((Tt=u.services.transmission)==null?void 0:Tt.downloadPath)||$||x;G&&(m.value=G)});const l=()=>{let $=c.value,y=_.value;$==null||$==""||y==null||y==""||z(this,null,function*(){if(yield gt.checkAndInstallApp("app-meta-aria2","Aria2")){const G=A.Loading("\u914D\u7F6E\u4E2D...");P.Guide.Aria2Init.POST({configPath:$,downloadPath:y,rpcToken:s.value,btTracker:f.value=="add"?o.value:""}).then(M=>{var O;if(M!=null&&M.data){if((M.data.success||0)==0){p.value=1;return}else if((O=M.data)!=null&&O.error)throw M.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(M=>A.Error(M)).finally(()=>G.Close())}})},E=()=>{let $=n.value,y=i.value;$==null||$==""||y==null||y==""||z(this,null,function*(){if(yield gt.checkAndInstallApp("app-meta-qbittorrent","qBittorrent")){const G=A.Loading("\u914D\u7F6E\u4E2D...");P.Guide.qbitorrentInit.POST({configPath:$,downloadPath:y}).then(M=>{var O;if(M!=null&&M.data){if((M.data.success||0)==0){p.value=1;return}else if((O=M.data)!=null&&O.error)throw M.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(M=>A.Error(M)).finally(()=>G.Close())}})},v=()=>{let $=r.value,y=m.value;$==null||$==""||y==null||y==""||z(this,null,function*(){if(yield gt.checkAndInstallApp("app-meta-transmission","Transmission")){const G=A.Loading("\u914D\u7F6E\u4E2D...");P.Guide.transmissionInit.POST({configPath:$,downloadPath:y}).then(M=>{var O;if(M!=null&&M.data){if((M.data.success||0)==0){p.value=1;return}else if((O=M.data)!=null&&O.error)throw M.data.error}throw"\u672A\u77E5\u9519\u8BEF"}).catch(M=>A.Error(M)).finally(()=>G.Close())}})},C=$=>{$.preventDefault(),u.Close&&u.Close()},k=$=>{$.preventDefault(),location.reload()};return($,y)=>(a(),L(st,{Close:e.Close,type:1},{default:V(()=>[p.value==0?(a(),d("div",S5,[I5,t("ul",null,[t("li",null,[t("div",V5,[P5,t("div",M5,[T(t("input",{type:"radio",value:"Aria2","onUpdate:modelValue":y[0]||(y[0]=x=>h.value=x),name:"download",id:"Aria2"},null,512),[[at,h.value]]),T5]),t("div",L5,[T(t("input",{type:"radio",value:"qBittorrent","onUpdate:modelValue":y[1]||(y[1]=x=>h.value=x),name:"download",id:"qB"},null,512),[[at,h.value]]),z5]),t("div",N5,[T(t("input",{type:"radio",value:"Transmission","onUpdate:modelValue":y[2]||(y[2]=x=>h.value=x),name:"download",id:"Tr"},null,512),[[at,h.value]]),O5])])])]),h.value=="Aria2"?(a(),d("form",{key:0,onSubmit:it(l,["prevent"])},[t("ul",null,[t("li",null,[t("div",H5,[t("div",U5,[t("span",R5,[B($t),G5]),W5]),t("div",Z5,[B(kt,{modelValue:c.value,"onUpdate:modelValue":y[3]||(y[3]=x=>c.value=x),modelModifiers:{trim:!0},title:"\u914D\u7F6E\u76EE\u5F55",options:D.value.concat("/root").map(x=>({key:x+"/Configs/aria2"}))},null,8,["modelValue","options"])])])]),t("li",null,[t("div",j5,[t("div",X5,[t("span",Y5,[B($t),Q5]),K5]),t("div",J5,[B(kt,{modelValue:_.value,"onUpdate:modelValue":y[4]||(y[4]=x=>_.value=x),modelModifiers:{trim:!0},title:"\u4E0B\u8F7D\u76EE\u5F55",options:b.value},null,8,["modelValue","options"])])])]),t("li",null,[t("div",t6,[t("div",e6,[t("span",u6,[B($t),s6]),n6]),T(t("input",{type:"text",class:"RPC_input",placeholder:"\u8BF7\u8F93\u5165RPC\u4EE4\u724C","onUpdate:modelValue":y[5]||(y[5]=x=>s.value=x)},null,512),[[Y,s.value,void 0,{trim:!0}]])])]),t("li",null,[t("div",o6,[a6,t("div",i6,[T(t("input",{type:"radio",value:"default",name:"BT",id:"default","onUpdate:modelValue":y[6]||(y[6]=x=>f.value=x)},null,512),[[at,f.value]]),l6]),t("div",c6,[T(t("input",{type:"radio",value:"add",name:"BT",id:"add","onUpdate:modelValue":y[7]||(y[7]=x=>f.value=x)},null,512),[[at,f.value]]),d6])])]),t("li",null,[t("div",r6,[_6,t("div",p6,[f.value=="add"?T((a(),d("textarea",{key:0,"onUpdate:modelValue":y[8]||(y[8]=x=>o.value=x),rows:"4",placeholder:"\u8BF7\u8F93\u5165BT Tracker\u670D\u52A1\u5668\u5730\u5740\uFF0C\u591A\u4E2A\u5730\u5740\u4F7F\u7528\u6362\u884C\u6216\u8005\u82F1\u6587\u9017\u53F7\u5206\u9694"},null,512)),[[Y,o.value,void 0,{trim:!0}]]):w("",!0)])])])])],40,q5)):w("",!0),h.value=="qBittorrent"?(a(),d("form",{key:1,onSubmit:it(E,["prevent"])},[t("ul",null,[t("li",null,[t("div",h6,[t("div",F6,[t("span",m6,[B($t),f6]),E6]),t("div",C6,[B(kt,{modelValue:n.value,"onUpdate:modelValue":y[9]||(y[9]=x=>n.value=x),modelModifiers:{trim:!0},title:"\u914D\u7F6E\u76EE\u5F55",options:D.value.concat("/root").map(x=>({key:x+"/Configs/qb"}))},null,8,["modelValue","options"])])])]),t("li",null,[t("div",$6,[t("div",g6,[t("span",b6,[B($t),y6]),D6]),t("div",k6,[B(kt,{modelValue:i.value,"onUpdate:modelValue":y[10]||(y[10]=x=>i.value=x),modelModifiers:{trim:!0},title:"\u4E0B\u8F7D\u76EE\u5F55",options:b.value},null,8,["modelValue","options"])])])])])],40,v6)):w("",!0),h.value=="Transmission"?(a(),d("form",{key:2,onSubmit:it(v,["prevent"])},[t("ul",null,[t("li",null,[t("div",B6,[t("div",A6,[t("span",x6,[B($t),S6]),I6]),t("div",V6,[B(kt,{modelValue:r.value,"onUpdate:modelValue":y[11]||(y[11]=x=>r.value=x),modelModifiers:{trim:!0},title:"\u914D\u7F6E\u76EE\u5F55",options:D.value.concat("/root").map(x=>({key:x+"/Configs/transmission"}))},null,8,["modelValue","options"])])])]),t("li",null,[t("div",P6,[t("div",M6,[t("span",T6,[B($t),L6]),z6]),t("div",N6,[B(kt,{modelValue:m.value,"onUpdate:modelValue":y[12]||(y[12]=x=>m.value=x),modelModifiers:{trim:!0},title:"\u4E0B\u8F7D\u76EE\u5F55",options:b.value},null,8,["modelValue","options"])])])])])],40,w6)):w("",!0),t("div",O6,[h.value=="Aria2"?(a(),d("button",{key:0,class:"cbi-button cbi-button-apply",onClick:l}," \u542F\u7528 ")):w("",!0),h.value=="qBittorrent"?(a(),d("button",{key:1,class:"cbi-button cbi-button-apply",onClick:E}," \u542F\u7528 ")):w("",!0),h.value=="Transmission"?(a(),d("button",{key:2,class:"cbi-button cbi-button-apply",onClick:v}," \u542F\u7528 ")):w("",!0),t("button",{class:"cbi-button cbi-button-remove app-btn app-back",onClick:C}," \u53D6\u6D88 ")])])):p.value==1?(a(),d("div",q6,[t("h2",H6,F(h.value)+"\u4E0B\u8F7D\u670D\u52A1\u914D\u7F6E\u5411\u5BFC",1),t("div",U6,[B(Yt)]),R6,t("div",{class:"btns"},[t("button",{class:"cbi-button cbi-button-apply",onClick:k}," \u786E\u5B9A ")])])):w("",!0)]),_:1},8,["Close"]))}});var W6=S(G6,[["__scopeId","data-v-f4c41bf2"]]);const Z6=e=>{const u=document.createElement("div");document.body.appendChild(u);const s=ut(W6,ht(vt({},e),{Close:()=>{o()}}));s.mount(u);const o=()=>{s.unmount(),u.remove()};return{Close:o}};const Ht=e=>(q("data-v-63fbd04d"),e=e(),H(),e),j6={class:"service-item"},X6={class:"name"},Y6=Ht(()=>t("span",null,"Aria2",-1)),Q6={class:"button"},K6={class:"info"},J6=["href"],t0=["href"],e0=Ht(()=>t("span",null,[K("\u4F7F\u7528"),t("a",{href:"https://doc.linkease.com/zh/guide/linkease_app/tutorial.html#%E8%BF%9C%E7%A8%8B%E4%B8%8B%E8%BD%BD",target:"_blank"},"\u6613\u6709\u4E91APP"),K("\uFF0C\u968F\u65F6\u968F\u5730\u8FDC\u7A0B\u4E0B\u8F7D")],-1)),u0={key:0},s0=["href"],n0={class:"service-item"},o0={class:"name"},a0=Ht(()=>t("span",null,"qBittorrent",-1)),i0={key:0,class:"button"},l0={class:"info"},c0=["href"],d0=["href"],r0={class:"service-item"},_0={class:"name"},p0=Ht(()=>t("span",null,"Transmission",-1)),v0={key:0,class:"button"},h0={class:"info"},F0=["href"],m0=I({__name:"download",setup(e){const u=g(),s=g("aria2"),o=g(window.location),c=()=>{P.Guide.DownloadPartition.List.GET().then(n=>{var r,m;let i=[];(m=(r=n==null?void 0:n.data)==null?void 0:r.result)!=null&&m.partitionList&&(i=n.data.result.partitionList),Z6({services:u.value,partitionList:i,defaultTab:s.value})})},_=()=>{P.Guide.DownloadService.Status.GET().then(n=>{var i;if((i=n==null?void 0:n.data)!=null&&i.result){const r=n.data.result;u.value=r}})},f=R(()=>{var n,i,r;if(u){let m=(n=u==null?void 0:u.aria2)==null?void 0:n.rpcToken;m&&(m=encodeURIComponent(btoa(m)));const b=encodeURIComponent(window.location.hostname);return`${window.location.origin}${(i=u==null?void 0:u.aria2)==null?void 0:i.webPath}/#!/settings/rpc/set/http/${b}/${(r=u==null?void 0:u.aria2)==null?void 0:r.rpcPort}/jsonrpc/${m}`}}),h=(n,i,r)=>z(this,null,function*(){window.open(r,"_blank")});return setTimeout(_,800),(n,i)=>(a(),L(W,{title:n.$t("\u4E0B\u8F7D\u670D\u52A1"),padding:"0 10px 8px 10px",helpLink:"https://www.linkease.com/rd/2Q28MDtf/",span:24,action:{text:n.$t("\u5FEB\u901F\u914D\u7F6E"),onClick:c}},{default:V(()=>{var r,m,b,D,p,l,E,v,C,k,$,y,x,G,M,O,nt,xt,St,It,Vt,Pt,Mt,Tt,pt,Kt,Jt,te,ee,ue,se,ne,oe,ae,ie,le,ce,de,re,_e;return[t("div",j6,[t("div",X6,[t("span",null,[Y6,t("span",null,F(n.$t("\u6682\u65E0\u4E0B\u8F7D")),1)]),t("div",Q6,[t("span",{onClick:i[0]||(i[0]=pe=>h("app-meta-aria2","Aria2","/cgi-bin/luci/admin/services/aria2"))},F(n.$t("\u9AD8\u7EA7\u914D\u7F6E")),1)])]),t("div",K6,[t("span",null,F(n.$t("\u5F53\u524D\u72B6\u6001"))+"\uFF1A"+F(`${((m=(r=u.value)==null?void 0:r.aria2)==null?void 0:m.status)==="running"?n.$t("\u5DF2\u542F\u52A8"):n.$t("\u672A\u542F\u52A8")}`),1),((D=(b=u.value)==null?void 0:b.aria2)==null?void 0:D.status)=="running"?(a(),d(N,{key:0},[t("span",null,[K(F(n.$t("\u4E0B\u8F7D\u76EE\u5F55"))+"\uFF1A ",1),t("a",{target:"_blank",href:"/cgi-bin/luci/admin/services/linkease/file/?path=/root"+((l=(p=u.value)==null?void 0:p.aria2)==null?void 0:l.downloadPath)},F((v=(E=u.value)==null?void 0:E.aria2)==null?void 0:v.downloadPath),9,J6)]),t("span",null,[K(F(n.$t("\u7F51\u7EDC\u5730\u5740"))+"\uFF1A ",1),t("a",{href:`http://${o.value.hostname}${(k=(C=u.value)==null?void 0:C.aria2)==null?void 0:k.webPath}`,target:"_blank",rel:"noopener noreferrer"},F(`http://${o.value.hostname}${(y=($=u.value)==null?void 0:$.aria2)==null?void 0:y.webPath}`),9,t0)])],64)):w("",!0),t("div",null,[e0,((G=(x=u.value)==null?void 0:x.aria2)==null?void 0:G.status)==="running"?(a(),d("span",u0,[K(F(n.$t("\u8BA4\u8BC1\u5931\u8D25"))+"\uFF1F ",1),t("a",{href:f.value,target:"_blank",rel:"noopener noreferrer"}," \u70B9\u6B64\u81EA\u52A8\u586B\u5145\u5BC6\u94A5 ",8,s0)])):w("",!0)])])]),t("div",n0,[t("div",o0,[t("span",null,[a0,t("span",null,F(n.$t("\u6682\u65E0\u4E0B\u8F7D")),1)]),((O=(M=u.value)==null?void 0:M.qbittorrent)==null?void 0:O.status)==="running"?(a(),d("div",i0,[t("span",{onClick:i[1]||(i[1]=pe=>h("app-meta-qbittorrent","qBittorrent","/cgi-bin/luci/admin/nas/qBittorrent"))},F(n.$t("\u9AD8\u7EA7\u914D\u7F6E")),1)])):w("",!0)]),t("div",l0,[t("span",null,F(`${n.$t("\u5F53\u524D\u72B6\u6001")}\uFF1A${((xt=(nt=u.value)==null?void 0:nt.qbittorrent)==null?void 0:xt.status)==="running"?n.$t("\u5DF2\u542F\u52A8"):n.$t("\u672A\u542F\u52A8")}`),1),((It=(St=u.value)==null?void 0:St.qbittorrent)==null?void 0:It.status)=="running"?(a(),d(N,{key:0},[t("span",null,[K(F(n.$t("\u4E0B\u8F7D\u76EE\u5F55"))+"\uFF1A ",1),t("a",{target:"_blank",href:"/cgi-bin/luci/admin/services/linkease/file/?path=/root"+((Pt=(Vt=u.value)==null?void 0:Vt.qbittorrent)==null?void 0:Pt.downloadPath)},F((Tt=(Mt=u.value)==null?void 0:Mt.qbittorrent)==null?void 0:Tt.downloadPath),9,c0)]),t("span",null,[K(F(n.$t("\u7F51\u7EDC\u5730\u5740"))+"\uFF1A ",1),t("a",{href:`http://${o.value.hostname}${(Kt=(pt=u.value)==null?void 0:pt.qbittorrent)==null?void 0:Kt.webPath}`,target:"_blank",rel:"noopener noreferrer"},F(`http://${o.value.hostname}${(te=(Jt=u.value)==null?void 0:Jt.qbittorrent)==null?void 0:te.webPath}`),9,d0)])],64)):w("",!0)])]),t("div",r0,[t("div",_0,[t("span",null,[p0,t("span",null,F(n.$t("\u6682\u65E0\u4E0B\u8F7D")),1)]),((ue=(ee=u.value)==null?void 0:ee.transmission)==null?void 0:ue.status)==="running"?(a(),d("div",v0,[t("span",{onClick:i[2]||(i[2]=pe=>h("app-meta-transmission","Transmission","/cgi-bin/luci/admin/services/transmission"))},F(n.$t("\u9AD8\u7EA7\u914D\u7F6E")),1)])):w("",!0)]),t("div",h0,[t("span",null,F(`${n.$t("\u5F53\u524D\u72B6\u6001")}\uFF1A${((ne=(se=u.value)==null?void 0:se.transmission)==null?void 0:ne.status)==="running"?n.$t("\u5DF2\u542F\u52A8"):n.$t("\u672A\u542F\u52A8")}`),1),((ae=(oe=u.value)==null?void 0:oe.transmission)==null?void 0:ae.status)=="running"?(a(),d(N,{key:0},[t("span",null,F(n.$t("\u4E0B\u8F7D\u76EE\u5F55"))+"\uFF1A "+F("/cgi-bin/luci/admin/services/linkease/file/?path=/root"+((le=(ie=u.value)==null?void 0:ie.transmission)==null?void 0:le.downloadPath)),1),t("span",null,[K(F(n.$t("\u7F51\u7EDC\u5730\u5740"))+"\uFF1Ahttp ",1),t("a",{href:`http://${o.value.hostname}${(de=(ce=u.value)==null?void 0:ce.transmission)==null?void 0:de.webPath}`,target:"_blank",rel:"noopener noreferrer"},F(`http://${o.value.hostname}${(_e=(re=u.value)==null?void 0:re.transmission)==null?void 0:_e.webPath}`),9,F0)])],64)):w("",!0)])])]}),_:1},8,["title","action"]))}});var f0=S(m0,[["__scopeId","data-v-63fbd04d"]]);const E0=I({__name:"index",setup(e){return(u,s)=>(a(),L(ft,{title:u.$t("\u670D\u52A1\u72B6\u6001"),contentStyle:"flex-flow: column"},{default:V(()=>[B(ir),B(E5),B(f0)]),_:1},8,["title"]))}});var C0="/luci-static/istorex/file.png?v=055a0ac9",$0="/luci-static/istorex/user.png?v=fa675eea",g0="/luci-static/istorex/setting.png?v=bf214b33",b0="/luci-static/istorex/file-manage.png?v=3297497e",y0="/luci-static/istorex/sync.png?v=8384453e",D0="/luci-static/istorex/photo.png?v=3178eb60",k0="/luci-static/istorex/network.png?v=3314b340",w0="/luci-static/istorex/nas.png?v=902703f1";const At=e=>(q("data-v-41e0f196"),e=e(),H(),e),B0={class:"width-60 responsive"},A0={class:"card-content"},x0=At(()=>t("div",null,[t("img",{src:C0,alt:"\u5171\u4EAB\u6587\u4EF6"})],-1)),S0=At(()=>t("div",null,[t("img",{src:$0,alt:"\u5171\u4EAB\u7528\u6237"})],-1)),I0={class:"card-content"},V0=At(()=>t("div",null,[t("img",{src:g0,alt:"\u5171\u4EAB\u8BBE\u7F6E"})],-1)),P0={class:"card-content"},M0=At(()=>t("div",null,[t("img",{src:b0,alt:"\u6587\u4EF6\u7BA1\u7406"})],-1)),T0={class:"card-content"},L0=At(()=>t("div",null,[t("img",{src:y0,alt:"\u6587\u4EF6\u540C\u6B65"})],-1)),z0={class:"card-content"},N0=At(()=>t("div",null,[t("img",{src:D0,alt:"\u76F8\u518C\u5907\u4EFD"})],-1)),O0={class:"width-40 responsive"},q0={class:"card-content"},H0=["alt"],U0={class:"card-content"},R0=["alt"],G0=I({__name:"index",setup(e){const u=()=>{De.OpenGuideWindow()},s=()=>{window.open("/cgi-bin/luci/admin/services/linkease/file","_blank")},o=()=>{A.Message("\u6682\u672A\u5F00\u653E")};return(c,_)=>(a(),d("div",null,[t("div",B0,[B(ft,{title:c.$t("\u5171\u4EAB\u529F\u80FD"),height:"140px"},{default:V(()=>[B(W,{span:8,onClick:_[0]||(_[0]=f=>Z(ou).Open())},{default:V(()=>[t("div",A0,[x0,t("span",null,F(c.$t("\u5171\u4EAB\u6587\u4EF6")),1)])]),_:1}),B(W,{span:8},{default:V(()=>[t("div",{class:"card-content",onClick:_[1]||(_[1]=f=>Z(au).Open())},[S0,t("span",null,F(c.$t("\u5171\u4EAB\u7528\u6237")),1)])]),_:1}),B(W,{span:8,onClick:_[2]||(_[2]=f=>o())},{default:V(()=>[t("div",I0,[V0,t("span",null,F(c.$t("\u5171\u4EAB\u8BBE\u7F6E")),1)])]),_:1})]),_:1},8,["title"]),B(ft,{title:c.$t("\u5176\u4ED6\u529F\u80FD"),height:"140px"},{default:V(()=>[B(W,{span:8,onClick:s},{default:V(()=>[t("div",P0,[M0,t("span",null,F(c.$t("\u6587\u4EF6\u7BA1\u7406")),1)])]),_:1}),B(W,{span:8},{default:V(()=>[t("div",T0,[L0,t("span",null,F(c.$t("\u6587\u4EF6\u540C\u6B65")),1)])]),_:1}),B(W,{span:8},{default:V(()=>[t("div",z0,[N0,t("span",null,F(c.$t("\u76F8\u518C\u5907\u4EFD")),1)])]),_:1})]),_:1},8,["title"])]),t("div",O0,[B(ft,{height:"288px",title:c.$t("\u5411\u5BFC\u529F\u80FD")},{default:V(()=>[B(W,{span:12,onClick:_[3]||(_[3]=f=>Z(ot)({title:c.$t("\u7F51\u7EDC\u5411\u5BFC"),src:"/cgi-bin/luci/admin/quickstart/network"}))},{default:V(()=>[t("div",q0,[t("div",null,[t("img",{src:k0,alt:c.$t("\u7F51\u7EDC\u5411\u5BFC")},null,8,H0)]),t("span",null,F(c.$t("\u7F51\u7EDC\u5411\u5BFC")),1)])]),_:1}),B(W,{span:12,onClick:_[4]||(_[4]=f=>u())},{default:V(()=>[t("div",U0,[t("div",null,[t("img",{src:w0,alt:c.$t("NAS\u5411\u5BFC")},null,8,R0)]),t("span",null,F(c.$t("NAS\u5411\u5BFC")),1)])]),_:1})]),_:1},8,["title"])])]))}});var W0=S(G0,[["__scopeId","data-v-41e0f196"]]);const Z0=I({__name:"index",setup(e){const u=we(),s=R(()=>u.portitemStyle.portitem),o=R(()=>u.portitemStyle.show),c=R(()=>({bottom:`calc(100% - ${u.portitemStyle.top}px)`,left:`${u.portitemStyle.left}px`})),_=n=>{switch(n){case"full":return"\u5168\u53CC\u5DE5";case"half":return"\u534A\u53CC\u5DE5"}},f=n=>{u.portitemStyle.show=!0},h=n=>{u.portitemStyle.show=!1};return(n,i)=>o.value?(a(),d("div",{key:0,class:"disk-item-tooltip",style:J(c.value),onMouseenter:f,onMouseleave:h},[t("div",null,F(_(s.value.duplex)),1),t("div",null,"\u540D\u79F0\uFF1A"+F(s.value.name||"--"),1),t("div",null,"MAC\uFF1A"+F(s.value.macAddress||"--"),1),t("div",null,"\u63A5\u6536\uFF1A"+F(s.value.rx_packets||"--"),1),t("div",null,"\u53D1\u9001\uFF1A"+F(s.value.tx_packets||"--"),1)],36)):w("",!0)}});var j0=S(Z0,[["__scopeId","data-v-4955cc3f"]]);const X0={class:"next-main",style:{}},Y0={class:"content"},Q0=I({__name:"index",setup(e){return(u,s)=>(a(),d("div",X0,[B(Lu),t("div",Y0,[t("div",null,[B(Hu),B(Ro),B(wa),B(p1)]),t("div",null,[B(W0),B(D1),B(E0)])]),B(j0)]))}});var u2=S(Q0,[["__scopeId","data-v-745f7c2c"]]);export{u2 as default};
